!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bluesquare-components",[],t):"object"==typeof exports?exports["bluesquare-components"]=t():e["bluesquare-components"]=t()}(self,(()=>(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p:""},t={};const r=require("@babel/runtime/helpers/defineProperty");var o=e.n(r);const a=require("react");var n=e.n(a);const l=require("@material-ui/core/CircularProgress");var i=e.n(l);const s=require("@material-ui/core"),c=require("prop-types");var u=e.n(c);const d=require("classnames");var p=e.n(d);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const b={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.4)",top:0,left:0},f=e=>{const{classes:t,size:r,transparent:o,fixed:a,absolute:l,padding:s}=e;return n().createElement("div",{style:{padding:s},className:p()(a&&!l&&t.rootFixed,l&&t.rootAbsolute,!a&&!l&&t.root,o&&t.rootTransparent)},n().createElement(i(),{size:r}))};f.defaultProps={size:40,transparent:!1,fixed:!0,absolute:!1,padding:0},f.propTypes={size:u().number,transparent:u().bool,fixed:u().bool,absolute:u().bool,padding:u().number,classes:u().object.isRequired};const h=(0,s.withStyles)((()=>({rootFixed:m(m({},b),{},{position:"fixed",zIndex:"1000"}),rootAbsolute:m(m({},b),{},{position:"absolute",zIndex:"500"}),root:m(m({},b),{},{position:"relative",zIndex:"1"}),rootTransparent:{backgroundColor:"transparent"}})))(f),y=require("@material-ui/core/SvgIcon");var O=e.n(y);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const k=require("@babel/runtime/helpers/extends");var T=e.n(k);const S=require("react-intl");function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const I=e=>R(R({},e),{},{formatMessage:(t,r)=>t&&t.id?e.formatMessage(t,r):(console.warn("Warning: Message object is not defined properly!",t),null)});function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const D=e=>{const t=L({},e),r=e.component,o=I((0,S.useIntl)());return delete t.component,delete t.ref,n().createElement(r,T()({},t,{intl:o,forwardedRef:e.ref}))};D.defaultProps={ref:void 0},D.propTypes={component:u().any.isRequired,ref:u().object};const N=e=>n().forwardRef(((t,r)=>{const o=L(L({},t),{},{component:e,ref:r});return n().createElement(D,o)})),F=()=>{const e=(0,S.useIntl)();return(0,a.useMemo)((()=>I(e)),[e])},A=(e,t)=>{const r=(0,a.useRef)(!1);(0,a.useEffect)((()=>{r.current?e():r.current=!0}),t)},z=require("@material-ui/core/styles"),_={typography:{useNextVariants:!0},textColor:"#333",palette:{primary:{main:"#006699",secondary:"#0066cc",background:"#F5F5F5"},gray:{main:"#666",border:"rgba(0,0,0,0.02)",background:"rgba(0,0,0,0.03)"},mediumGray:{main:"#A2A2A2"},ligthGray:{main:"#F7F7F7",border:"rgba(0, 0, 0, 0.12)",background:"rgba(0, 0, 0, 0.012)"},error:{main:"rgb(215, 25, 28)",background:"rgba(215, 25, 28, 0.2)",backgroundHard:"rgba(215, 25, 28, 0.7)"},success:{main:"#4caf50",background:"rgba(76,175,80, 0.2)"},border:{main:"rgba(0,0,0,0.23)",hover:"rgba(0,0,0,0.87)"},yellow:{main:"#FFD835"}},props:{MuiTextField:{variant:"outlined"},MuiSelect:{variant:"outlined"}}},V=((0,z.createTheme)(_),require("@material-ui/core/styles/colorManipulator"));function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const G=e=>H(H({},(e=>({mapContainer:{height:"62vh",marginBottom:e.spacing(2),"& .leaflet-container .leaflet-popup-content a":{color:e.palette.primary.main},"& .marker-cluster.color":{color:"white"},"& .marker-cluster.color div":{marginLeft:2,marginTop:2,display:"flex",justifyContent:"center",alignItems:"center"},"& .marker-cluster.color div .border":{position:"absolute",display:"block",height:"100%",width:"100%",top:-2,left:-2,borderRadius:"100%",zIndex:-1},"& .marker-cluster.primary":{backgroundColor:(0,V.alpha)(e.palette.primary.main,.6)},"& .marker-cluster.primary > div":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .marker-custom":{zIndex:"500 !important"},"& .marker-custom.primary span":{position:"relative",display:"block",height:"100%",width:"100%"},"& .marker-custom .marker_bg, & .marker-custom.primary .marker_bg":{position:"absolute",display:"block",height:"10px",width:"10px",borderRadius:"10px",backgroundColor:"white",top:8,left:8},"& .marker-custom.color":{zIndex:"300 !important"},"& .marker-custom.color .svg-icon":{display:"block",height:"auto",width:16,position:"absolute",top:6,left:4,zIndex:200,borderRadius:"5px"},"& .marker-custom.color .marker_shadow":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none"},"& .marker-custom.color svg":{position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& .marker-custom.primary svg":{fill:e.palette.primary.main,position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& path.primary":{fill:(0,V.alpha)(e.palette.primary.main,.6),stroke:e.palette.primary.main},"& path.secondary":{fill:(0,V.alpha)(e.palette.secondary.main,.6),stroke:e.palette.secondary.main},"& path.no-pointer-event":{pointerEvents:"none !important"},"& .marker-custom.primary img":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none",width:"auto"},"& .leaflet-draw.leaflet-control":{display:"none"}}}))(e)),{},{containerFullHeight:{width:"100%",height:"calc(100vh - 112px)",margin:0,overflow:"auto",backgroundColor:"white"},containerFullHeightPadded:{width:"100%",height:"calc(100vh - 112px)",padding:e.spacing(4),margin:0,backgroundColor:"white",overflow:"auto",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},containerFullHeightNoTabPadded:{width:"100%",height:"calc(100vh - 65px)",padding:e.spacing(4),margin:0,overflow:"auto",backgroundColor:"white",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},indicator:{backgroundColor:"white"},buttonIcon:{marginRight:e.spacing(1),width:15,height:15},smallButtonIcon:{marginRight:e.spacing(1),width:15,height:15,position:"relative",top:-1},listitem:{width:"auto",paddingLeft:e.spacing(1)},marginY:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginBottomBig:{marginBottom:e.spacing(4)},paddingBottomBig:{marginBottom:e.spacing(4)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},marginTop:{marginTop:e.spacing(2)},marginTopBig:{marginTop:e.spacing(4)},justifyFlexEnd:{display:"flex",justifyContent:"flex-end"},floatRight:{float:"right"},tabs:{padding:e.spacing(0,4)},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},dividerMarginNeg:{margin:e.spacing(0,-4,0,-4)},containerMarginNeg:{margin:e.spacing(0,-4,-4,-4),width:`calc(100% + ${e.spacing(8)})`},relativeContainer:{position:"relative"},svgIcon:{width:24,heigth:24},svgChipIcon:{width:20,heigth:20,padding:4},textError:{color:e.palette.error.main,display:"flex",alignItems:"center"},popperFixed:{position:"fixed !important"},iconButton:{padding:0},linkButton:{color:"inherit",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",height:e.spacing(6),width:e.spacing(6)},capitalize:{display:"inline-block","&:first-letter":{textTransform:"uppercase"}}}),W=require("@material-ui/icons/Add");var Y=e.n(W);const U=(0,S.defineMessages)({create:{id:"blsq.button.label.create",defaultMessage:"Create"}});function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function K({classes:e,onClick:t,message:r,id:o,dataTestId:a,size:l}){const i=F();return n().createElement(s.Button,{variant:"contained",className:e.button,color:"primary",onClick:t,id:o,"data-test":a,size:l},n().createElement(Y(),{className:e.buttonIcon}),i.formatMessage(r))}K.defaultProps={message:U.create,id:"",dataTestId:"",size:"medium"},K.propTypes={classes:u().object.isRequired,onClick:u().func.isRequired,message:u().object,id:u().string,dataTestId:u().string,size:u().string},(0,s.withStyles)((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},G(e))))(K);const Q=require("@material-ui/icons/CallMade");var Z=e.n(Q);const X=(0,S.defineMessages)({export:{id:"blsq.button.label.export",defaultMessage:"Export"}});function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re({classes:e,intl:t,onClick:r,message:o,isDisabled:a,batchExport:l,id:i}){return l?n().createElement(s.Button,{variant:"contained",className:e.button,color:"primary",onClick:r,disabled:a,id:i},n().createElement(Z(),{className:e.buttonIcon}),t.formatMessage(o)):n().createElement(Z(),{onClick:r,disabled:a})}re.defaultProps={message:X.export,isDisabled:!1,id:""},re.propTypes={intl:u().object.isRequired,classes:u().object.isRequired,onClick:u().func.isRequired,isDisabled:u().bool,batchExport:u().bool.isRequired,message:u().object,id:u().string},(0,s.withStyles)((e=>te(te({},G(e)),{},{button:{marginLeft:e.spacing(2),"& svg, & i":{marginRight:e.spacing(1)}}})))(N(re));const oe=require("@material-ui/icons/Delete");var ae=e.n(oe);const ne=require("@material-ui/icons/FilterList");var le=e.n(ne);const ie=require("@material-ui/icons/CallMerge");var se=e.n(ie);const ce=require("@material-ui/icons/RemoveRedEye");var ue=e.n(ce);const de=require("@material-ui/icons/Edit");var pe=e.n(de);const ge=require("@material-ui/icons/History");var me=e.n(ge);const be=require("@material-ui/icons/Map");var fe=e.n(be);const he=require("@material-ui/icons/CachedRounded");var ye=e.n(he);const Oe=require("@material-ui/icons/StopRounded");var ve=e.n(Oe);const we=require("@material-ui/icons/GetApp");var xe=e.n(we);const qe=require("@material-ui/icons/RestoreFromTrash");var Ce=e.n(qe);const Ee=require("@material-ui/icons/Public");var Pe=e.n(Ee);const je=require("@material-ui/icons/Clear");var ke=e.n(je);const Te=require("@material-ui/icons/ClearAll");var Se=e.n(Te);require("@babel/runtime/helpers/objectWithoutProperties");const Me=(0,a.createContext)({});function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}c.any.isRequired,c.any.isRequired;const Be={delete:ae(),"filter-list":le(),"call-merge":se(),"remove-red-eye":ue(),"restore-from-trash":Ce(),edit:pe(),history:me(),map:fe(),xml:function(e){const t=j(j({},e),{},{viewBox:"0 0 40 40"});return n().createElement(O(),t,n().createElement("g",null,n().createElement("path",{d:"M15.2,3L7,11.6v22.9h25.5V3H15.2z M14.5,6.6v3.8h-3.7L14.5,6.6z M30.5,32.5H9V12.4h7.4V5h14.1V32.5z"}),n().createElement("g",null,n().createElement("path",{d:"M12.4,28.1L10.7,31H9.4l2.4-4l-2.2-3.9h1.3l1.6,2.7l1.6-2.7h1.3L13,27l2.5,4h-1.3L12.4,28.1z"}),n().createElement("path",{d:"M16.4,23.1h1.1l2.2,5.2l2.2-5.2h1.1V31h-1.2v-4.9h0l-1.6,3.8h-1l-1.6-3.8h0V31h-1.2V23.1z"}),n().createElement("path",{d:"M25,23.1h1.2v6.8H30V31h-5V23.1z"}))))},dhis:function(e){const t=w(w({},e),{},{viewBox:"0 0 200 182"});return n().createElement(O(),t,n().createElement("g",null,n().createElement("path",{d:"M191.73,60,109,6.34a19.73,19.73,0,0,0-20.32,0L8.31,58.43a12,12,0,0,0-.25,20.63L88.6,134a19.37,19.37,0,0,0,20.37.25l82.76-53.65a11.88,11.88,0,0,0,0-20.59Zm-91,61.45a4.29,4.29,0,0,1-3.49-.05l-77-52.49L97,19.13a4.76,4.76,0,0,1,3.74,0L179.6,70.28Z"}),n().createElement("path",{d:"M88.66,47.82,45.1,76.06l13.61,9.33L97,60.61a4.76,4.76,0,0,1,3.74,0l39.37,25.52,14-9.06L109,47.82A19.76,19.76,0,0,0,88.66,47.82Z"}),n().createElement("path",{d:"M191.73,101.46l-8.62-5.59-14.05,9.06,10.53,6.83-78.91,51.15a4.37,4.37,0,0,1-3.49,0l-77-52.5,10-6.47L16.55,94.57,8.31,99.91a12,12,0,0,0-.25,20.63L88.6,175.46a19.34,19.34,0,0,0,20.37.24l82.75-53.65a11.88,11.88,0,0,0,0-20.59Z"})))},orgUnit:function(e){const t=E(E({},e),{},{viewBox:"0 0 85 85"});return n().createElement(O(),t,n().createElement("path",{d:"M17.518403,78.3591 C16.2139001,78.3570957 15.0595734,77.5172438 14.660803,76.28 L0.1493927,31.77603 C-0.249658449,30.5438778 0.191427305,29.1958057 1.242723,28.43453 L39.235803,0.93513 C40.2882476,0.175265921 41.7117584,0.175265921 42.764203,0.93513 L80.757302,28.43453 C81.8085865,29.1958138 82.2496596,30.5438843 81.850602,31.77603 L67.339202,76.28 C66.9404317,77.5172435 65.7861055,78.3570953 64.481603,78.3591 L17.518403,78.3591 L17.518403,78.3591 Z M19.705003,72.3692 L62.295003,72.3692 L75.464602,31.99883 L41.000003,7.07363 L6.535413,31.99883 L19.705003,72.3692 Z"}))},refresh:ye(),stop:ve(),xls:function(e){const t=q(q({},e),{},{viewBox:"-7 -3 40 40"});return n().createElement(O(),t,n().createElement("g",null,n().createElement("path",{d:"M11.15,0L3.011,8.592v22.834h25.403V0H11.15z M10.434,3.613v3.808H6.826L10.434,3.613z M26.449,29.462H4.977V9.385h7.421 V1.964h14.053v27.498H26.449z"}),n().createElement("path",{d:"M15.004,14.766h0.491v-1.768H9.444v1.768h0.737c0.202,0,0.402,0.055,0.617,0.168c0.203,0.107,0.396,0.306,0.572,0.585 l2.919,4.738l-2.939,4.21c-0.16,0.229-0.306,0.421-0.438,0.576c-0.113,0.133-0.228,0.242-0.337,0.321 c-0.098,0.07-0.198,0.119-0.307,0.148c-0.127,0.034-0.282,0.051-0.462,0.051H9.198v1.769h5.438v-1.276l-0.055-0.49H14.09 c-0.449,0-0.643-0.057-0.724-0.094c0-0.053,0.01-0.115,0.028-0.186c0.024-0.088,0.055-0.176,0.095-0.264 c0.043-0.097,0.087-0.188,0.138-0.279c0.046-0.084,0.091-0.159,0.139-0.229l1.65-2.44l1.769,2.843 c0.068,0.114,0.123,0.209,0.159,0.289c0.036,0.077,0.05,0.121,0.054,0.139l0.013,0.108c0,0-0.112,0.113-0.625,0.113h-0.592v1.768 h6.033v-1.768h-0.729c-0.144,0-0.3-0.052-0.464-0.151c-0.133-0.08-0.35-0.259-0.616-0.613l-3.272-5.259l2.529-3.646 c0.164-0.238,0.314-0.437,0.452-0.594c0.125-0.142,0.246-0.26,0.362-0.349c0.092-0.069,0.182-0.116,0.272-0.142 c0.104-0.03,0.226-0.045,0.361-0.045h0.655v-1.768h-5.074v1.277l0.055,0.491h0.491c0.125,0,0.237,0.006,0.341,0.02 c0.091,0.011,0.145,0.029,0.173,0.029h0.001c0,0.1-0.027,0.213-0.085,0.336c-0.075,0.168-0.176,0.346-0.301,0.535l-1.349,2.051 l-1.287-2.08c-0.095-0.15-0.17-0.276-0.222-0.375c-0.047-0.09-0.083-0.168-0.107-0.231c-0.017-0.046-0.029-0.087-0.033-0.113 c-0.006-0.039-0.009-0.08-0.031-0.089c0.002-0.001,0.042-0.025,0.162-0.049C14.628,14.776,14.775,14.766,15.004,14.766z"})))},download:xe(),globe:Pe(),clear:ke(),clearAll:Se()},Le=({icon:e,color:t,onClick:r,disabled:o,fontSize:a})=>{if(void 0===e)return"wrong icon";const l=null!==r?{onClick:r}:{},i={color:"white"===t?t:void 0,opacity:o?.5:1};return n().createElement(e,T()({},l,{color:"white"===t?"inherit":t,style:i,fontSize:a}))};function De({classes:e,disabled:t,onClick:r,url:o,icon:l,overrideIcon:i,tooltipMessage:c,color:u,size:d,id:p,dataTestId:g,iconSize:m}){null===r==(null===o)&&console.error("IconButtonComponent needs either the onClick or the url property"),l||i||console.error("IconButtonComponent has to be provided with an icon");const b=(0,a.useContext)(Me).Link.__forwardRef__,f=null!=i?i:Be[l];return n().createElement(s.Tooltip,{classes:{popper:e.popperFixed},disableFocusListener:t,disableHoverListener:t,disableTouchListener:t,placement:"bottom",title:n().createElement(S.FormattedMessage,c)},n().createElement("span",{id:p},n().createElement(s.IconButton,{className:o&&e.iconButton,disabled:t,onClick:r,size:d,"data-test":g},o?n().createElement(b,{to:o,className:e.linkButton},n().createElement(Le,{icon:f,color:u,disabled:t,fontSize:m})):n().createElement(Le,{icon:f,color:u,disabled:t,fontSize:m}))))}Le.defaultProps={onClick:null,disabled:!1,fontSize:"medium"},Le.propTypes={onClick:u().func,icon:u().oneOfType([u().object,u().func]).isRequired,color:u().string.isRequired,disabled:u().bool,fontSize:u().oneOf(["small","medium","large","default","inherit"])},De.defaultProps={disabled:!1,url:null,onClick:null,color:"action",size:"medium",overrideIcon:null,icon:null,id:"",dataTestId:"",iconSize:"medium"},De.propTypes={size:u().string,classes:u().object.isRequired,onClick:u().func,url:u().string,disabled:u().bool,icon:u().oneOf(Object.keys(Be)),color:u().string,overrideIcon:u().any,tooltipMessage:u().object.isRequired,id:u().string,dataTestId:u().string,iconSize:u().oneOf(["small","medium","large","default","inherit"])};const Ne=(0,s.withStyles)((e=>Ie(Ie({},G(e)),{},{white:{color:"white"},popperFixed:Ie(Ie({},G(e).popperFixed),{},{marginTop:e.spacing(1)})})))(De),Fe=require("color");var Ae=e.n(Fe);const ze=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",_e=e=>{const t=[];return e&&e.forEach(((e,r)=>{t.push({value:e,position:r})})),t},Ve=e=>{const t=[];return e&&e.forEach((e=>{t.push(e.value)})),t};function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Ge extends a.Component{constructor(e){super(e),this.state={tabIndex:parseInt(e.params[e.tabParamKey],10)||0,tabsWidth:[]}}handleAddTab(){const{params:e,defaultItem:t,paramKey:r,tabParamKey:o,onTabsAdded:a}=this.props,n=He({},this.state),l=JSON.parse(e[r]);n.tabIndex=l.length,l.push(t);const i=He({},e);i[o]=n.tabIndex.toString(),i[r]=JSON.stringify(l),this.setState(n),a(i)}handleDeleteTab(e){const{params:t,paramKey:r,tabParamKey:o,onTabsDeleted:a}=this.props,n=JSON.parse(t[r]);n.splice(e,1);const l=He({},t);l[r]=JSON.stringify(n),this.state.tabIndex>n.length-1&&(l[o]=(n.length-1).toString(),this.setState({tabIndex:n.length-1})),a(l)}handleTabChange(e){const{params:t,paramKey:r,tabParamKey:o,onTabChange:a}=this.props,n=He({},this.state),l=JSON.parse(t[r]);n.tabIndex=e;const i=He({},t);i[o]=n.tabIndex.toString(),i[r]=JSON.stringify(l),a(i),this.setState(n)}setTabsElement(e,t){const{tabsWidth:r}=this.state,o=e.getBoundingClientRect().width;if(o!==r[t]){const e=[...r];e[t]=o,this.setState({tabsWidth:e})}}render(){const{classes:e,baseLabel:t,params:r,paramKey:o,maxItems:a,displayCounts:l,counts:i,addMessage:c,deleteMessage:u}=this.props,{tabIndex:d,tabsWidth:p}=this.state,g=JSON.parse(r[o]);return n().createElement("section",{className:e.mainContainer},n().createElement("div",{className:e.tabsContainer},g.length>1&&n().createElement("ul",{className:e.removeContainer},g.map(((r,o)=>n().createElement("li",{className:e.removeContainerItem,key:o,style:{width:`${p[o]}px`}},n().createElement(s.Tooltip,{size:"small",title:n().createElement(n().Fragment,null,n().createElement(S.FormattedMessage,u),` ${t.toLowerCase()}`)},n().createElement(s.IconButton,{onClick:()=>this.handleDeleteTab(o),className:e.removeIconButton,size:"small"},n().createElement(ke(),null))))))),n().createElement(s.Tabs,{value:d,classes:{root:e.tabs,indicator:e.indicator},onChange:(e,t)=>this.handleTabChange(t)},g.map(((r,o)=>n().createElement(s.Tab,{ref:e=>{e&&this.setTabsElement(e,o)},key:o,value:o,label:n().createElement("span",{className:g.length>1?e.tabContent:e.tabContentAlone},n().createElement("span",{style:r.color?{backgroundColor:`#${r.color}`,border:`2px solid ${Ae()(`#${r.color}`).darken(.5)}`}:{},className:e.roundColor}),t,l&&i[o]&&` (${ze(i[o].count)})`)}))))),g.length<a&&n().createElement(s.Tooltip,{size:"small",title:n().createElement(n().Fragment,null,n().createElement(S.FormattedMessage,c),` ${t.toLowerCase()}`)},n().createElement(s.IconButton,{onClick:()=>this.handleAddTab(),className:e.iconButton,size:"small"},n().createElement(Y(),null))))}}Ge.defaultProps={baseLabel:"tab",maxItems:5,onTabsAdded:()=>({}),onTabsDeleted:()=>({}),onTabChange:()=>({}),displayCounts:!1,counts:[]},Ge.propTypes={classes:u().object.isRequired,baseLabel:u().string,params:u().object.isRequired,defaultItem:u().object.isRequired,paramKey:u().string.isRequired,tabParamKey:u().string.isRequired,baseUrl:u().string.isRequired,redirectTo:u().func.isRequired,maxItems:u().number,onTabsAdded:u().func,onTabsDeleted:u().func,onTabChange:u().func,displayCounts:u().bool,counts:u().array,deleteMessage:u().object.isRequired,addMessage:u().object.isRequired},(0,s.withStyles)((e=>He(He({},G(e)),{},{tabs:He(He({},G(e).tabs),{},{paddingRight:0}),mainContainer:{display:"flex",position:"relative"},tabsContainer:{position:"relative"},iconButton:{color:"white !important",height:30,position:"relative",top:8},removeIconButton:{color:"white !important",position:"relative",top:19,right:15,height:20,"& svg":{width:14,height:14}},removeContainer:{padding:0,margin:0,position:"absolute",left:e.spacing(4),top:-5,minHeight:0,height:1,width:`calc(100% - ${e.spacing(4)}px)`,display:"flex",listStyleType:"none",zIndex:1e5},removeContainerItem:{display:"inline-flex",justifyContent:"flex-end",minWidth:160,fontSize:5},roundColor:{display:"inline-block",width:15,height:15,borderRadius:15,position:"absolute",top:16,left:e.spacing(2)},tabContentAlone:{paddingRight:e.spacing(2),paddingLeft:e.spacing(4)},tabContent:{paddingRight:e.spacing(6),paddingLeft:e.spacing(6)}})))(Ge);const We=require("@material-ui/pickers"),Ye=require("@material-ui/icons/Event");var Ue=e.n(Ye);const Je=require("@material-ui/core/FormControl");var Ke=e.n(Je);function Qe({classes:e,children:t,errors:r,id:o,hideError:a}){const l={};return o&&(l.id=o),n().createElement(Ke(),T()({className:e.formControl,variant:"outlined"},l),t,r.length>0&&!a&&n().createElement(s.Box,{className:e.errorContainer},r.filter((e=>!!e)).map((t=>n().createElement(s.Typography,{key:t,className:e.error},t)))))}Qe.defaultProps={errors:[],id:null,hideError:!1},Qe.propTypes={classes:u().object.isRequired,children:u().node.isRequired,errors:u().arrayOf(u().string.isRequired),id:u().oneOfType([u().object,u().string]),hideError:u().bool};const Ze=(0,s.withStyles)((e=>({formControl:{width:"100%","& fieldset":{borderWidth:"1px !important"},"&:hover fieldset":{borderColor:`${e.palette.primary.main}`},"&:focused label":{color:`${e.palette.primary.main}`},zIndex:"auto"},errorContainer:{paddingLeft:e.spacing(2),paddingTop:e.spacing(1)},error:{color:e.palette.error.main,fontSize:14,padding:0}})))(Qe);function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const tt=(0,s.makeStyles)((e=>et(et({},G(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}}))),rt=({label:e,onChange:t,currentDate:r,clearMessage:o,required:l,errors:i,hideError:s})=>{const c=tt(),[u,d]=(0,a.useState)(null),p=i.length>0||Boolean(u);return n().createElement(Ze,{errors:i,hideError:s},n().createElement(We.KeyboardDatePicker,{autoOk:!0,disableToolbar:!0,inputVariant:"outlined",required:l,InputLabelProps:{className:c.label,shrink:Boolean(r),error:p},KeyboardButtonProps:{size:"small"},keyboardIcon:n().createElement(Ue(),{size:"small"}),InputProps:{error:p},helperText:null,format:"DD/MM/YYYY",label:`${e}`,value:r,onChange:t,onError:e=>d(e)}),r&&n().createElement("span",{className:c.clearDateButton},n().createElement(Ne,{size:"small",icon:"clear",tooltipMessage:o,onClick:()=>t(null)})))};rt.defaultProps={currentDate:null,required:!1,errors:[],hideError:!1},rt.propTypes={label:u().string.isRequired,onChange:u().func.isRequired,currentDate:u().oneOfType([u().string,u().object]),errors:u().array,clearMessage:u().object.isRequired,required:u().bool,hideError:u().bool};const ot=require("@material-ui/core/ListItem");var at=e.n(ot);const nt=require("@material-ui/core/OutlinedInput");var lt=e.n(nt);const it=require("@material-ui/core/Fab");var st=e.n(it);function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class dt extends a.Component{constructor(e){super(e),this.state={fieldList:_e(e.fieldList)}}UNSAFE_componentWillReceiveProps(e){this.setState({fieldList:_e(e.fieldList)})}updateField(e,t){const r=this.state.fieldList.slice();r[t].value=e,this.props.updateList(Ve(r))}addField(){const e=this.state.fieldList.slice();e.push({value:"",position:this.state.fieldList.length}),this.props.updateList(Ve(e))}removeField(e){const t=this.state.fieldList.slice();t.splice(e,1),this.props.updateList(Ve(t))}render(){const{baseId:e,label:t,classes:r,autoComplete:o}=this.props,{fieldList:a}=this.state,l=a.length>0&&""===a[a.length-1].value;return n().createElement(s.Grid,{container:!0,spacing:0,className:r.marginTop},n().createElement(s.Grid,{item:!0,xs:1},n().createElement("span",{className:r.label},t,":")),n().createElement(s.Grid,{item:!0,xs:11},n().createElement(s.Box,{id:`array-input-field-list-${e}`},n().createElement(s.List,{className:r.list},a.map(((t,a)=>n().createElement(at(),{key:t.position,className:r.listItem},n().createElement(lt(),{autoComplete:o,className:r.input,id:`${e}-${t.position}`,value:t.value||"",onChange:e=>this.updateField(e.currentTarget.value,a)}),n().createElement(s.IconButton,{className:r.deleteIcon,color:"inherit",onClick:()=>this.removeField(a)},n().createElement(ae(),null))))),n().createElement(at(),{className:r.addListItem},n().createElement(st(),{disabled:l,className:r.Fab,size:"small",color:"primary","aria-label":"add",onClick:()=>this.addField()},n().createElement(Y(),null)))))))}}dt.defaultProps={fieldList:[],label:"",autoComplete:"off"},dt.propTypes={fieldList:u().array,baseId:u().string.isRequired,updateList:u().func.isRequired,classes:u().object.isRequired,label:u().string,autoComplete:u().string},(0,s.withStyles)((e=>ut(ut({},G(e)),{},{label:{top:e.spacing(2),position:"relative",color:e.textColor,fontSize:16},list:{width:"100%",padding:"0"},listItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",padding:"0",marginBottom:e.spacing(1)},addListItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0",marginBottom:e.spacing(2)},input:{width:"95%",marginLeft:"5%"},deleteIcon:{position:"absolute",right:e.spacing(1)}})))(dt);const pt=({value:e,disabled:t,label:r,onChange:o,keyValue:a})=>n().createElement(s.FormControlLabel,{disabled:t,control:n().createElement(s.Checkbox,{id:`check-box-${a}`,color:"primary",checked:!0===e,onChange:e=>o(e.target.checked),value:"checked",disabled:t}),label:r});pt.defaultProps={value:!1,disabled:!1,onChange:()=>{},label:""},pt.propTypes={value:u().bool,disabled:u().bool,label:u().string,onChange:u().func,keyValue:u().string.isRequired};const gt=require("@material-ui/icons/Info");var mt=e.n(gt);const bt=require("@material-ui/core/InputLabel");var ft=e.n(bt);const ht=(0,z.makeStyles)((e=>({inputLabel:{color:"rgba(0, 0, 0, 0.4)",paddingLeft:3,paddingRight:3,transition:e.transitions.create(["all"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},shrink:{fontSize:20,marginTop:-2,backgroundColor:"white"},popupIndicator:{marginRight:"6px !important",marginLeft:"6px !important"},clearIndicator:{marginTop:-2},hasClearIcon:{"& .MuiAutocomplete-inputRoot":{paddingRight:"85px !important"}}})));function yt({htmlFor:e,label:t,required:r,shrink:o,error:a}){const l=ht();return n().createElement(ft(),{name:e.replace("input-text-",""),htmlFor:e,classes:{shrink:l.shrink},className:l.inputLabel,shrink:o,error:a},t,r&&n().createElement("sup",null," *"))}yt.defaultProps={shrink:!0,error:!1,label:""},yt.propTypes={htmlFor:u().string.isRequired,label:u().string,required:u().bool.isRequired,shrink:u().bool,error:u().bool};const Ot=(0,S.defineMessages)({min:{id:"blsq.input.label.min",defaultMessage:"Minimum"},max:{id:"blsq.input.label.max",defaultMessage:"Maximum"}}),vt=(e,t,r,o="")=>{if("number"==typeof e)return e;if(void 0===e||null==e)return"";const a=e.split(""),n=a.filter((e=>"."===e));if(1===n.length&&"."===a[a.length-1]&&!Number.isNaN(parseInt(a[a.length-2],10)))return e;if(1===n.length&&"."===a[a.length-2]&&Number.isNaN(parseInt(a[a.length-1],10)))return a.pop(),a.join("");const l=parseFloat(e);return Number.isNaN(l)?"":t&&l<t||r&&l>r?o:l},wt=({keyValue:e,label:t,errors:r,required:o,value:l,disabled:i,onChange:c,multiline:u,autoComplete:d,min:p=-1/0,max:g=1/0})=>{const m=r.length>=1,[b,f]=(0,a.useState)(vt(l,p,g));(0,a.useEffect)((()=>{const e=vt(l,p,g,b);e!==b&&e>p&&e<g&&f(e)}),[l,b]);const h=((e,t)=>{const{formatMessage:r}=F();let o="";return!e&&0!==e||e===-1/0||(o=`${r(Ot.min)}: ${e}`,t&&t!==1/0&&(o+=" - ")),!t&&0!==t||t===1/0||(o+=`${r(Ot.max)}: ${t}`),o})(p,g);return n().createElement(Ze,{errors:r},n().createElement(yt,{htmlFor:`input-text-${e}`,label:t,required:o,error:m,shrink:""!==l}),n().createElement(s.OutlinedInput,{autoComplete:d,size:"small",multiline:u,disabled:i,id:`input-text-${e}`,value:b,type:"text",endAdornment:""!==h&&n().createElement(s.Tooltip,{title:h},n().createElement(mt(),{color:"action"})),onChange:e=>{const t=vt(e.target.value,p,g,b);t!==b&&(f(t),c(t))},error:m}))};wt.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off",min:void 0,max:void 0},wt.propTypes={errors:u().arrayOf(u().string),keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,multiline:u().bool,value:u().oneOfType([u().string,u().number]),onChange:u().func,autoComplete:u().string,min:u().number,max:u().number};const xt=(0,S.defineMessages)({displayPassword:{id:"blsq.button.label.displayPassword",defaultMessage:"Display the pasword"}}),qt=({keyValue:e,label:t,errors:r,required:o,value:l,disabled:i,onChange:c,multiline:u,displayPassword:d,classes:p,autoComplete:g})=>{const m=r.length>=1,[b,f]=(0,a.useState)(d),h=F();return n().createElement(Ze,{errors:r},n().createElement(yt,{htmlFor:`input-text-${e}`,label:t,required:o,error:m,shrink:""!==l}),n().createElement(s.OutlinedInput,{size:"small",autoComplete:g,multiline:u,disabled:i,id:`input-text-${e}`,value:l,type:b?"text":"password",onChange:e=>c(e.target.value),error:m,className:p.passwordInput}),n().createElement(s.Tooltip,{className:p.displayPassword,disableFocusListener:i,disableHoverListener:i,disableTouchListener:i,placement:"bottom",title:h.formatMessage(xt.displayPassword)},n().createElement("span",null,n().createElement(s.IconButton,{color:b?"primary":"inherit",onClick:()=>{f((e=>!e))}},n().createElement(pe(),null)))))};qt.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},displayPassword:!1,label:"",autoComplete:"new-password"},qt.propTypes={errors:u().arrayOf(u().string),keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,multiline:u().bool,value:u().string,onChange:u().func,displayPassword:u().bool,classes:u().object.isRequired,autoComplete:u().string},(0,s.withStyles)((e=>({displayPassword:{position:"absolute",top:4,right:e.spacing(2)},passwordInput:{paddingRight:e.spacing(8)}})))(qt);const Ct=({options:e,name:t,onChange:r,value:o,label:a,errors:l,className:i})=>n().createElement(s.FormControl,{component:"fieldset",error:l.length>0,variant:"outlined"},n().createElement(s.FormLabel,{component:"legend",style:{fontSize:12}},a),n().createElement(s.RadioGroup,{className:i,name:t,value:o,onChange:e=>{r(e.target.value)}},e.map((e=>n().createElement(s.FormControlLabel,{key:e.value,value:e.value,control:n().createElement(s.Radio,{color:"primary"}),label:e.label,disabled:e.disabled})))));Ct.defaultProps={options:[],onChange:()=>{},value:"",label:"",errors:[],className:""},Ct.propTypes={options:u().array,name:u().string.isRequired,onChange:u().func,value:(0,c.oneOfType)([u().string,u().bool]),label:u().string,errors:u().arrayOf(u().string),className:u().string};const Et=require("@material-ui/icons/Search");var Pt=e.n(Et);const jt=(0,S.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"},search:{id:"blsq.table.filter.search",defaultMessage:"search"}}),kt=({label:e,required:t,keyValue:r,disabled:o,clearable:l,value:i,onEnterPressed:c,onChange:u,classes:d,uid:p,errors:g=[],autoComplete:m})=>{const b=g.length>=1,[f,h]=(0,a.useState)(i||""),y=(0,a.useMemo)((()=>""!==i),[i]);return A((()=>{u(f)}),[f]),A((()=>{i!==f&&h(i)}),[i]),n().createElement(Ze,{errors:g},n().createElement(yt,{htmlFor:`search-${r}`,label:e,required:t,shrink:null!=i&&""!==i,error:b}),n().createElement(s.OutlinedInput,{autoComplete:m,disabled:o,error:b,id:p?`search-${p}`:`search-${r}`,value:f,placeholder:"",onKeyPress:e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||c()},classes:{root:d.inputRoot,input:d.inputInput},endAdornment:n().createElement(n().Fragment,null,l&&y&&n().createElement(Ne,{size:"small",onClick:()=>{h("")},icon:"clear",tooltipMessage:jt.clear}),n().createElement("div",{className:d.searchIconWrapper,tabIndex:0,role:"button",onClick:()=>c()},n().createElement(Pt(),null))),inputProps:{"aria-label":"search"},onChange:e=>h(e.target.value)}))};kt.defaultProps={value:"",disabled:!1,clearable:!0,required:!1,onEnterPressed:()=>{},onChange:()=>{},uid:"",label:"",errors:[],autoComplete:"off"},kt.propTypes={keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,clearable:u().bool,value:u().string,onEnterPressed:u().func,onChange:u().func,uid:u().string,classes:u().object.isRequired,errors:u().arrayOf(u().string),autoComplete:u().string};const Tt=(0,s.withStyles)((e=>({icon:{right:e.spacing(2)},search:{position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit",display:"flex",alignItems:"center"},inputInput:{paddingRight:e.spacing(7),width:"100%"},searchIconWrapper:{width:e.spacing(3),height:e.spacing(3)}})))(kt),St=require("@material-ui/core/Box");var Mt=e.n(St);const Rt=require("@material-ui/lab/Autocomplete");var It=e.n(Rt);const Bt=(0,S.defineMessages)({noOptions:{id:"blsq.button.label.noOptions",defaultMessage:"No results found"},valueNotFound:{id:"blsq.button.label.valueNotFound",defaultMessage:"Value not found in possible options"},oneValueNotFound:{id:"blsq.button.label.oneValueNotFound",defaultMessage:'Value "{value}" not found in possible options'},loadingOptions:{id:"blsq.select.label.loadingText",defaultMessage:"Loading..."}}),Lt=require("@material-ui/core/Chip");var Dt=e.n(Lt);const Nt=e=>(t,r)=>t.map(((t,o)=>n().createElement(Dt(),T()({color:"secondary",style:{backgroundColor:t.color,color:"white"},label:e(t)},r({index:o}))))),Ft=(e,t,r)=>{const o={getOptionLabel:e||(e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:e.toString()}),getOptionSelected:t||((e,t)=>null!=t&&t.value?`${e.value}`==`${t.value}`:!!t&&`${e.value}`==`${t}`)};return r&&(o.renderOption=r),o},At=(e,t)=>t.find((t=>`${t.value}`==`${e}`)),zt=require("@material-ui/core/TextField");var _t=e.n(zt);function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ht=({params:e,renderOption:t,disabled:r,label:o,required:a,onBlur:l,errors:i,helperText:c,loading:u,autoComplete:d})=>{const p=ht(),g=$t({},e);let m={};return t&&e.inputProps.value&&(m={startAdornment:n().createElement("div",{className:p.startAdornment},t({label:e.inputProps.value})),style:{color:"transparent"}},g.inputProps.value=""),n().createElement(Ze,{errors:i},n().createElement(_t(),T()({},g,{variant:"outlined",disabled:r,label:`${o}${a?"*":""}`,onBlur:l,error:i.length>0,InputLabelProps:{classes:{shrink:p.shrink},className:p.inputLabel},helperText:c,InputProps:$t($t({},e.InputProps),{},{autoComplete:d,endAdornment:n().createElement(n().Fragment,null,u?n().createElement(s.CircularProgress,{color:"inherit",size:20}):null,e.InputProps.endAdornment)},m)})))};Ht.defaultProps={helperText:null,renderOption:null,autoComplete:"off"},Ht.propTypes={renderOption:u().oneOfType([u().object,u().func]),params:u().object.isRequired,disabled:u().bool.isRequired,label:u().string.isRequired,required:u().bool.isRequired,onBlur:u().func.isRequired,errors:u().array.isRequired,helperText:u().oneOfType([u().object,u().string]),loading:u().bool.isRequired,autoComplete:u().string};const Gt=({value:e,keyValue:t,label:r,errors:o,onChange:l,options:i,onBlur:s,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:g,getOptionSelected:m,loading:b,loadingText:f,renderOption:h,renderTags:y,returnFullObject:O,helperText:v})=>{const{formatMessage:w}=F(),x=ht(),q=(0,a.useMemo)((()=>{const t=[...o],r=!At(e,i);return e&&!b&&r&&t.push(w(Bt.valueNotFound)),t}),[e,i,o,b]),C=(0,a.useMemo)((()=>{var t;return e?null!==(t=At(e,i))&&void 0!==t?t:e:null}),[e,i]),E=(0,a.useCallback)(((e,t)=>{var r;return l(null!==(r=null==t?void 0:t.value)&&void 0!==r?r:null)}),[l,O]),P=Ft(g,m,h);return n().createElement(Mt(),null,n().createElement(It(),T()({disabled:c,noOptionsText:w(p),multiple:!1,id:t,disableClearable:!u,options:i,value:C,onChange:E,loading:b,loadingText:w(f),closeIcon:n().createElement(ke(),null),renderTags:y,renderInput:e=>n().createElement(Ht,{params:e,renderOption:h,disabled:c,label:r,required:d,onBlur:s,errors:q,helperText:v,loading:b}),classes:{popupIndicator:x.popupIndicator,clearIndicator:x.clearIndicator,hasClearIcon:x.hasClearIcon}},P)))};Gt.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,noOptionsText:Bt.noOptions,loadingText:Bt.loadingOptions,helperText:void 0,renderTags:Nt((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},Gt.propTypes={errors:u().arrayOf(u().string),keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,clearable:u().bool,value:u().any,onBlur:u().func,loadingText:u().oneOfType([u().object,u().string]),noOptionsText:u().oneOfType([u().object,u().string]),helperText:u().oneOfType([u().object,u().string]),options:u().array,loading:u().bool,onChange:u().func.isRequired,getOptionLabel:u().oneOfType([u().object,u().func]),getOptionSelected:u().oneOfType([u().object,u().func]),renderOption:u().oneOfType([u().object,u().func]),renderTags:u().func,returnFullObject:u().bool};const Wt=e=>{const[t,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const t=(t,o)=>{t.key===e&&r(o)},o=e=>{t(e,!0)},a=e=>{t(e,!1)};return document.addEventListener("keydown",o),document.addEventListener("keyup",a),document.addEventListener("blur",a),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",a),document.removeEventListener("blur",a)}}),[t]),t},Yt=({value:e,keyValue:t,label:r,errors:o,onChange:l,options:i,onBlur:s,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:g,getOptionSelected:m,loading:b,renderOption:f,renderTags:h,returnFullObject:y,helperText:O,loadingText:v})=>{const{formatMessage:w}=F(),x=ht(),q=Wt("Shift"),C=(0,a.useMemo)((()=>e?Array.isArray(e)?e:e.split(","):[]),[e]),E=Ft(g,m,f),P=(0,a.useMemo)((()=>{const t=[...o];return e&&!b&&C.forEach((e=>{const r=!((e,t,r)=>t.find((t=>r(t,e))))(e,i,E.getOptionSelected);r&&t.push(w(Bt.oneValueNotFound,{value:`${E.getOptionLabel(e)}`}))})),t}),[e,i,o,b]),j=(0,a.useMemo)((()=>e?y?C:C.map((e=>At(e,i))).filter((e=>e)):[]),[e,i]),k=(0,a.useCallback)(((e,t)=>0===t.length?l(null):l(y?t:t.map((e=>null==e?void 0:e.value)).join(","))),[l,y]);return n().createElement(Mt(),null,n().createElement(It(),T()({disabled:c,noOptionsText:w(p),multiple:!0,disableCloseOnSelect:q,id:t,disableClearable:!u,options:i,value:j,onChange:k,loading:b,loadingText:w(v),closeIcon:n().createElement(ke(),null),renderTags:h,renderInput:e=>n().createElement(Ht,{params:e,renderOption:f,disabled:c,label:r,required:d,onBlur:s,errors:P,helperText:O,loading:b}),classes:{popupIndicator:x.popupIndicator,clearIndicator:x.clearIndicator,hasClearIcon:x.hasClearIcon}},E)))};Yt.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,loadingText:Bt.loadingOptions,noOptionsText:Bt.noOptions,helperText:void 0,renderTags:Nt((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},Yt.propTypes={errors:u().arrayOf(u().string),keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,clearable:u().bool,value:u().any,onBlur:u().func,loadingText:u().oneOfType([u().object,u().string]),noOptionsText:u().oneOfType([u().object,u().string]),helperText:u().oneOfType([u().object,u().string]),options:u().array,loading:u().bool,onChange:u().func.isRequired,getOptionLabel:u().oneOfType([u().object,u().func]),getOptionSelected:u().oneOfType([u().object,u().func]),renderOption:u().oneOfType([u().object,u().func]),renderTags:u().func,returnFullObject:u().bool};const Ut=e=>e.multi?n().createElement(Yt,e):n().createElement(Gt,e);Ut.defaultProps={multi:!1},Ut.propTypes={multi:u().bool};const Jt=({keyValue:e,label:t,errors:r,required:o,value:a,disabled:l,onChange:i,multiline:c,autoComplete:u})=>{const d=r.length>=1;return n().createElement(Ze,{errors:r},n().createElement(yt,{htmlFor:`input-text-${e}`,label:t,required:o,error:d,shrink:""!==a}),n().createElement(s.OutlinedInput,{size:"small",autoComplete:u,multiline:c,disabled:l,id:`input-text-${e}`,value:a,type:"text",onChange:e=>i(e.target.value),error:d}))};Jt.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off"},Jt.propTypes={errors:u().arrayOf(u().string),keyValue:u().string.isRequired,label:u().string,required:u().bool,disabled:u().bool,multiline:u().bool,value:u().string,onChange:u().func,autoComplete:u().string};class Kt extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("BOUNDARY ERROR",e,t)}render(){return this.state.hasError?this.props.message?n().createElement("h1",{style:this.props.className?{}:{textAlign:"center"},className:this.props.className},this.props.message):n().createElement("h1",null,"An exception occurred: ",this.state.error.toString()):this.props.children}}Kt.propTypes={children:u().node.isRequired,message:u().string,className:u().string},Kt.defaultProps={message:null,className:null};const Qt=({classes:e,width:t})=>n().createElement("div",{className:e.placeholder,style:{width:t}});Qt.defaultProps={width:"50%"},Qt.propTypes={classes:u().object.isRequired,width:u().string};const Zt=(0,s.withStyles)((e=>({placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"}})))(Qt),Xt=require("react-intersection-observer"),er=require("@material-ui/icons/Close");var tr=e.n(er);const rr=require("@material-ui/icons/ArrowBack");var or=e.n(rr);const ar=(0,S.defineMessages)({search:{id:"blsq.table.label.search",defaultMessage:"Search"},close:{id:"blsq.table.label.close",defaultMessage:"Close"},resetSearch:{id:"blsq.table.label.resetSearch",defaultMessage:"Empty search"},columnSelectTooltip:{id:"blsq.table.columnSelect.tooltip",defaultMessage:"Select visible columns"}});function nr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const cr=({classes:e,options:t,setOptions:r,minColumns:o,intl:{formatMessage:a}})=>{const[l,i]=n().useState({open:!1,searchString:""}),c=e=>()=>{i(sr(sr({},l),{},{open:e}))},u=e=>t=>{i(sr(sr({},l),{},{searchString:e?"":t.target.value}))},d=t.filter((e=>e.active)).length,p=((e,t)=>{let r=[...t];if(r=r.map(((e,t)=>sr(sr({},e),{},{index:t}))),""!==e){const t=e.toLowerCase();r=r.filter((e=>e.key&&e.key.toLowerCase().includes(t)||e.label&&e.label.toLowerCase().includes(t)))}return r})(l.searchString,t);return n().createElement(n().Fragment,null,n().createElement(Ne,{onClick:c(!0),icon:"filter-list",color:"white",tooltipMessage:ar.columnSelectTooltip}),n().createElement(s.Drawer,{anchor:"right",open:l.open,onClose:c(!1)},n().createElement("div",{className:e.root},n().createElement("div",{className:e.toolbar},n().createElement(s.Tooltip,{title:a(ar.close)},n().createElement(s.IconButton,{onClick:c(!1)},n().createElement(or(),null))),n().createElement("div",{className:e.search},n().createElement(s.InputBase,{value:l.searchString,onChange:u(),className:e.input,placeholder:a(ar.search),inputProps:{"aria-label":a(ar.search),className:e.input}})),""!==l.searchString&&n().createElement(s.Tooltip,{title:a(ar.resetSearch)},n().createElement(s.IconButton,{onClick:u(!0)},n().createElement(tr(),null)))),n().createElement(s.Divider,null),n().createElement("div",{className:e.list},n().createElement(s.List,null,p.map((a=>n().createElement(Xt.InView,{key:a.key},(({inView:l,ref:i})=>{return n().createElement("div",{ref:i,id:a.key},n().createElement(s.ListItem,{className:e.listItem},l&&n().createElement(n().Fragment,null,n().createElement(s.Switch,{disabled:d===o&&a.active,size:"small",checked:a.active,onChange:(c=a.index,e=>{const o=[...t];o[c]=sr(sr({},o[c]),{},{active:e.target.checked}),r(o)}),color:"primary",inputProps:{"aria-label":a.label},className:e.switch}),n().createElement(s.ListItemText,{primary:a.label||a.key})),!l&&n().createElement(n().Fragment,null,n().createElement(Zt,{width:"30px"}),n().createElement(Zt,null))));var c})))))))))};function ur({IconComponent:e,title:t,classes:r}){return n().createElement("div",{className:r.root},n().createElement(s.Tooltip,{title:t},n().createElement(e,null)))}function dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dr(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}cr.defaultProps={minColumns:2},cr.propTypes={classes:u().object.isRequired,options:u().array.isRequired,setOptions:u().func.isRequired,minColumns:u().number,intl:u().object.isRequired},(0,s.withStyles)((e=>({root:{width:400,overflow:"hidden"},toolbar:lr(lr({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:e.spacing(8)}),search:{marginLeft:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},list:{height:`calc(100vh - ${e.spacing(8)}px)`,overflowY:"auto",overflowX:"hidden"},listItem:{height:e.spacing(6)},switch:{marginRight:e.spacing(1)},placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"},input:{width:"100%",padding:0}})))(N(cr)),ur.propTypes={title:u().string.isRequired,classes:u().object.isRequired,IconComponent:u().object.isRequired},(0,s.withStyles)((()=>({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})))(ur);const gr=(0,s.makeStyles)((e=>pr(pr({},G(e)),{},{root:{position:"absolute",height:"100%",width:"100%",top:0,left:0,overflow:"hidden"},icon:{cursor:"pointer",position:"relative",top:-1}}))),mr=({message:e,children:t})=>{const r=gr();return n().createElement(s.Box,{className:r.root,display:"flex",justifyContent:"center",alignItems:"center"},n().createElement(s.Box,{display:"inline",mr:1},t),n().createElement(s.Tooltip,{classes:{popper:r.popperFixed},placement:"bottom",title:e},n().createElement(mt(),{fontSize:"small",color:"primary",className:r.icon})))};mr.propTypes={message:u().string.isRequired,children:u().oneOfType([u().node,u().string]).isRequired};const br=require("@material-ui/lab"),fr=require("@material-ui/icons/CheckBox");var hr=e.n(fr);const yr=(0,z.makeStyles)((e=>({speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}))),Or=({hidden:e,actions:t,selection:r,reset:o,actionMessage:a})=>{const l=yr(),[i,c]=n().useState(!1),u=t.filter((e=>!e.disabled));return n().createElement(s.ClickAwayListener,{onClickAway:()=>{c(!1)}},n().createElement(br.SpeedDial,{ariaLabel:a,className:l.speedDial,hidden:e,icon:n().createElement(hr(),null),onOpen:()=>{c(!0)},open:i,direction:"up"},u.map((e=>n().createElement(br.SpeedDialAction,{key:e.label,icon:"function"==typeof e.icon?e.icon(r,o):e.icon,tooltipTitle:e.label,onClick:()=>e.onClick?e.onClick(r):()=>null})))))};Or.defaultProps={hidden:!1,actions:[],reset:()=>null},Or.propTypes={hidden:u().bool,actions:u().array,selection:u().object.isRequired,reset:u().func,actionMessage:u().string.isRequired};const vr=require("@material-ui/core/Table");var wr=e.n(vr);const xr=require("@material-ui/core/Paper");var qr=e.n(xr);const Cr=require("@material-ui/core/TableContainer");var Er=e.n(Cr);const Pr=require("lodash/isEqual");var jr=e.n(Pr);const kr=require("react-table"),Tr=[5,10,20,30,40,50],Sr=require("@material-ui/icons/Remove");var Mr=e.n(Sr);function Rr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Br=e=>{let t;return e.forEach(((e,r)=>{var o;t=`${t||""}${r>0?",":""}${o=e,o.desc?`-${o.id}`:o.id}`})),t},Lr=e=>e.split(",").map((e=>({id:e.replace("-",""),desc:-1!==e.indexOf("-")}))),Dr=(e,t,r)=>[{icon:n().createElement(Y(),null),label:r({id:"iaso.label.selectAll",defaultMessage:"Select all"}),onClick:()=>e()},{icon:n().createElement(Mr(),null),label:r({id:"iaso.label.unSelectAll",defaultMessage:"Unselect all"}),onClick:()=>t()}],Nr={selectedItems:[],unSelectedItems:[],selectAll:!1,selectCount:0},Fr=(e,t)=>""===e?t:`${e}${((e,t=!1)=>e.split(" ").map((e=>e.slice(0,1).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase()))).join(" "))(t,!0)}`,Ar=require("@material-ui/core/TableHead");var zr=e.n(Ar);const _r=require("@material-ui/core/TableRow");var Vr=e.n(_r);const $r=require("@material-ui/core/TableCell");var Hr=e.n($r);const Gr=require("@material-ui/core/TableSortLabel");var Wr=e.n(Gr);const Yr=(0,S.defineMessages)({previousText:{defaultMessage:"Previous",id:"blsq.table.previous"},nextText:{defaultMessage:"Next",id:"blsq.table.next"},lastText:{defaultMessage:"Last page",id:"blsq.table.last"},firstText:{defaultMessage:"First page",id:"blsq.table.first"},noDataText:{defaultMessage:"No result",id:"blsq.table.noResult"},pageText:{defaultMessage:"Page",id:"blsq.table.page"},ofText:{defaultMessage:"of",id:"blsq.table.of"},rowsText:{defaultMessage:"results",id:"blsq.table.results"},selectionAction:{defaultMessage:"With",id:"blsq.table.labels.selectionAction"},results:{id:"blsq.table.label.resultsLower",defaultMessage:"result(s)"},selection:{id:"blsq.table.label.selection",defaultMessage:"Selection"},selected:{id:"blsq.table.label.selected",defaultMessage:"selected"},loading:{id:"blsq.table.loading",defaultMessage:"Loading..."},details:{defaultMessage:"Details",id:"blsq.table.details"},sortAsc:{defaultMessage:"Sort ascending",id:"blsq.table.sortAsc"},sortDesc:{defaultMessage:"Sort descending",id:"blsq.table.sortDesc"},unSort:{defaultMessage:"Remove sort",id:"blsq.table.unSort"},renderError:{id:"blsq.table.label.renderError",defaultMessage:"Error rendering value"}});function Ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}const Jr=(0,z.makeStyles)((e=>({resizer:{display:"inline-block",width:"15px",height:"100%",position:"absolute",right:0,top:0,transform:"translateX(50%)",zIndex:1,touchAction:"none",cursor:"col-resize"},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortLabel:{display:"inline-block",width:"80%"},icon:{color:`${e.palette.primary.main}!important`,position:"absolute",left:"100%",top:3},cell:{cursor:"default"}}))),Kr=({column:e,columnsProps:t,setSortBy:r,multiSortEnabled:a,sortBy:l,isLastCell:i})=>{var s;const c=Jr(),{formatMessage:u}=F(),d=!1!==e.sortable&&!e.isResizing;let g,m=Yr.sortAsc;e.isSorted&&(e.isSortedDesc?g="desc":(g="asc",m=Yr.sortDesc));const b={width:null!==(s=e.width)&&void 0!==s?s:"auto"},f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.getSortByToggleProps());return f.onClick=()=>{let t=[];const o={desc:"asc"===g,id:e.id};a?t=[...l.filter((t=>t.id!==e.id)),o]:t.push(o),r(t)},n().createElement(Hr(),T()({},t,{style:b,className:p()(c.headerCell,i&&c.lastHeaderCell),key:t.key}),d&&n().createElement("div",f,n().createElement(Wr(),{active:e.isSorted,direction:g,title:u(m),classes:{root:c.sortLabel,icon:c.icon}},e.render("Header"))),!d&&n().createElement("div",{className:c.cell},e.render("Header")),!1!==e.resizable&&n().createElement("div",T()({},e.getResizerProps(),{className:c.resizer})))};Kr.propTypes={column:u().object.isRequired,columnsProps:u().object.isRequired,setSortBy:u().func.isRequired,multiSortEnabled:u().bool.isRequired,sortBy:u().array.isRequired,isLastCell:u().bool.isRequired};const Qr=({headerGroups:e,setSortBy:t,multiSortEnabled:r,sortBy:o})=>n().createElement(zr(),null,e.map((e=>{const a=e.getHeaderGroupProps();return n().createElement(Vr(),T()({},a,{key:a.key}),e.headers.map(((a,l)=>{const i=a.getHeaderProps();return n().createElement(Kr,{column:a,key:a.id,columnsProps:i,setSortBy:t,multiSortEnabled:r,sortBy:o,isLastCell:l+1===e.headers.length})})))})));Qr.defaultProps={headerGroups:[],sortBy:[],setSortBy:()=>null},Qr.propTypes={headerGroups:u().array,setSortBy:u().func,sortBy:u().array,multiSortEnabled:u().bool.isRequired};const Zr=require("@material-ui/core/TableBody");var Xr=e.n(Zr);class eo extends n().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error(e),{hasError:!0,error:e}}render(){const{fieldKey:e,value:t,children:r,classes:o,intl:{formatMessage:a}}=this.props;return this.state.hasError?n().createElement(s.Box,{className:o.errorContainer,title:`${this.state.error}`},a(Yr.renderError),":",n().createElement("pre",null,`${JSON.stringify(t)}`)):r}}eo.defaultProps={value:void 0},eo.propTypes={value:u().oneOfType(u().string,u().number),intl:u().object.isRequired,classes:u().object.isRequired};const to=(0,s.withStyles)((e=>({errorContainer:{backgroundColor:e.palette.error.background,margin:0,padding:0}})))(N(eo)),ro=(0,z.makeStyles)((e=>({row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.gray.background},"&:nth-of-type(even)":{backgroundColor:"transparent"}},rowClickable:{cursor:"pointer","&:hover":{"&:nth-of-type(odd)":{backgroundColor:e.palette.grey[300]},"&:nth-of-type(even)":{backgroundColor:e.palette.grey[300]}}},cell:{padding:e.spacing(1,2)}}))),oo=({row:e,rowProps:t,subComponent:r,sortBy:o,onRowClick:l})=>{const i=ro(),[s,c]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{c(!1)}),[o]),n().createElement(n().Fragment,null,n().createElement(Vr(),T()({},t,{onClick:t=>l?l(e.original,t):null,className:p()(i.row,Boolean(l)&&i.rowClickable),key:t.key}),e.cells.map((e=>{const t=e.getCellProps(),r=e.column.align||"center";return n().createElement(Hr(),T()({},t,{key:t.key,className:i.cell,align:"actions"===e.column.id?"center":r}),n().createElement(to,{value:e.value},!e.column.expander&&e.render("Cell"),e.column.expander&&e.render("Expander",{isExpanded:s,setIsExpanded:c})))}))),s&&r&&n().createElement(Vr(),T()({},t,{key:`${t.key}-expand`,className:i.row}),n().createElement(Hr(),{colSpan:e.cells.length},r(e.original))))};oo.defaultProps={subComponent:void 0,sortBy:[],onRowClick:void 0},oo.propTypes={sortBy:u().array,row:u().object.isRequired,rowProps:u().object.isRequired,subComponent:u().oneOfType([u().object,u().func]),onRowClick:u().oneOfType([u().func,u().object])};const ao=({page:e,getTableBodyProps:t,prepareRow:r,subComponent:o,sortBy:a,onRowClick:l})=>n().createElement(Xr(),t,e.map((e=>{r(e);const t=e.getRowProps();return n().createElement(oo,{row:e,rowProps:t,key:t.key,subComponent:o,sortBy:a,onRowClick:l})})));ao.defaultProps={page:[],sortBy:[],rowsPerPage:10,subComponent:void 0,onRowClick:void 0},ao.propTypes={page:u().array,sortBy:u().array,getTableBodyProps:u().func.isRequired,prepareRow:u().func.isRequired,rowsPerPage:u().number,subComponent:u().oneOfType([u().object,u().func]),onRowClick:u().oneOfType([u().func,u().object])};const no=require("@material-ui/core/TableFooter");var lo=e.n(no);const io=(0,z.makeStyles)((e=>({cell:{padding:e.spacing(1,2)}}))),so=({footerGroups:e})=>{const t=io();return n().createElement(lo(),null,e.map((e=>{const r=e.getFooterGroupProps();return n().createElement(Vr(),T()({},r,{key:r.key}),e.headers.map((e=>{const r=e.getFooterProps(),o=e.align||"center";return e.Footer&&!e.placeholderOf?n().createElement(Hr(),T()({},r,{className:t.cell,key:r.key,align:o}),e.render("Footer")):null})))})))};so.defaultProps={footerGroups:[]},so.propTypes={footerGroups:u().array};const co=require("@material-ui/core/Checkbox");var uo=e.n(co);const po=(e,t,r="id")=>{const{selectedItems:o,unSelectedItems:a,selectAll:n}=t;return n?!a.find((t=>t[r]===e[r])):Boolean(o.find((t=>t[r]===e[r])))},go=({count:e,multiSelect:t,selectionActions:r,setTableSelection:o,selection:a,selectionActionMessage:l})=>{const{formatMessage:i}=F();let s=[...Dr((()=>o("selectAll",[],e)),(()=>o("reset")),i)];return s=s.concat(r),n().createElement(Or,{selection:a,hidden:!t,actions:s,reset:()=>o("reset"),actionMessage:null!=l?l:i(Yr.selectionAction)})};go.defaultProps={count:0,multiSelect:!1,selectionActions:[],selection:Nr,setTableSelection:()=>null,selectionActionMessage:null},go.propTypes={count:u().number,multiSelect:u().bool,selectionActions:u().array,setTableSelection:u().func,selection:u().object,selectionActionMessage:u().string};const mo=(0,z.makeStyles)((e=>({box:{width:"100%",height:e.spacing(10),backgroundColor:e.palette.gray.background}}))),bo=({loading:e})=>{const t=mo();return n().createElement(Mt(),{className:t.box,alignItems:"center",justifyContent:"center",display:"flex"},!e&&n().createElement(S.FormattedMessage,Yr.noDataText))};bo.defaultProps={loading:!1},bo.propTypes={loading:u().bool};const fo=({count:e,selectCount:t})=>n().createElement(Mt(),{py:2,display:"flex",justifyContent:"flex-end",className:"pagination-count"},t>0&&n().createElement(n().Fragment,null,n().createElement(Mt(),{display:"inline-block",mr:1},`${ze(t)} `,n().createElement(S.FormattedMessage,Yr.selected)),"-"),e>0&&n().createElement(Mt(),{display:"inline-block",ml:1},`${ze(e)} `,n().createElement(S.FormattedMessage,Yr.results)));fo.defaultProps={count:0,selectCount:0},fo.propTypes={count:u().number,selectCount:u().number};const ho=require("@material-ui/core/TablePagination");var yo=e.n(ho);const Oo=require("@material-ui/core/IconButton");var vo=e.n(Oo);const wo=require("@material-ui/icons/FirstPage");var xo=e.n(wo);const qo=require("@material-ui/icons/KeyboardArrowLeft");var Co=e.n(qo);const Eo=require("@material-ui/icons/KeyboardArrowRight");var Po=e.n(Eo);const jo=require("@material-ui/icons/LastPage");var ko=e.n(jo);const To=(0,z.makeStyles)((()=>({input:{width:80},mediumInput:{width:90},largeInput:{width:100},XLInput:{width:110}}))),So=({pageIndex:e,pages:t,onPageChange:r})=>{const o=To(),[l,i]=(0,a.useState)(e);return n().createElement(Mt(),{display:"inline-flex",justifyContent:"center",alignItems:"center",ml:8},n().createElement(Mt(),{display:"inline-block",mr:1},n().createElement(S.FormattedMessage,Yr.pageText)),n().createElement(_t(),{className:p()(o[(s=l,s<=999?"input":s<=9999?"mediumInput":s<=99999?"largeInput":"XLInput")],"pagination-page-select"),size:"small",label:"",type:"number",value:l,disabled:t<2,variant:"outlined",onChange:e=>{i((e=>{const t=parseInt(e,10);return Number.isNaN(t)?"":t})(e.currentTarget.value))},onKeyPress:e=>{"Enter"===e.key&&r(l)}}),n().createElement(Mt(),{display:"inline-block",ml:1},n().createElement(S.FormattedMessage,Yr.ofText)),n().createElement(Mt(),{display:"inline-block",ml:1},t));var s};So.defaultProps={pages:0,pageIndex:0},So.propTypes={pages:u().number,pageIndex:u().number,onPageChange:u().func.isRequired};const Mo=require("@material-ui/core/MenuItem");var Ro=e.n(Mo);const Io=require("@material-ui/core/Select");var Bo=e.n(Io);const Lo=(0,z.makeStyles)((e=>({select:{height:40,marginLeft:e.spacing(10)}}))),Do=({rowsPerPage:e,rowsPerPageOptions:t,selectRowsPerPage:r})=>{const o=Lo(),{formatMessage:a}=F();return n().createElement(Mt(),{display:"inline-flex",justifyContent:"center",alignItems:"center",mr:8},n().createElement(Ke(),{variant:"outlined"},n().createElement(Bo(),{className:p()(o.select,"pagination-row-select"),value:e,onChange:e=>{r(e.target.value)}},t.map((e=>n().createElement(Ro(),{key:e,value:e,className:`row-option-${e}`},`${e} ${a(Yr.rowsText)}`))))))};Do.propTypes={rowsPerPage:u().number.isRequired,rowsPerPageOptions:u().array.isRequired,selectRowsPerPage:u().func.isRequired};const No=(0,z.makeStyles)((e=>({root:{width:"100%",position:"relative"},withCount:{marginRight:"130px"},count:{position:"absolute",right:e.spacing(2)}}))),Fo=({count:e,pageIndex:t,rowsPerPage:r,onPageChange:o,pages:a,rowsPerPageOptions:l,selectRowsPerPage:i,countOnTop:s,selectCount:c})=>{const u=No(),{formatMessage:d}=F(),g=0===t,m=t>=Math.ceil(e/r)-1;return n().createElement(Mt(),{py:2,display:"flex",justifyContent:"center",alignItems:"center",className:u.root},n().createElement(vo(),{className:"pagination-first",variant:"outlined",onClick:()=>{o(1)},disabled:g,"aria-label":d(Yr.firstText)},n().createElement(xo(),{color:g?"inherit":"primary"})),n().createElement(vo(),{className:"pagination-previous",variant:"outlined",onClick:()=>{o(t)},disabled:g,"aria-label":d(Yr.previousText)},n().createElement(Co(),{color:g?"inherit":"primary"})),n().createElement(So,{pages:a,pageIndex:t+1,onPageChange:e=>{o(e)}}),n().createElement(Do,{rowsPerPage:r,rowsPerPageOptions:l,selectRowsPerPage:i}),n().createElement(vo(),{className:"pagination-next",variant:"outlined",onClick:()=>{o(t+2)},disabled:m,"aria-label":d(Yr.nextText)},n().createElement(Po(),{color:m?"inherit":"primary"})),n().createElement(vo(),{variant:"outlined",onClick:()=>{o(Math.max(0,Math.ceil(e/r)))},disabled:m,"aria-label":d(Yr.lastText),className:p()(!s&&u.withCount,"pagination-last")},n().createElement(ko(),{color:m?"inherit":"primary"})),!s&&n().createElement("div",{className:u.count},n().createElement(fo,{count:e,selectCount:c})))};Fo.propTypes={pages:u().number.isRequired,count:u().number.isRequired,onPageChange:u().func.isRequired,pageIndex:u().number.isRequired,rowsPerPage:u().number.isRequired,rowsPerPageOptions:u().array.isRequired,selectRowsPerPage:u().func.isRequired,countOnTop:u().bool.isRequired,selectCount:u().number.isRequired};const Ao=(0,z.makeStyles)((()=>({spacer:{display:"none"},caption:{display:"none"},input:{display:"none"}}))),zo=({count:e,rowsPerPage:t,pageIndex:r,onTableParamsChange:o,pages:a,countOnTop:l,selectCount:i})=>{const s=Ao(),c=r+1>a?a-1:r;return n().createElement(yo(),{classes:{spacer:s.spacer,caption:s.caption,input:s.input},rowsPerPageOptions:Tr,component:"div",count:e,rowsPerPage:t,page:c,onPageChange:(e,t)=>{o("page",t+1)},onRowsPerPageChange:e=>{o("pageSize",e.target.value)},ActionsComponent:()=>n().createElement(Fo,{rowsPerPageOptions:Tr,count:e,rowsPerPage:t,onPageChange:e=>{o("page",e)},selectRowsPerPage:e=>o("pageSize",e),pageIndex:c,pages:a,countOnTop:l,selectCount:i}),labelDisplayedRows:()=>null})};function _o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_o(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}zo.defaultProps={count:0,rowsPerPage:0,pageIndex:0,pages:0,selectCount:0},zo.propTypes={count:u().number,rowsPerPage:u().number,pageIndex:u().number,pages:u().number,onTableParamsChange:u().func.isRequired,countOnTop:u().bool.isRequired,selectCount:u().number};const $o=(0,z.makeStyles)((()=>({tableContainer:{overflowY:"hidden"},paper:{position:"relative"}}))),Ho=e=>{const{params:t,count:r,extraProps:o,paramsPrefix:l,redirectTo:i,baseUrl:s,pages:c,countOnTop:u,marginTop:d,marginBottom:p,multiSelect:g,selectionActions:m,setTableSelection:b,selection:f,selectionActionMessage:y,showPagination:O,showFooter:v,onTableParamsChange:w,defaultSorted:x,resetPageToOne:q,elevation:C,onRowClick:E}=e,{formatMessage:P}=F(),j=$o(),k=Wt("Shift"),S=(0,a.useMemo)((()=>{const t=[...e.columns];return g&&!e.columns.find((e=>"selected"===e.accessor))&&t.push(((e,t,r,o)=>({Header:o(Yr.selection),accessor:"selected",width:100,sortable:!1,Cell:o=>n().createElement(uo(),{color:"primary",checked:po(o.cell.row.original,e),onChange:a=>(({isSelected:e,item:t,selection:r,setTableSelection:o,count:a})=>{const n=[...r.selectedItems],l=[...r.unSelectedItems],{selectAll:i}=r;if(i){if(e){const e=l.findIndex((e=>jr()(e,t)));-1!==e&&l.splice(e,1)}else l.push(t);o("unselect",l,a)}else{if(e)n.push(t);else{const e=n.findIndex((e=>jr()(e,t)));n.splice(e,1)}o("select",n)}})({isSelected:a.target.checked,item:o.cell.row.original,selection:e,setTableSelection:t,count:r})})}))(f,b,r,P)),(e=>{const t=[...e];return e.forEach(((e,r)=>{e.headerInfo&&(t[r]=Ir(Ir({},t[r]),{},{Header:n().createElement(mr,{message:e.headerInfo},t[r].Header)}))})),t})(t)}),[e.columns,g,f]),M=(0,a.useMemo)((()=>e.data),[e.data]),R=t[Fr(l,"order")],I=t[Fr(l,"page")],B=t[Fr(l,"pageSize")],{loading:L}=o,D=(0,a.useMemo)((()=>{const e=parseInt(B,10),t=R&&Lr(R);return{pageIndex:I?parseInt(I,10)-1:0,pageSize:e||(null==o?void 0:o.defaultPageSize)||10,sortBy:t||x}}),[]),{getTableProps:N,getTableBodyProps:z,headerGroups:_,footerGroups:V,prepareRow:$,gotoPage:H,setPageSize:G,setSortBy:W,page:Y,state:{pageSize:U,pageIndex:J,sortBy:K}}=(0,kr.useTable)({columns:S,data:M,initialState:D,disableMultiSort:!0,manualPagination:!0,manualSortBy:!0,pageCount:c,autoResetPage:!1},kr.useSortBy,kr.useResizeColumns,kr.usePagination),Q=(e,r)=>{const o=Vo({},t);"order"===e&&r.length>0?(W(r),o[Fr(l,"order")]=Br(r)):"order"!==e&&(o[Fr(l,e)]=r),"pageSize"===e&&(o[Fr(l,"page")]=1,G(r)),"page"===e&&H(r-1),i(s,o),w(o)},Z=Vo(Vo({},N()),{},{size:"small"});A((()=>{H(0)}),[q]),A((()=>{R&&Br(K)!==R&&W(Lr(R))}),[R]),A((()=>{B!==U&&G(B)}),[B]),A((()=>{const e=parseInt(I,10)-1;Number.isNaN(e)||J===e||H(e)}),[I]);const X=parseInt(U,10);return n().createElement(Mt(),{mt:d?4:0,mb:p?4:0},n().createElement(go,{count:r,multiSelect:g,selectionActions:m,selection:f,setTableSelection:b,selectionActionMessage:y}),u&&n().createElement(fo,{count:r,selectCount:f.selectCount}),n().createElement(qr(),{elevation:C,className:j.paper},L&&n().createElement(h,{absolute:!0}),n().createElement(Er(),{className:j.tableContainer},n().createElement(wr(),T()({},Z,{stickyHeader:!0}),n().createElement(Qr,{headerGroups:_,setSortBy:e=>Q("order",e),multiSortEnabled:k,sortBy:K}),n().createElement(ao,{page:Y,getTableBodyProps:z,prepareRow:$,subComponent:o.SubComponent,sortBy:K,onRowClick:E}),v&&n().createElement(so,{footerGroups:V}))),0===(null==Y?void 0:Y.length)&&n().createElement(bo,{loading:L}),(null==Y?void 0:Y.length)>0&&O&&n().createElement(zo,{count:r,rowsPerPage:X,pageIndex:J,onTableParamsChange:Q,pages:c,countOnTop:u,selectCount:f.selectCount})))};Ho.defaultProps={count:0,pages:0,baseUrl:"",countOnTop:!0,marginTop:!0,marginBottom:!0,multiSelect:!1,selectionActions:[],selection:Nr,setTableSelection:()=>null,redirectTo:()=>null,extraProps:{loading:!1},paramsPrefix:"",params:{pageSize:10,page:1,order:"-created_at"},selectionActionMessage:null,showPagination:!0,showFooter:!1,onTableParamsChange:()=>null,defaultSorted:Lr("-created_at"),resetPageToOne:"",elevation:3,onRowClick:void 0},Ho.propTypes={params:u().object,count:u().number,pages:u().number,data:u().array.isRequired,columns:u().array.isRequired,baseUrl:u().string,countOnTop:u().bool,marginTop:u().bool,marginBottom:u().bool,multiSelect:u().bool,selectionActions:u().array,redirectTo:u().func,setTableSelection:u().func,selection:u().object,extraProps:u().object,paramsPrefix:u().string,selectionActionMessage:u().string,showPagination:u().bool,showFooter:u().bool,onTableParamsChange:u().func,defaultSorted:u().array,resetPageToOne:u().string,elevation:u().number,onRowClick:u().func};const Go=require("@material-ui/icons/Visibility");var Wo=e.n(Go);const Yo=require("@material-ui/icons/VisibilityOff");var Uo=e.n(Yo);const Jo=({isExpanded:e,setIsExpanded:t})=>{const{formatMessage:r}=F();return e?n().createElement(s.IconButton,{onClick:()=>t(!e)},n().createElement(Uo(),null)):n().createElement(s.Tooltip,{title:r(Yr.details)},n().createElement(s.IconButton,{onClick:()=>t(!e)},n().createElement(Wo(),null)))};function Ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Jo.defaultProps={isExpanded:!1,setIsExpanded:()=>null},Jo.propTypes={isExpanded:u().bool,setIsExpanded:u().func};const Zo=(0,s.makeStyles)((e=>Qo(Qo({},G(e)),{},{paper:{overflow:"visible"},title:{paddingBottom:0},content:{overflow:"visible",paddingBottom:e.spacing(2)},action:{paddingBottom:e.spacing(2),paddingRight:e.spacing(2)}}))),Xo=({open:e=!1,maxWidth:t="sm",onClose:r,id:o,dataTestId:a,titleMessage:l,children:i,closeDialog:c,buttons:u})=>{const d=Zo();return n().createElement(n().Fragment,null,n().createElement(s.Dialog,{fullWidth:!0,maxWidth:t,open:e,classes:{paper:d.paper},onClose:r,scroll:"body",id:o,"data-test":a},l&&n().createElement(s.DialogTitle,{className:d.title},(p=l)?p.id?n().createElement(S.FormattedMessage,Qo({},p)):p:""),n().createElement(s.DialogContent,{className:d.content},i),n().createElement(s.DialogActions,{className:d.action},u({closeDialog:c}))));var p},ea=((0,z.makeStyles)((e=>({textStyle:{fontSize:"16px",fontWeight:400,lineHeight:1,paddingTop:.5,paddingBottom:.5,flex:"1",marginLeft:e.spacing(1.5)}}))),(0,z.makeStyles)((e=>({placeholder:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"14px",cursor:"default",color:"transparent",paddingTop:.5,paddingBottom:.5},treeviews:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"10px"},paper:{display:"flex",alignItems:"center",border:"1px solid rgba(0,0,0,0.23)"},paperWithIcon:{paddingTop:16,paddingBottom:16,paddingRight:e.spacing(2)},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main,paddingLeft:"1px"},shrinkInputLabel:{fontSize:"20px"},enabled:{"&:hover":{border:"1px solid rgba(0,0,0,0.87)"}},pointer:{cursor:"pointer"},clearButton:{marginRight:5},error:{"&:hover":{border:`1px solid ${e.palette.error.main}`},border:`1px solid ${e.palette.error.main}`},errorLabel:{color:e.palette.error.main}}))),require("react-dropzone"),require("@material-ui/icons/Attachment"));var ta=e.n(ea);const ra=(0,S.defineMessages)({clickOrDragFile:{id:"blsq.label.clickOrDragFile",defaultMessage:"Drag files or click to select"},clicktoOpenFileSelect:{id:"blsq.label.clicktoOpenFileSelect",defaultMessage:"Click to open file selection"},files:{id:"blsq.label.Files",defaultMessage:"Files"},dropHere:{id:"blsq.label.dropHere",defaultMessage:"Drop files here"}});function oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}s.Tooltip,S.FormattedMessage,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}({},ra.clickOrDragFile),ta(),(0,s.makeStyles)((e=>({outlined:{border:`2px dashed ${e.palette.mediumGray.main}`,height:"100px",backgroundColor:e.palette.ligthGray.main},text:{color:e.palette.mediumGray.main}})));const la=({closeDialog:e,allowConfirm:t=!0,onConfirm:r,confirmMessage:o,onCancel:a,cancelMessage:l,additionalButton:i=!1,additionalMessage:c,onAdditionalButtonClick:u,allowConfirmAdditionalButton:d=!0})=>n().createElement(n().Fragment,null,n().createElement(s.Button,{onClick:()=>{a(),e()},color:"primary","data-test":"cancel-button"},n().createElement(S.FormattedMessage,na({},l))),n().createElement(s.Button,{"data-test":"confirm-button",onClick:()=>{r(),e()},disabled:!t,color:"primary",autoFocus:!0},n().createElement(S.FormattedMessage,na({},o))),i&&c&&u&&n().createElement(s.Button,{"data-test":"additional-button",onClick:()=>{u(),e()},color:"primary",disabled:null!=d?!d:!t},n().createElement(S.FormattedMessage,na({},c)))),ia=({open:e=!1,maxWidth:t="sm",onClose:r,id:o,dataTestId:a,titleMessage:l,children:i,closeDialog:s,allowConfirm:c=!0,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:g,additionalButton:m=!1,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h=!0})=>n().createElement(Xo,{open:e,maxWidth:t,onClose:r,id:o,dataTestId:a,titleMessage:l,closeDialog:s,buttons:({closeDialog:e})=>n().createElement(la,{closeDialog:e,allowConfirm:c,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:g,additionalButton:m,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h})},i);const sa=(0,S.defineMessages)({reply:{id:"blsq.comment.button.reply",defaultMessage:"Reply"}});function ca(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ca(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const da=(0,z.makeStyles)((e=>{var t,r;return ua(ua({},G(e)),{},{commentRoot:{padding:"10px 20px",margin:"0px 5px 5px 5px"},commentAuthor:{margin:0,textAlign:"left"},commentPostingTime:{textAlign:"end",color:null!==(t=null===(r=e.mediumGray)||void 0===r?void 0:r.main)&&void 0!==t?t:"#A2A2A2"},commentGrid:{justifyContent:"left",padding:"0px 10px"},replyToComment:{textAlign:"end"},commentText:{textAlign:"justify",marginTop:"10px"},toggleCommentText:{alignSelf:"end",cursor:"default",color:"#3f51b5","&:hover":{textDecoration:"underline"}},expandThread:{textAlign:"end"},button:{backgroundColor:"#fff",color:"#3f51b5"},childComment:{paddingLeft:"20px"}})})),pa=(0,S.defineMessages)({textAreaPlaceholder:{id:"blsq.comment.textArea.placeholder",defaultMessage:"Leave a comment here"},confirmComment:{id:"blsq.comment.confirmComment",defaultMessage:"Confirm"}});function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ba=(0,z.makeStyles)((e=>ma(ma({},G(e)),{},{textAreaContainer:{width:"100%",marginTop:"20px"},textArea:{width:"100%",borderRadius:"6px",borderColor:"#A2A2A2",padding:"8px",resize:"vertical"},left:{textAlign:"left"},right:{textAlign:"right"},center:{textAlign:"center"},commentConfirmButton:{marginBottom:"20px",marginLeft:"auto"},button:{color:"#fff",backgroundColor:"#3f51b5"}}))),fa=({placeholder:e,minRows:t,maxRows:r,onChange:o,className:l,buttonText:i,onConfirm:c,position:u,inline:d})=>{const[p,g]=(0,a.useState)(""),m=ba(),b=F(),f=(0,a.useCallback)((()=>{c(p),g("")}),[p]);return n().createElement(s.Grid,{container:!0,direction:d?"row":"column",alignItems:"center",spacing:2,className:u?m[u]:null},n().createElement(s.Grid,{item:!0,className:m.textAreaContainer},n().createElement(s.TextareaAutosize,{className:null!=l?l:m.textArea,minRows:t,maxRows:r,"aria-label":"write comment here",placeholder:null!=e?e:b.formatMessage(pa.textAreaPlaceholder),onChange:e=>{g(e.target.value),o(e.target.value)},value:p,autoFocus:!0})),n().createElement(s.Grid,{item:!0,className:m.commentConfirmButton},n().createElement(s.Button,{onClick:f,variant:"contained",color:"primary"},null!=i?i:b.formatMessage(pa.confirmComment))))};fa.propTypes={placeholder:u().string,className:u().string,minRows:u().number,maxRows:u().number,onChange:u().func,onConfirm:u().func,buttonText:u().string,position:u().string,inline:u().bool},fa.defaultProps={placeholder:null,minRows:3,maxRows:5,onChange:()=>{},className:null,buttonText:null,onConfirm:()=>{},position:"",inline:!0};const ha=require("moment");var ya=e.n(ha);const Oa=(0,S.defineMessages)({textExpand:{id:"blsq.comment.button.textExpand",defaultMessage:"See more"},textCollapse:{id:"blsq.comment.button.textCollapse",defaultMessage:"See less"},postingTime:{id:"blsq.comment.postingTime",defaultMessage:"Posted:"}}),va=({text:e,hideOverflow:t,toggle:r,maxLength:o,textExpand:a,textCollapse:l})=>{const i=da(),s=F();return n().createElement("div",{className:i.commentText},n().createElement("p",null,t&&e.length>o?((e,t)=>e.length>150?`${e.substring(0,146)}...   `:`${e}   `)(e):e," "),t&&n().createElement("span",{onClick:r,className:i.toggleCommentText,role:"button",tabIndex:0},null!=a?a:s.formatMessage(Oa.textExpand)),!t&&e.length>o&&n().createElement("span",{onClick:r,className:i.toggleCommentText,role:"button",tabIndex:0},null!=l?l:s.formatMessage(Oa.textCollapse)))};va.propTypes={text:u().string.isRequired,hideOverflow:u().bool.isRequired,toggle:u().func.isRequired,maxLength:u().number.isRequired,textExpand:u().string,textCollapse:u().string},va.defaultProps={textExpand:null,textCollapse:null};const wa=({avatar:e,author:t,content:r,postingTime:o,classNames:l})=>{const i=F(),c=da(),[u,d]=(0,a.useState)(r.length>150),p=(0,a.useCallback)((()=>d(!u)),[u]),g=null!=l?l:c,m=`${i.formatMessage(Oa.postingTime)}  ${ya()(o).fromNow()}`;return n().createElement(s.Grid,{container:!0,wrap:"nowrap",spacing:4},n().createElement(s.Grid,{item:!0},n().createElement(s.Avatar,{alt:t,src:e})),n().createElement(s.Grid,{className:g.commentGrid,item:!0,xs:!0,zeroMinWidth:!0},n().createElement("h4",{className:g.commentAuthor},t),n().createElement(va,{text:r,hideOverflow:u,toggle:p,maxLength:150}),n().createElement(s.Typography,{variant:"body2",className:g.commentPostingTime,component:"div"},m)))};wa.propTypes={avatar:u().string,author:u().string.isRequired,content:u().string.isRequired,postingTime:u().string,classNames:u().arrayOf(u().string)},wa.defaultProps={avatar:null,postingTime:"",classNames:null};const xa=({avatar:e,author:t,content:r,postingTime:o,classNames:l,actionText:i,onAddComment:c,id:u})=>{const d=F(),p=da(),[g,m]=(0,a.useState)(!1),b=null!=l?l:p,f=(0,a.useCallback)((e=>{m(!1),c(e,u)}),[u,c]);return n().createElement(s.Paper,{variant:"outlined",className:b.commentRoot},n().createElement(wa,{avatar:e,author:t,postingTime:o,content:r}),!g&&n().createElement("div",{className:b.replyToComment},n().createElement(s.Button,{className:b.button,size:"small",onClick:()=>{m(!0)}},null!=i?i:d.formatMessage(sa.reply))),g&&n().createElement(fa,{position:"right",onConfirm:f}))};xa.propTypes={avatar:u().string,author:u().string.isRequired,content:u().string.isRequired,postingTime:u().string,classNames:u().arrayOf(u().string),actionText:u().string,onAddComment:u().func,id:u().number},xa.defaultProps={avatar:null,postingTime:"",classNames:null,actionText:null,onAddComment:()=>{},id:null};const qa=(0,S.defineMessages)({collapse:{id:"blsq.comment.button.label.collapse",defaultMessage:"Hide thread"},expand:{id:"blsq.comment.button.label.expand",defaultMessage:"Show thread"},addReply:{id:"blsq.comment.button.label.addReply",defaultMessage:"Add reply"}}),Ca=({comments:e,actionText:t,onAddComment:r,parentId:o})=>{const l=da(),i=F(),[c,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)(!1),g=(0,a.useCallback)((()=>{d&&u(!1),p(!d)}),[d]),m=()=>{u(!0),p(!0)},b=(0,a.useCallback)((e=>{u(!1),r(e,o)}),[r,o]),f=(0,a.useCallback)(((e,t)=>{u(!1),p(!0),r(e,t)}),[r]);return 1===e.length?n().createElement(xa,{onAddComment:f,author:e[0].author,content:e[0].comment,postingTime:e[0].dateTime,id:e[0].id}):n().createElement(s.Paper,{className:l.commentRoot,variant:"outlined",elevation:1},((h=d?e:[e[0]]).length,h.map(((r,o)=>{var a,u;return n().createElement("div",{key:null!==(a=`Fragment${r.author}${r.dateTime}${r.id}`)&&void 0!==a?a:"",className:0===o?"":l.childComment},n().createElement(wa,{avatar:r.avatar,author:r.author,postingTime:r.dateTime,content:r.comment}),0===o&&n().createElement("div",{className:l.expandThread},n().createElement(s.Button,{onClick:g,className:l.button,size:"small"},i.formatMessage(d?qa.collapse:qa.expand))),!c&&n().createElement("div",{className:l.replyToComment},n().createElement(s.Button,{className:l.button,size:"small",onClick:m},null!=t?t:i.formatMessage(qa.addReply))),o===e.length-1&&c&&n().createElement(fa,{onConfirm:b}),o<e.length-1&&d&&n().createElement(s.Divider,{variant:"fullWidth",style:{margin:"30px 0"},key:null!==(u=`divider${r.author}${r.dateTime}${r.id}`)&&void 0!==u?u:""}))}))));var h};Ca.propTypes={comments:u().array,actionText:u().string,onAddComment:u().func,parentId:u().number},Ca.defaultProps={comments:[],actionText:null,onAddComment:()=>{},parentId:null};const Ea=require("@material-ui/icons/InfoOutlined");var Pa=e.n(Ea);const ja=(0,S.defineMessages)({loading:{id:"blsq.treeview.loading",defaultMessage:"Loading"},confirm:{id:"blsq.treeview.search.confirm",defaultMessage:"Confirm"},cancel:{id:"blsq.treeview.search.cancel",defaultMessage:"Cancel"},selectSingle:{id:"blsq.treeview.label.selectSingle",defaultMessage:"Select an org unit"},selectMultiple:{id:"blsq.treeview.label.selectMultiple",defaultMessage:"Select org unit(s)"},display:{id:"blsq.treeview.search.results.label.display",defaultMessage:"Display"},resultsLower:{id:"blsq.treeview.search.results.label.resultsLower",defaultMessage:"result(s)"},noOptions:{id:"blsq.treeview.search.options.label.noOptions",defaultMessage:"No result found"},clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"Clear"},search:{id:"blsq.treeview.search.inputLabelObject",defaultMessage:"Enter search term"}}),ka=require("react-query");function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Sa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ma=[5,10,20,30,40,50],Ra=({resultsCount:e,handleSelect:t,countOptions:r})=>n().createElement(Do,{rowsPerPageOptions:r,rowsPerPage:e,selectRowsPerPage:t});Ra.propTypes={countOptions:(0,c.arrayOf)(c.number),resultsCount:c.number,handleSelect:c.func},Ra.defaultProps={countOptions:Ma,handleSelect:()=>null,resultsCount:Ma[2]};const Ia=({classes:e,onSelect:t,minResultCount:r,inputLabelObject:o,withSearchButton:l,request:i,makeDropDownText:c,toolTip:u})=>{const{formatMessage:d}=F(),[p,g]=(0,a.useState)(""),[m,b]=(0,a.useState)(r),[f,y]=(0,a.useState)(!1),[O,v]=(0,a.useState)(!1),[w,x]=(0,a.useState)(!1),{data:q,isLoading:C,isFetching:E}=(({request:e,searchValue:t,resultsCount:r,options:o})=>(0,ka.useQuery)(["TreeviewSearch",e,t,r],(async()=>await e(t,r)),Sa(Sa({initialData:[],retry:!1},o),{},{keepPreviousData:!0})))({request:i,searchValue:p,resultsCount:m,options:{enabled:f&&O}}),P=(0,a.useCallback)((()=>{""!==p&&v(!0)}),[p]),j=n().createElement(Pa(),{fontSize:"small",style:{color:_.palette.mediumGray.main}});return n().createElement(s.Box,{className:e.root},n().createElement(s.ClickAwayListener,{onClickAway:()=>{w||y(!1)}},n().createElement(s.Box,{className:e.container,onFocus:()=>y(!0)},n().createElement(s.Box,{className:e.searchBar},n().createElement(Tt,{disabled:C,keyValue:"orgUnitSearch",onChange:e=>{g(e),v(!1)},value:p,type:"search",label:d(o),onEnterPressed:()=>P()}),l&&n().createElement(s.Button,{variant:"contained",className:e.searchButton,color:"primary",onClick:P},n().createElement(S.FormattedMessage,ja.search))),C&&n().createElement("div",{className:e.loadingContainer},n().createElement(h,{fixed:!1,transparent:!0,padding:4,size:25})),0===q.length&&f&&O&&!E&&n().createElement(s.Typography,{variant:"body2",align:"center",className:e.noResult},n().createElement(S.FormattedMessage,ja.noOptions)),q.length>0&&f&&n().createElement(s.Box,{className:e.listContainer},n().createElement(s.List,{className:e.list},q.map((e=>n().createElement(s.ListItem,{key:e.id,button:!0,onClick:()=>(e=>{t(e),y(!1)})(e),className:"org-unit-item"},n().createElement(s.ListItemText,{primary:n().createElement(s.Typography,{type:"body2"},c(e))}),u&&u(e,j))))),n().createElement(s.Divider,null),n().createElement(s.Box,{className:e.resultInfos},n().createElement(s.ClickAwayListener,{onClickAway:()=>x(!1)},n().createElement("div",{className:e.countContainer,onFocus:()=>x(!0)},n().createElement(Ra,{handleSelect:e=>{b(parseInt(e,10))},resultsCount:m}))))))))};Ia.defaultProps={minResultCount:50,inputLabelObject:ja.search,withSearchButton:!1,toolTip:null,onSelect:()=>{}},Ia.propTypes={classes:u().object.isRequired,onSelect:u().func,minResultCount:u().number,inputLabelObject:u().object,withSearchButton:u().bool,request:u().func.isRequired,makeDropDownText:u().func.isRequired,toolTip:u().func};const Ba=(0,s.withStyles)((e=>({root:{height:e.spacing(9),overflow:"visible"},container:{position:"relative",zIndex:1e3},loadingContainer:{position:"absolute",top:"0",left:"0",width:"100%",zIndex:10,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)"},listContainer:{border:`1px solid ${e.palette.ligthGray.border}`,backgroundColor:"white",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden"},list:{maxHeight:"50vh",overflow:"auto"},noResult:{backgroundColor:"white",border:`1px solid ${e.palette.ligthGray.border}`,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,color:e.palette.error.main,height:e.spacing(9),display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)"},resultInfos:{fontSize:12,height:e.spacing(6),display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,4)},countContainer:{marginTop:"7px"},iconButton:{height:25,marginLeft:e.spacing(1)},resultsCountInput:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"center"},searchBar:{display:"flex",alignItems:"center"},searchButton:{marginLeft:"10px"}})))(Ia),La=require("@material-ui/icons/ArrowRight");var Da=e.n(La);const Na=require("@material-ui/icons/ArrowDropDown");var Fa=e.n(Na);const Aa=require("@material-ui/icons/CheckBoxOutlineBlankOutlined");var za=e.n(Aa);const _a=require("@material-ui/icons/IndeterminateCheckBox");var Va=e.n(_a);function $a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$a(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ga=(0,z.makeStyles)((e=>({treeItem:{"&.MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:e.palette.primary.background,alignItems:"center",color:e.palette.primary.main}},unselectableTreeItem:{"&.MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{alignItems:"center",color:e.palette.mediumGray.main}},checkbox:{color:e.palette.mediumGray.main,fontSize:"16px",marginRight:"5px"}}))),Wa=({label:e,id:t,fetchChildrenData:r,expanded:o,toggleOnLabelClick:l,onLabelClick:i,data:s,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:g,queryOptions:m={}})=>{const b=Ga(),f=o.includes(t),h=u.includes(t),y=d.includes(t),O=g(s),{data:v,isLoading:w}=(({request:e,id:t,options:r})=>(0,ka.useQuery)(["getChildrenData",e,t],(async()=>e(t)),Sa({retry:!1},r)))({request:r,id:t,options:Ha(Ha({},m),{},{enabled:f})}),x=(0,a.useRef)(),q=s.has_children,C=(e,t,r,o)=>n().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},((e,t,r)=>e?t?n().createElement(hr(),{className:b.checkbox}):r?n().createElement(Va(),{className:b.checkbox}):n().createElement(za(),{className:b.checkbox}):null)(t,r,o),e),E=(0,a.useCallback)((e=>{l||e.preventDefault(),i(t,s,O)}),[s,t,i,l,O]);return(0,a.useEffect)((()=>{p===t&&x.current.scrollIntoView()}),[p,t,x]),f&&w?n().createElement(br.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:x,label:C(e(s),c,h,y),nodeId:t,icon:n().createElement(Fa(),{style:{fontSize:"large"}})}):q?n().createElement("div",{style:{display:"flex"}},n().createElement(br.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:x,label:C(e(s),c,h,y),nodeId:t,collapseIcon:n().createElement(Fa(),{style:{fontSize:"24px"}}),expandIcon:n().createElement(Da(),{style:{fontSize:"24px"}}),onLabelClick:E},v&&f&&((P=v)?P.map((t=>n().createElement(Wa,{key:`TreeItem ${t.id}`,label:e,id:t.id,fetchChildrenData:r,expanded:o,toggleOnLabelClick:l,onLabelClick:i,data:t,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:g,queryOptions:m}))):null),!f&&n().createElement("div",null))):q||O?n().createElement("div",{style:{display:"flex"}},n().createElement(br.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:x,label:C(e(s),c,h),nodeId:t,collapseIcon:n().createElement(Fa(),{style:{fontSize:"24px"}}),expandIcon:n().createElement(Da(),{style:{fontSize:"24px"}}),onLabelClick:E})):null;var P};Wa.propTypes={label:c.func.isRequired,id:c.string.isRequired,fetchChildrenData:c.func,expanded:(0,c.arrayOf)(c.string),toggleOnLabelClick:c.bool,data:c.object.isRequired,onLabelClick:c.func,withCheckbox:c.bool,ticked:(0,c.oneOfType)([c.string,c.array]),parentsTicked:c.array,scrollIntoView:c.string,allowSelection:c.func,queryOptions:c.object},Wa.defaultProps={fetchChildrenData:()=>{},expanded:[],toggleOnLabelClick:!0,onLabelClick:()=>{},withCheckbox:!1,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{}};const Ya=(0,z.makeStyles)((e=>({root:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"},isFetching:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"}}))),Ua=({getChildrenData:e,getRootData:t,label:r,multiselect:o,expanded:l,selected:i,onToggle:c,toggleOnLabelClick:u,onSelect:d,onCheckBoxClick:p,onLabelClick:g,ticked:m,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:y={},childrenQueryOptions:O={}})=>{const v=Ya(),w=(0,a.useCallback)(e,[e]),{data:x,isFetching:q}=((e,t={})=>(0,ka.useQuery)(["getRootData",e],(async()=>e()),Sa(Sa({retry:!1},t),{},{keepPreviousData:!1})))(t,y),C=(0,a.useCallback)((e=>e?e.map((e=>n().createElement(Wa,{label:r,id:e.id,data:e,key:`RootTreeItem ${e.id}`,fetchChildrenData:w,expanded:l,selected:i,toggleOnLabelClick:u,onCheckBoxClick:p,onLabelClick:g,withCheckbox:o,ticked:m,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:O}))):null),[r,w,l,i,u,p,g,o,m,b,f]);return n().createElement(br.TreeView,{classes:q?{root:v.isFetching}:{root:v.root},expanded:l,selected:i,multiSelect:o,onNodeSelect:(e,t)=>{d(t)},onNodeToggle:(e,t)=>{c(t)}},!q&&x&&C(x),q&&n().createElement(s.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},n().createElement(s.CircularProgress,null)))};Ua.propTypes={getChildrenData:c.func,getRootData:c.func,label:c.func.isRequired,multiselect:c.bool,toggleOnLabelClick:c.bool,expanded:(0,c.arrayOf)(c.string).isRequired,onToggle:c.func.isRequired,onSelect:c.func,onCheckBoxClick:c.func,onLabelClick:c.func,selected:(0,c.oneOfType)([c.string,(0,c.arrayOf)(c.string)]),ticked:(0,c.oneOfType)([c.string,(0,c.arrayOf)(c.string)]),parentsTicked:c.array,scrollIntoView:c.string,allowSelection:c.func,queryOptions:c.object,childrenQueryOptions:c.object},Ua.defaultProps={getChildrenData:()=>{},getRootData:()=>{},multiselect:!1,toggleOnLabelClick:!0,onSelect:()=>{},onCheckBoxClick:()=>{},onLabelClick:()=>{},selected:void 0,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{},childrenQueryOptions:{}};const Ja=e=>e?Array.from(e.entries()).map((e=>Array.from(e[1].keys()))).map((e=>e.map((e=>e.toString())).filter(((e,t,r)=>e!==r[r.length-1])))).flat():null,Ka=({label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:o,onSelect:l,minResultCount:i,inputLabelObject:s,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p,parseNodeIds:g,onUpdate:m,multiselect:b,preselected:f,preexpanded:h,selectedData:y,allowSelection:O})=>{var v;const[w,x]=(0,a.useState)((e=>e?Array.isArray(e)?e:[e]:[])(y)),[q,C]=(0,a.useState)(f||(b?[]:"")),[E,P]=(0,a.useState)(null!==(v=Ja(h))&&void 0!==v?v:[]),[j,k]=(0,a.useState)(null!=f?f:[]),[T,S]=(0,a.useState)(null!=h?h:new Map),[M,R]=(0,a.useState)(Array.isArray(f)?null:f),I=(0,a.useCallback)((e=>{C(e),b&&l(e)}),[l,b]),B=(0,a.useCallback)(((e,t,r)=>{let o,a,n;var l;r&&(o=b?j.includes(e)?j.filter((t=>t!==e)):[...j,e]:[e],k(o)),a=b?new Map(T):new Map,T.has(e)?(a.delete(e),n=null!==(l=null==w?void 0:w.filter((t=>t.id!==parseInt(e,10))))&&void 0!==l?l:[]):(a.set(e,g(t)),n=b?o.includes(t.id)?[...w,t]:w.filter((e=>e.id!==parseInt(t.id,10))):[t]),m(o,a,n),S(a),x(n)}),[m,j,T,b,w,g]),L=(0,a.useCallback)((e=>{const t=g(e),r=Array.from(t.keys()).map((e=>e.toString())),o=r[r.length-1];if(r.pop(),b){P([...E,...r]);const e=[...q,o];I(e)}else{P(r);const a=new Map;a.set(o,t),I(o),x([e]),m(o,a,[e])}R(o)}),[g,I,q,m,E,b]);return n().createElement(n().Fragment,null,n().createElement(Ba,{onSelect:L,minResultCount:i,inputLabelObject:s,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p}),n().createElement(Ua,{label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:o,selected:q,onSelect:I,expanded:E,onToggle:P,onLabelClick:B,multiselect:b,ticked:j,parentsTicked:Ja(T),scrollIntoView:M,allowSelection:O}))};function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Ka.propTypes={getChildrenData:c.func,getRootData:c.func,toggleOnLabelClick:c.bool,onSelect:c.func,minResultCount:c.number,inputLabelObject:c.object,withSearchButton:c.bool,request:c.func.isRequired,makeDropDownText:c.func.isRequired,toolTip:c.func,parseNodeIds:c.func.isRequired,onUpdate:c.func,multiselect:c.bool,preselected:(0,c.oneOfType)([c.string,c.array]),preexpanded:c.any,selectedData:(0,c.oneOfType)([c.object,c.array]),label:c.func.isRequired,allowSelection:c.func},Ka.defaultProps={getChildrenData:()=>{},getRootData:()=>{},toggleOnLabelClick:!0,onSelect:()=>{},minResultCount:50,inputLabelObject:ja.search,withSearchButton:!1,toolTip:null,onUpdate:()=>{},multiselect:!1,preselected:null,preexpanded:null,selectedData:[],allowSelection:()=>!0};const Xa={display:"flex",alignItems:"center"},en={"&.MuiTreeItem-root:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}},tn=Za({"& .MuiTreeItem-label":Za(Za({},Xa),{},{paddingLeft:"0px"})},en),rn=(0,z.makeStyles)((e=>({truncatedTreeview:{color:e.palette.mediumGray.main},singleTreeItem:Za(Za({},tn),{},{color:e.palette.gray.main}),truncatedTreeviewItem:Za(Za({},tn),{},{color:e.palette.mediumGray.main}),lastTreeItem:Za(Za({"& .MuiTreeItem-label":Za({},Xa)},en),{},{color:e.palette.gray.main}),removeIconContainer:{paddingLeft:"5px","& .MuiTreeItem-iconContainer":{display:"none"}}}))),on=({selectedItems:e,label:t,redirect:r})=>{var o;const l=rn(),i=(0,a.useRef)(),s=(e,o)=>{if(0===e.size)return null;const a=new Map(e),c=a.entries().next().value;a.delete(c[0]);const u=((e,t,r)=>1===e.size?r.singleTreeItem:0===t.size?r.lastTreeItem:r.truncatedTreeviewItem)(o,a,l);return n().createElement(br.TreeItem,{key:c[0].toString()+a.size.toString(),className:u,onIconClick:e=>e.preventDefault(),onLabelClick:(d=c[0],e=>{e.preventDefault(),new Date-i.current<150&&r(d)}),collapseIcon:n().createElement(Fa(),{style:{fontSize:"large"}}),expandIcon:n().createElement(Da(),{style:{fontSize:"large"}}),label:t(c[1]),nodeId:c[0],disabled:!0},e.size>=1?s(a,o):null);var d},c=null!==(o=Array.from(e.keys()).map((e=>e.toString())))&&void 0!==o?o:[];return n().createElement(br.TreeView,{onMouseDown:()=>{i.current=new Date},disableSelection:!0,expanded:c,classes:{root:1===c.length&&l.removeIconContainer},className:l.truncatedTreeview},s(e,e))};on.propTypes={selectedItems:c.any,label:c.func.isRequired,redirect:c.func},on.defaultProps={selectedItems:null,redirect:()=>null},e.p,e.p;const an=require("react-visibility-sensor");var nn=e.n(an);class ln extends a.Component{constructor(e){super(e),this.image=null,this.state={image:e.placeholder,isVisible:!1,loading:!0},this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this)}componentDidUpdate(e){const{src:t,placeholder:r}=this.props;t!==e.src&&(this.state.isVisible?this.loadImage(t):this.setState({image:r,loading:!0}))}componentWillUnmount(){this.image&&(this.image.onload=null,this.image.onerror=null)}handleVisibilityChange(e){this.setState({isVisible:e},(()=>{this.state.loading&&this.state.isVisible&&this.loadImage(this.props.src)}))}onLoad(){this.setState({image:this.image.src,loading:!1})}onError(e){const{onError:t}=this.props;t&&t(e)}loadImage(e){this.image&&(this.image.onload=null,this.image.onerror=null);const t=new Image;this.image=t,t.onload=this.onLoad,t.onerror=this.onError,t.src=e}render(){const{image:e,loading:t,isVisible:r}=this.state,{children:o,visibilitySensorProps:a}=this.props;if(!o||"function"!=typeof o)throw new Error("LazyProgressiveImage requires a function as its only child");return n().createElement(nn(),T()({},a,{onChange:this.handleVisibilityChange}),o(e,t,r))}}ln.propTypes={children:u().func,onError:u().func,placeholder:u().string,src:u().string,visibilitySensorProps:u().any},ln.defaultProps={children:void 0,onError:void 0,placeholder:void 0,src:void 0,visibilitySensorProps:void 0};const sn=require("react-awesome-query-builder"),cn=require("react-awesome-query-builder/lib/config/material");var un=e.n(cn);const dn=(0,S.defineMessages)({and:{id:"blsq.queryBuilder.and",defaultMessage:"And"},or:{id:"blsq.queryBuilder.or",defaultMessage:"Or"},contains:{id:"blsq.queryBuilder.contains",defaultMessage:"Contains"},notLike:{id:"blsq.queryBuilder.notLike",defaultMessage:"Not contains"},startsWith:{id:"blsq.queryBuilder.startsWith",defaultMessage:"Starts with"},endsWith:{id:"blsq.queryBuilder.endsWith",defaultMessage:"Ends with"},between:{id:"blsq.queryBuilder.between",defaultMessage:"Between"},notBetween:{id:"blsq.queryBuilder.notBetween",defaultMessage:"Not between"},isEmpty:{id:"blsq.queryBuilder.isEmpty",defaultMessage:"Is empty"},isNotEmpty:{id:"blsq.queryBuilder.isNotEmpty",defaultMessage:"Is not empty"},isNull:{id:"blsq.queryBuilder.isNull",defaultMessage:"Is null"},isNotNull:{id:"blsq.queryBuilder.isNotNull",defaultMessage:"Is not null"},anyIn:{id:"blsq.queryBuilder.anyIn",defaultMessage:"Any in"},notAnyIn:{id:"blsq.queryBuilder.notAnyIn",defaultMessage:"Not in"},equals:{id:"blsq.queryBuilder.equals",defaultMessage:"Equals"},notEquals:{id:"blsq.queryBuilder.notEquals",defaultMessage:"Not equals"},proximity:{id:"blsq.queryBuilder.proximity",defaultMessage:"Proximity search"},proximityValueLabel1:{id:"blsq.queryBuilder.proximityValueLabel1",defaultMessage:"Word 1"},proximityValuePLaceholder1:{id:"blsq.queryBuilder.proximityValuePLaceholder1",defaultMessage:"Enter first word"},proximityValueLabel2:{id:"blsq.queryBuilder.proximityValueLabel2",defaultMessage:"Word 2"},proximityValuePLaceholder2:{id:"blsq.queryBuilder.proximityValuePLaceholder2",defaultMessage:"Enter second word"},proximityOptionsLabel:{id:"blsq.queryBuilder.proximityOptionsLabel",defaultMessage:"Near"},proximityOptionsPlaceholder:{id:"blsq.queryBuilder.proximityOptionsPlaceholder",defaultMessage:"Select words between"},some:{id:"blsq.queryBuilder.some",defaultMessage:"Some"},all:{id:"blsq.queryBuilder.all",defaultMessage:"All"},none:{id:"blsq.queryBuilder.none",defaultMessage:"None"},textLabel:{id:"blsq.queryBuilder.textLabel",defaultMessage:"String"},textPlaceholder:{id:"blsq.queryBuilder.textPlaceholder",defaultMessage:"Enter string"},texareaLabel:{id:"blsq.queryBuilder.texareaLabel",defaultMessage:"Text"},textareaPlaceholder:{id:"blsq.queryBuilder.textareaPlaceholder",defaultMessage:"Enter text"},numberLabel:{id:"blsq.queryBuilder.numberLabel",defaultMessage:"Number"},numberPlaceholder:{id:"blsq.queryBuilder.numberPlaceholder",defaultMessage:"Enter number"},numberFromLabel:{id:"blsq.queryBuilder.numberFromLabel",defaultMessage:"Number from"},numberFromPlaceholder:{id:"blsq.queryBuilder.numberFromPlaceholder",defaultMessage:"Enter number from"},numberToLabel:{id:"blsq.queryBuilder.numberToLabel",defaultMessage:"Number to"},numberToPlaceholder:{id:"blsq.queryBuilder.numberToPlaceholder",defaultMessage:"Enter number to"},sliderPlaceholder:{id:"blsq.queryBuilder.sliderPlaceholder",defaultMessage:"Enter number or move slider"},date:{id:"blsq.queryBuilder.date",defaultMessage:"Date"},datePlaceholder:{id:"blsq.queryBuilder.datePlaceholder",defaultMessage:"Enter date"},dateFrom:{id:"blsq.queryBuilder.dateFrom",defaultMessage:"Date from"},dateFromPlaceholder:{id:"blsq.queryBuilder.dateFromPlaceholder",defaultMessage:"Enter date from"},dateTo:{id:"blsq.queryBuilder.dateTo",defaultMessage:"Date to"},dateToPlaceholder:{id:"blsq.queryBuilder.dateToPlaceholder",defaultMessage:"Enter date to"},time:{id:"blsq.queryBuilder.time",defaultMessage:"Time"},timePlaceholder:{id:"blsq.queryBuilder.timePlaceholder",defaultMessage:"Enter time"},timeFrom:{id:"blsq.queryBuilder.timeFrom",defaultMessage:"Time from"},timeFromPlaceholder:{id:"blsq.queryBuilder.timeFromPlaceholder",defaultMessage:"Enter time from"},timeTo:{id:"blsq.queryBuilder.timeTo",defaultMessage:"Time to"},timeToPlaceholder:{id:"blsq.queryBuilder.timeToPlaceholder",defaultMessage:"Enter time to"},datetime:{id:"blsq.queryBuilder.datetime",defaultMessage:"Datetime"},datetimePlaceholder:{id:"blsq.queryBuilder.datetimePlaceholder",defaultMessage:"Enter datetime"},datetimeFrom:{id:"blsq.queryBuilder.datetimeFrom",defaultMessage:"Datetime from"},datetimeFromPlaceholder:{id:"blsq.queryBuilder.datetimeFromPlaceholder",defaultMessage:"Enter datetime from"},datetimeTo:{id:"blsq.queryBuilder.datetimeTo",defaultMessage:"Datetime to"},datetimeToPlaceholder:{id:"blsq.queryBuilder.datetimeToPlaceholder",defaultMessage:"Enter datetime to"},yes:{id:"blsq.queryBuilder.yes",defaultMessage:"Yes"},no:{id:"blsq.queryBuilder.no",defaultMessage:"No"},fieldCompare:{id:"blsq.queryBuilder.fieldCompare",defaultMessage:"Field to compare"},fieldPlaceholder:{id:"blsq.queryBuilder.fieldPlaceholder",defaultMessage:"Select field to compare"},range:{id:"blsq.queryBuilder.range",defaultMessage:"Range"},rangePlaceholder:{id:"blsq.queryBuilder.rangePlaceholder",defaultMessage:"Select range"},rangeFrom:{id:"blsq.queryBuilder.rangeFrom",defaultMessage:"Number from"},rangeFromPlaceholder:{id:"blsq.queryBuilder.rangeFromPlaceholder",defaultMessage:"Enter number from"},rangeTo:{id:"blsq.queryBuilder.rangeTo",defaultMessage:"Number to"},rangeToPlaceholder:{id:"blsq.queryBuilder.rangeToPlaceholder",defaultMessage:"Enter number to"},countEqual:{id:"blsq.queryBuilder.countEqual",defaultMessage:"Count =="},countNotEqual:{id:"blsq.queryBuilder.countNotEqual",defaultMessage:"Count !="},countLess:{id:"blsq.queryBuilder.countLess",defaultMessage:"Count <"},countLessOrEqual:{id:"blsq.queryBuilder.countLessOrEqual",defaultMessage:"Count <="},countGreater:{id:"blsq.queryBuilder.countGreater",defaultMessage:"Count >"},countGreaterOrEqual:{id:"blsq.queryBuilder.countGreaterOrEqual",defaultMessage:"Count >="},countBetween:{id:"blsq.queryBuilder.countBetween",defaultMessage:"Count between"},countNotBetween:{id:"blsq.queryBuilder.countNotBetween",defaultMessage:"Count not between"},selectValue:{id:"blsq.queryBuilder.selectValue",defaultMessage:"Select value"},values:{id:"blsq.queryBuilder.values",defaultMessage:"Values"},selectValues:{id:"blsq.queryBuilder.selectValues",defaultMessage:"Select values"},value:{id:"blsq.queryBuilder.value",defaultMessage:"Value"},field:{id:"blsq.queryBuilder.field",defaultMessage:"Field"},function:{id:"blsq.queryBuilder.function",defaultMessage:"Function"},operator:{id:"blsq.queryBuilder.operator",defaultMessage:"Operator"},selectField:{id:"blsq.queryBuilder.selectField",defaultMessage:"Select field"},selectFunction:{id:"blsq.queryBuilder.selectFunction",defaultMessage:"Select function"},selectOperator:{id:"blsq.queryBuilder.selectOperator",defaultMessage:"Select operator"},lock:{id:"blsq.queryBuilder.lock",defaultMessage:"Lock"},locked:{id:"blsq.queryBuilder.locked",defaultMessage:"Locked"},addGroup:{id:"blsq.queryBuilder.addGroup",defaultMessage:"Add group"},addCondition:{id:"blsq.queryBuilder.addCondition",defaultMessage:"Add condition"},addDefaultCase:{id:"blsq.queryBuilder.addDefaultCase",defaultMessage:"Add default condition"},defaultCase:{id:"blsq.queryBuilder.defaultCase",defaultMessage:"Default:"},addRule:{id:"blsq.queryBuilder.addRule",defaultMessage:"Add rule"},addSubRule:{id:"blsq.queryBuilder.addSubRule",defaultMessage:"Add sub rule"},not:{id:"blsq.queryBuilder.not",defaultMessage:"Not"},valueSourcesPopupTitle:{id:"blsq.queryBuilder.valueSourcesPopupTitle",defaultMessage:"Select value source"},cancel:{id:"blsq.queryBuilder.cancel",defaultMessage:"Cancel"},confirm:{id:"blsq.queryBuilder.confirm",defaultMessage:"Confirm"},queryTab:{id:"blsq.queryBuilder.queryTab",defaultMessage:"Query"},jsonTab:{id:"blsq.queryBuilder.jsonTab",defaultMessage:"Json"},apply:{id:"blsq.queryBuilder.apply",defaultMessage:"Apply"},invalidJson:{id:"blsq.queryBuilder.invalidJson",defaultMessage:"Invalid JSON"}});function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const mn=(0,z.makeStyles)((e=>({root:{"& .query-builder-container":{padding:"0 !important"},"& .qb-drag-handler, .qb-draggable, .query-builder":{WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"& .rule--header:after":{content:'""',display:"table",clear:"both"},"& .group--header,\n.group--footer":{display:"flex",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px",marginBottom:"10px"},"& .query-builder":{overflow:"hidden",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:1.25,margin:0},"& .query-builder *, .query-builder *::before, .query-builder *::after":{boxSizing:"border-box"},"& body.qb-dragging .ant-tooltip":{display:"none"},"& .query-builder.qb-dragging":{cursor:["-webkit-grabbing !important","grabbing !important"]},"& .query-builder.qb-dragging button":{pointerEvents:"none"},"& .group":{background:e.palette.gray.background,border:`1px solid ${e.palette.border.main}`},"& .rule":{backgroundColor:"white",border:"1px solid transparent",padding:"10px",flex:1,display:"flex"},"& .rule-with-error .rule":{border:"1px solid #e0a1a1"},"& .rule--body--wrapper":{flex:1,display:"flex",flexDirection:"column"},"& .rule--error":{color:"red",marginBottom:"-5px",marginTop:"5px"},"& .group-or-rule":{borderRadius:"5px",position:"relative"},"& .rule_group":{background:"rgba(255, 252, 242, 0.5)",border:"1px solid #f9f1dd",display:"flex",paddingLeft:"10px"},"& .qb-draggable":{pointerEvents:"none",position:"absolute",opacity:.7,zIndex:1e3},"& .qb-placeholder":{border:"1px dashed gray"},"& .locked":{border:"1px dashed red"},"& .ant-tooltip-inner":{minHeight:"18px"},"& .ant-slider":{marginBottom:"4px",marginTop:"4px"},"& .ant-slider-with-marks":{marginBottom:"10px",marginTop:"4px"},"& .ant-slider-track":{visibility:"visible !important"},"& .ant-select-tree-dropdown > div[role=listbox]":{outline:"none"},"& ul.ant-select-selection__rendered":{marginRight:"11px"},"& .ant-select-item":{minHeight:"22px"},"& .group--children":{paddingLeft:"24px",marginTop:"10px",marginBottom:"10px"},"& .group--children > .group-or-rule-container > .group-or-rule:before":{top:"-4px",borderWidth:"0 0 2px 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::after":{top:"50%",borderWidth:"0 0 0 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::before, .group--children > .group-or-rule-container > .group-or-rule::after":{content:'""',position:"absolute",left:"-14px",width:"14px",height:"calc(50% + 8px)",borderColor:"#CCC",borderStyle:"solid",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children > .group-or-rule-container:first-child > .group-or-rule::before":{top:"-12px",height:"calc(50% + 14px)"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::before":{borderRadius:"0 0 0 4px"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::after":{display:"none"},"& .group--children.hide--line > .group-or-rule-container > .group-or-rule::before, .group--children.hide--line > .group-or-rule-container > .group-or-rule::after":{borderColor:"rgba(128, 128, 128, 0.1)"},"& .qb-draggable::before, .qb-draggable::after":{display:"none"},"& .qb-drag-handler":{cursor:["-webkit-grabbing","grabbing"]},"& .group--drag-handler":{marginRight:"8px",position:"relative",top:"3px"},"& .group--conjunctions .group--drag-handler":{marginLeft:"10px"},"& .group--conjunctions.hide--conj":{opacity:.3},"& .group--actions":{marginLeft:"10px",flex:1,display:"flex"},"& .group--actions--tl, .group--actions--bl":{justifyContent:"flex-start"},"& .group--actions--tl":{marginLeft:"20px"},"& .group--actions--tc, .group--actions--bc":{justifyContent:"center"},"& .group--actions--tr, .group--actions--br":{justifyContent:"flex-end"},"& .group--actions .action--DELETE":{marginTop:"-1px"},"& .case_group":{borderWidth:"2px"},"& .switch_group > .group--children > .group-or-rule-container > .group-or-rule::before, .switch_group > .group--children > .group-or-rule-container > .group-or-rule::after":{height:"calc(50% + 12px)"},"& .case_group--body":{display:"flex",flexDirection:"row",marginTop:"10px",marginBottom:"10px"},"& .case_group--body .case_group--children":{flex:"auto",marginTop:"0 !important",marginBottom:"0 !important"},"& .case_group--body .case_group--value":{marginTop:"0",marginBottom:"0",marginRight:"10px"},"& .rule_group .group--drag-handler":{alignSelf:"center"},"& .rule_group .group--field":{alignSelf:"center"},"& .rule_group .group--actions":{alignSelf:"center",flex:0},"& .rule_group .rule_group--children":{flex:1,marginTop:"5px",marginBottom:"5px",paddingLeft:"18px"},"& .rule_group .rule_group--children .group-or-rule-container":{marginBottom:"5px",marginTop:"5px",paddingRight:"5px"},"& .rule_group .rule_group--children.one--child":{paddingLeft:"10px"},"& .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::before, .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::after":{left:"-10px",width:"10px",height:"calc(50% + 8px)"},"& .group--header.hide--drag.with--conjs > .group--field--count--rule":{marginLeft:"20px"},"& .rule--header":{marginLeft:"auto",display:"flex",alignItems:"center",paddingLeft:"10px"},"& .rule--drag-handler":{display:"flex",alignItems:"center",marginRight:"8px"},"& .rule--field, .group--field, .rule--operator, .rule--value, .rule--operator-options, .rule--widget, .widget--widget, .widget--valuesrc, .widget--sep, .operator--options--sep, .rule--before-widget, .rule--after-widget":{display:"inline-block"},"& .mui .widget--sep, .mui .operator--options--sep, .mui .rule--func--bracket-before, .mui .rule--func--bracket-after, .mui .rule--func--arg-sep":{verticalAlign:"bottom",alignSelf:"flex-end",marginBottom:"8px"},"& .mui .rule--operator-options":{verticalAlign:"bottom"},"& .mui .widget--valuesrc":{verticalAlign:"bottom"},"& .rule--operator, .widget--widget, .widget--valuesrc, .widget--sep":{marginLeft:"10px"},"& .widget--valuesrc":{marginRight:"-8px"},"& .widget--valuesrc span i":{transform:"rotate(90deg)"},"& .operator--options--sep":{marginRight:"10px"},"& div.tooltip-inner":{maxWidth:"500px"},"& .rule--field label, .group--field label, .rule--operator label, .widget--widget label":{display:"block",fontWeight:"bold"},"& .conjunction":{display:"inline-block"},"& .conjunction label":{display:"inline-block",border:"1px solid",cursor:"pointer",color:"white",textTransform:"uppercase",padding:"0.2rem 0.4rem"},"& .conjunction input":{display:"none"},"& .conjunction[data-state=active] label":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction[data-state=inactive] label":{backgroundColor:"#428bca",borderColor:"#357ebd"},"& .conjunction[data-state=inactive] label:hover":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction:first-child label":{borderRadius:"3px 0 0 3px"},"& .conjunction:last-child label":{borderRadius:"0 3px 3px 0"},"& .conjunction:first-child:last-child":{borderRadius:"3px"},"& .rule--func--wrapper, .rule--func, .rule--func--args, .rule--func--arg, .rule--func--arg-value, .rule--func--bracket-before, .rule--func--bracket-after, .rule--func--arg-sep, .rule--func--arg-label, .rule--func--arg-label-sep":{display:"inline-block"},"& .rule--func--bracket-before, .rule--func--bracket-after":{marginLeft:"3px",marginRight:"3px"},"& .rule--func--bracket-before":{marginLeft:"5px"},"& .rule--func--arg-value > .rule--widget":{marginLeft:"-10px"},"& .rule--func--arg-sep":{marginLeft:"3px",marginRight:"6px"},"& .rule--func--arg-label-sep":{marginLeft:"1px",marginRight:"6px"},"& .qb-lite .group--drag-handler, .qb-lite .group--actions":{transition:"opacity 0.2s"},"& .qb-lite .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .rule_group_ext--drag-handler":{transition:"padding 0.2s"},"& .qb-lite .group--header:hover .group--header .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .group--header:hover .group--header .rule_group_ext--drag-handler,\n.qb-lite .group--header:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .group--header:not(:hover) .rule_group_ext--drag-handler,\n.qb-lite .rule_group:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .rule_group:not(:hover) .rule_group_ext--drag-handler":{width:"0",padding:"0",overflow:"hidden",opacity:0},"& .qb-lite .widget--valuesrc, .qb-lite .rule--drag-handler, .qb-lite .rule--header":{transition:"opacity 0.2s"},"& .qb-lite .rule:hover .rule .widget--valuesrc, .qb-lite .rule:hover .rule .rule--drag-handler, .qb-lite .rule:hover .rule .rule--header,\n.qb-lite .rule:not(:hover) .widget--valuesrc,\n.qb-lite .rule:not(:hover) .rule--drag-handler,\n.qb-lite .rule:not(:hover) .rule--header":{opacity:0},"& .qb-lite.qb-dragging .widget--valuesrc, .qb-lite.qb-dragging .rule--drag-handler, .qb-lite.qb-dragging .rule--header, .qb-lite.qb-dragging .group--drag-handler, .qb-lite.qb-dragging .group--actions":{opacity:"0 !important"},"& .qb-lite.qb-dragging .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite.qb-dragging .rule_group_ext--drag-handler":{width:"0 !important",padding:"0 !important",overflow:"hidden !important",opacity:"0 !important"},"& .group-or-rule-container":{marginTop:"10px",marginBottom:"10px",paddingRight:"10px"},"& .group-or-rule-container:first-child":{marginTop:"0px !important"},"& .group-or-rule-container:last-child":{marginBottom:"0px !important"},"& .rule--body.can--shrink--value":{display:"flex",alignItems:"center"},"& .rule--body.can--shrink--value .rule--value":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget":{display:"flex"},"& .rule--body.can--shrink--value .rule--value > .rule--widget .widget--widget":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget > .widget--valuesrc":{display:"flex",alignItems:"center"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon":{height:"100%"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon svg":{height:"100%"},"& .svg-inline--fa":{pointerEvents:"none"},"& .MuiFormControl-root fieldset legend":{fontSize:0,padding:0,width:0},"& .MuiFormControl-root .MuiSelect-select":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-inputRoot":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-endAdornment":{top:5},"& .MuiFormControl-root .MuiSelect-icon":{top:7},"& .MuiOutlinedInput-input":{padding:"17.5px 14px"},"& .MuiAutocomplete-root":{width:"300px !important",minWidth:"300px !important"}}})));function bn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(r),!0).forEach((function(t){o()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const hn={id:sn.Utils.uuid(),type:"group"},yn=({logic:e,fields:t,onChange:r})=>{const o=(()=>{const{formatMessage:e}=F();return(0,a.useMemo)((()=>gn(gn({},un()),{},{conjunctions:gn(gn({},un().conjunctions),{},{AND:gn(gn({},un().conjunctions.AND),{},{label:"And"}),OR:gn(gn({},un().conjunctions.OR),{},{label:"Or"})}),operators:gn(gn({},un().operators),{},{like:gn(gn({},un().operators.like),{},{label:e(dn.contains)}),not_like:gn(gn({},un().operators.not_like),{},{label:e(dn.notLike)}),starts_with:gn(gn({},un().operators.starts_with),{},{label:e(dn.startsWith)}),ends_with:gn(gn({},un().operators.ends_with),{},{label:e(dn.endsWith)}),between:gn(gn({},un().operators.between),{},{label:e(dn.between)}),not_between:gn(gn({},un().operators.not_between),{},{label:e(dn.notBetween)}),is_empty:gn(gn({},un().operators.is_empty),{},{label:e(dn.isEmpty)}),is_not_empty:gn(gn({},un().operators.is_not_empty),{},{label:e(dn.isNotEmpty)}),is_null:gn(gn({},un().operators.is_null),{},{label:e(dn.isNull)}),is_not_null:gn(gn({},un().operators.is_not_null),{},{label:e(dn.isNotNull)}),select_any_in:gn(gn({},un().operators.select_any_in),{},{label:e(dn.anyIn)}),select_not_any_in:gn(gn({},un().operators.select_not_any_in),{},{label:e(dn.notAnyIn)}),multiselect_equals:gn(gn({},un().operators.multiselect_equals),{},{label:e(dn.equals)}),multiselect_not_equals:gn(gn({},un().operators.multiselect_not_equals),{},{label:e(dn.notEquals)}),proximity:gn(gn({},un().operators.proximity),{},{label:e(dn.proximity),valueLabels:[{label:e(dn.proximityValueLabel1),placeholder:e(dn.proximityValuePLaceholder1)},{label:e(dn.proximityValueLabel2),placeholder:e(dn.proximityValuePLaceholder2)}],options:gn(gn({},un().operators.proximity.options),{},{optionLabel:e(dn.proximityOptionsLabel),optionTextBefore:e(dn.proximityOptionsLabel),optionPlaceholder:e(dn.proximityOptionsPlaceholder)})}),some:gn(gn({},un().operators.some),{},{label:e(dn.some)}),all:gn(gn({},un().operators.all),{},{label:e(dn.all)}),none:gn(gn({},un().operators.none),{},{label:e(dn.none)})}),widgets:gn(gn({},un().widgets),{},{text:gn(gn({},un().widgets.text),{},{valueLabel:e(dn.textLabel),valuePlaceholder:e(dn.textPlaceholder)}),textarea:gn(gn({},un().widgets.textarea),{},{valueLabel:e(dn.texareaLabel),valuePlaceholder:e(dn.textareaPlaceholder)}),number:gn(gn({},un().widgets.number),{},{valueLabel:e(dn.numberLabel),valuePlaceholder:e(dn.numberPlaceholder),valueLabels:[{label:e(dn.numberFromLabel),placeholder:e(dn.numberFromPlaceholder)},{label:e(dn.numberToLabel),placeholder:e(dn.numberToPlaceholder)}]}),slider:gn(gn({},un().widgets.slider),{},{valueLabel:e(dn.numberLabel),valuePlaceholder:e(dn.sliderPlaceholder)}),select:gn(gn({},un().widgets.select),{},{valueLabel:e(dn.value),valuePlaceholder:e(dn.selectValue)}),multiselect:gn(gn({},un().widgets.multiselect),{},{valueLabel:e(dn.values),valuePlaceholder:e(dn.selectValues)}),date:gn(gn({},un().widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:e(dn.date),valuePlaceholder:e(dn.datePlaceholder),valueLabels:[{label:e(dn.dateFrom),placeholder:e(dn.dateFromPlaceholder)},{label:e(dn.dateTo),placeholder:e(dn.dateToPlaceholder)}]}),time:gn(gn({},un().widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss",valueLabel:e(dn.time),valuePlaceholder:e(dn.timePlaceholder),valueLabels:[{label:e(dn.timeFrom),placeholder:e(dn.timeFromPlaceholder)},{label:e(dn.timeTo),placeholder:e(dn.timeToPlaceholder)}]}),datetime:gn(gn({},un().widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",valueLabel:e(dn.datetime),valuePlaceholder:e(dn.datetimePlaceholder),valueLabels:[{label:e(dn.datetimeFrom),placeholder:e(dn.datetimeFromPlaceholder)},{label:e(dn.datetimeTo),placeholder:e(dn.datetimeToPlaceholder)}]}),boolean:gn(gn({},un().widgets.boolean),{},{labelYes:e(dn.yes),labelNo:e(dn.no)}),field:gn(gn({},un().widgets.field),{},{valueLabel:e(dn.fieldCompare),valuePlaceholder:e(dn.fieldPlaceholder)}),func:gn(gn({},un().widgets.func),{},{valueLabel:e(dn.function),valuePlaceholder:e(dn.selectFunction)}),rangeslider:gn(gn({},un().widgets.rangeslider),{},{valueLabel:e(dn.function),valuePlaceholder:e(dn.selectFunction),valueLabels:[{label:e(dn.rangeFrom),placeholder:e(dn.rangeFromPlaceholder)},{label:e(dn.rangeTo),placeholder:e(dn.rangeToPlaceholder)}]})}),types:gn(gn({},un().types),{},{"!group":gn(gn({},un().types["!group"]),{},{widgets:gn(gn({},un().types["!group"].widgets),{},{number:gn(gn({},un().types["!group"].widgets.number),{},{opProps:{equal:{label:e(dn.countEqual)},not_equal:{label:e(dn.countNotEqual)},less:{label:e(dn.countLess)},less_or_equal:{label:e(dn.countLessOrEqual)},greater:{label:e(dn.countGreater)},greater_or_equal:{label:e(dn.countGreaterOrEqual)},between:{label:e(dn.countBetween)},not_between:{label:e(dn.countNotBetween)}}})})})}),settings:gn(gn({},un().settings),{},{valueSourcesInfo:gn(gn({},un().settings.valueSourcesInfo),{},{value:{label:e(dn.value)},field:{label:e(dn.field),widget:"field"},func:{label:e(dn.function),widget:"func"}}),locale:gn(gn({},un().settings.locale),{},{moment:ya().locale()}),valueLabel:e(dn.value),valuePlaceholder:e(dn.value),fieldLabel:e(dn.field),operatorLabel:e(dn.operator),funcLabel:e(dn.function),fieldPlaceholder:e(dn.selectField),funcPlaceholder:e(dn.selectFunction),operatorPlaceholder:e(dn.selectOperator),lockLabel:e(dn.lock),lockedLabel:e(dn.locked),addGroupLabel:e(dn.addGroup),addCaseLabel:e(dn.addCondition),addDefaultCaseLabel:e(dn.addDefaultCase),defaultCaseLabel:e(dn.defaultCase),addRuleLabel:e(dn.addRule),addSubRuleLabel:e(dn.addSubRule),valueSourcesPopupTitle:e(dn.valueSourcesPopupTitle)})})),[e])})(),l=(0,a.useMemo)((()=>fn(fn({},o),{},{fields:t})),[t,o]),[i,s]=(0,a.useState)(sn.Utils.checkTree(sn.Utils.loadFromJsonLogic(e,l)||sn.Utils.loadTree(hn),l)),c=(0,a.useCallback)(((e,t)=>{s(e),r(sn.Utils.jsonLogicFormat(e,t))}),[r]),u=mn();return n().createElement("section",{className:u.root},n().createElement(sn.Query,fn(fn({},l),{},{value:i,onChange:c,renderBuilder:e=>n().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},n().createElement("div",{className:"query-builder qb-lite"},n().createElement(sn.Builder,fn({},e))))})))},On=(0,S.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"}}),vn=(0,s.makeStyles)((e=>({input:{display:"flex",alignItems:"center",border:`1px solid ${e.palette.border.main}`,paddingTop:12,paddingBottom:12,paddingRight:e.spacing(2),paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,minHeight:54,cursor:"pointer","&:hover":{borderColor:e.palette.border.hover}},fixedHeightValue:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"92%"},value:{paddingRight:"8%"},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main},clear:{position:"absolute",right:e.spacing(2),top:"50%",transform:"translateY(-50%)"}}))),wn=({value:e,onClick:t,dataTestId:r,errors:o,required:a,label:l,onClear:i,fixedHeight:c=!0})=>{const u=vn();return n().createElement(s.Box,{mt:2},n().createElement(Ze,{errors:o},n().createElement(s.InputLabel,{shrink:Boolean(e),required:a,className:u.inputLabel},l),n().createElement(s.Box,{className:u.input,onClick:t,"data-test":r},n().createElement(s.Typography,{className:p()(c&&u.fixedHeightValue,!c&&u.value),component:"span"},e)),e&&""!==e&&n().createElement(s.Box,{className:u.clear},n().createElement(Ne,{size:"small",onClick:i,icon:"clear",tooltipMessage:On.clear}))))},xn=(0,z.makeStyles)((e=>({textArea:{width:"100%",minWidth:"100%",minHeight:"100px",padding:e.spacing(2),outline:"none"},textAreaError:{borderColor:`${e.palette.error.main} !important`}}))),qn=({initialLogic:e,changeLogic:t})=>{const{formatMessage:r}=F(),o=xn(),[l,i]=(0,a.useState)(JSON.stringify(e)),[c,u]=(0,a.useState)([]);return n().createElement(s.Box,{mt:2,mb:-2},n().createElement(Ze,{errors:c},n().createElement("textarea",{className:p()(o.textArea,c.length>0&&o.textAreaError),onChange:e=>{const{value:t}=e.target;i(t);try{JSON.parse(t),u([])}catch(e){u([r(dn.invalidJson)])}},value:l})),n().createElement(s.Box,{mt:2,display:"flex",justifyContent:"flex-end"},n().createElement(s.Button,{disabled:!l||c.length>0||l===JSON.stringify(e),onClick:()=>l&&t(JSON.parse(l)),color:"primary","data-test":"apply-button"},r(dn.apply))))};return({label:e,closeDialog:t,isOpen:r,id:o,dataTestId:l,initialLogic:i,fields:c,onChange:u})=>{const{formatMessage:d}=F(),[p,g]=(0,a.useState)(i),[m,b]=(0,a.useState)("query");return n().createElement(ia,{allowConfirm:!0,titleMessage:e,onConfirm:()=>{t(),u(p)},onCancel:()=>{t()},maxWidth:"md",cancelMessage:dn.cancel,confirmMessage:dn.confirm,open:r,closeDialog:t,dataTestId:l||"",id:o||"",onClose:()=>null},n().createElement(s.Tabs,{value:m,onChange:(e,t)=>{b(t)}},n().createElement(s.Tab,{value:"query",label:d(dn.queryTab)}),n().createElement(s.Tab,{value:"json",label:d(dn.jsonTab)})),"query"===m&&n().createElement(s.Box,{mt:2},n().createElement(yn,{logic:p,fields:c,onChange:e=>{g(null==e?void 0:e.logic)}})),"json"===m&&n().createElement(qn,{initialLogic:p,changeLogic:e=>g(e)}))},({label:e,value:t,onClick:r,dataTestId:o,onClear:a})=>{const{formatMessage:l}=F();return n().createElement(wn,{onClick:r,value:t,dataTestId:`open-query-builder-${o||"default"}`,label:l(e),onClear:a,fixedHeight:!1})},require("lodash/isEmpty"),sn.Utils.uuid(),require("@dnd-kit/core"),require("@dnd-kit/sortable"),require("@dnd-kit/modifiers"),require("@dnd-kit/utilities"),(0,z.makeStyles)((e=>({item:{padding:e.spacing(1),backgroundColor:"white",border:`1px solid ${e.palette.grey[200]}`,borderRadius:5,marginBottom:e.spacing(1)},lastItem:{marginBottom:e.spacing(0)}}))),(0,S.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),(0,z.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center",backgroundColor:e.palette.gray.background}}))),(0,z.makeStyles)((e=>({list:{padding:e.spacing(1),margin:0,listStyleType:"none",backgroundColor:e.palette.gray.background},draggablelist:{padding:e.spacing(0),margin:0,listStyleType:"none"},draggableItem:{padding:e.spacing(1),backgroundColor:e.palette.grey[200],border:`1px solid ${e.palette.grey[400]}`,borderRadius:5,boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"}}))),require("@material-ui/icons/DragIndicator"),(0,z.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20}}))),(0,z.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},hiddenRow:{visibility:"collapse"}}))),(0,z.makeStyles)((e=>({draggableRow:{backgroundColor:e.palette.grey[200],boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"},hiddenRow:{visibility:"collapse"},sortCell:{padding:e.spacing(1),width:20}}))),(0,S.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),(0,z.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center"},cell:{padding:"0 !important"}}))),(0,z.makeStyles)((e=>({table:{"& tr":{backgroundColor:"rgba(244,244,244,1)"},"& tr:nth-of-type(even)":{backgroundColor:"white"}},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortCell:{padding:e.spacing(1),width:20}}))),t.default})()));
//# sourceMappingURL=index.js.map