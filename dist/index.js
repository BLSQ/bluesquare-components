<<<<<<< HEAD
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bluesquare-components",[],t):"object"==typeof exports?exports["bluesquare-components"]=t():e["bluesquare-components"]=t()}(self,(()=>(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p:""},t={};e.r(t),e.d(t,{AddButton:()=>ze,AddComment:()=>rl,ArrayFieldInput:()=>vr,BlockPlaceholder:()=>pn,Checkbox:()=>wr,ColumnsSelectDrawer:()=>Pn,CommentWithThread:()=>ul,ConfirmCancelButtons:()=>_a,ConfirmCancelModal:()=>Ha,CsvSvg:()=>C,CustomInput:()=>Sa,DHIS2Svg:()=>k,DatePicker:()=>ur,DynamicSelect:()=>vl,DynamicTabs:()=>Xt,EnrichedTreeItem:()=>Il,ErrorBoundary:()=>un,ErrorBoundaryWithMessage:()=>va,ExcellSvg:()=>M,Expander:()=>Oa,ExportButton:()=>Ue,FakeInput:()=>ci,FilesUpload:()=>Aa,FormControl:()=>lr,HeaderRowIcon:()=>jn,IasoChipColors:()=>r,IasoTreeView:()=>Bl,IasoUiConstants:()=>o,IconButton:()=>Nt,InfoHeader:()=>Tn,InputLabel:()=>qr,LazyImage:()=>Yl,LinkContext:()=>kt,LinkProvider:()=>St,LoadingSpinner:()=>v,MENU_HEIGHT_WITHOUT_TABS:()=>de,MENU_HEIGHT_WITH_TABS:()=>ue,NumberInput:()=>Tr,OrgUnitSvg:()=>B,PageRowSelect:()=>aa,PasswordInput:()=>Lr,PdfSvg:()=>N,QueryBuilder:()=>li,QueryBuilderInput:()=>pi,Radio:()=>Rr,SIDEBAR_WIDTH:()=>ce,SearchInput:()=>_r,Select:()=>sn,SelectionSpeedDials:()=>Ln,ShapeSvg:()=>z,SimpleModal:()=>Pa,SingleComment:()=>sl,SnackBar:()=>n,SortableList:()=>Ii,SortableTable:()=>Yi,Table:()=>ga,TextInput:()=>cn,TextSvg:()=>H,TreeViewResultsCountSelect:()=>yl,TreeViewWithSearch:()=>Rl,TruncatedTreeview:()=>Hl,WordSvg:()=>W,XmlSvg:()=>K,addPositionIndex:()=>Wt,capitalize:()=>Ht,clone:()=>zt,commonStyles:()=>De,createUrl:()=>es,deepEqual:()=>Vt,defaultSelectionActions:()=>to,displayDateFromTimestamp:()=>Xi,english:()=>$l,formatThousand:()=>$t,french:()=>Gl,getColumnsHeadersInfos:()=>io,getOrderArray:()=>Xn,getParamsKey:()=>oo,getSimplifiedColumns:()=>eo,getSort:()=>Qn,getTableParams:()=>ao,getTableUrl:()=>Zn,injectIntl:()=>Ee,makeFullModal:()=>Ua,mapPopupStyles:()=>Be,mapStyles:()=>Te,patchIntl:()=>ye,rawTheme:()=>je,removePositionIndex:()=>Ut,renderTags:()=>Jr,selectionInitialState:()=>ro,setTableSelection:()=>no,substituteVars:()=>_t,tableInitialResult:()=>lo,testTS:()=>ke,textPlaceholder:()=>pe,theme:()=>qe,translateOptions:()=>Zi,truncateText:()=>Gt,useHumanReadableJsonLogic:()=>Oi,useKeyPressListener:()=>an,useLink:()=>Tt,useSafeIntl:()=>xe,useSkipEffectOnMount:()=>Pe,useTranslatedOptions:()=>Qi,withLink:()=>Mt});var r={};e.r(r),e.d(r,{chipColors:()=>J,getChipColors:()=>Z,getOtChipColors:()=>X,otChipColors:()=>Q});var n={};e.r(n),e.d(n,{buttonReloadMessageKey:()=>ne,error:()=>le,formErrorMessageKey:()=>te,formSuccessFullMessageKey:()=>ee,formWarningMessageKey:()=>re,reloadPage:()=>se,reloadPageMessageKey:()=>oe,success:()=>ae,warning:()=>ie});var o={};e.r(o),e.d(o,{MENU_HEIGHT_WITHOUT_TABS:()=>de,MENU_HEIGHT_WITH_TABS:()=>ue,SIDEBAR_WIDTH:()=>ce,textPlaceholder:()=>pe});const a=require("@babel/runtime/helpers/defineProperty");var l=e.n(a);const i=require("react");var s=e.n(i);const c=require("@material-ui/core/CircularProgress");var u=e.n(c);const d=require("@material-ui/core"),p=require("prop-types");var m=e.n(p);const g=require("classnames");var b=e.n(g);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.4)",top:0,left:0},O=e=>{const{classes:t,size:r,transparent:n,fixed:o,absolute:a,padding:l}=e;return s().createElement("div",{style:{padding:l},className:b()(o&&!a&&t.rootFixed,a&&t.rootAbsolute,!o&&!a&&t.root,n&&t.rootTransparent)},s().createElement(u(),{size:r}))};O.defaultProps={size:40,transparent:!1,fixed:!0,absolute:!1,padding:0},O.propTypes={size:m().number,transparent:m().bool,fixed:m().bool,absolute:m().bool,padding:m().number,classes:m().object.isRequired};const v=(0,d.withStyles)((()=>({rootFixed:h(h({},y),{},{position:"fixed",zIndex:"1000"}),rootAbsolute:h(h({},y),{},{position:"absolute",zIndex:"500"}),root:h(h({},y),{},{position:"relative",zIndex:"1"}),rootTransparent:{backgroundColor:"transparent"}})))(O),w=require("@material-ui/core/SvgIcon");var E=e.n(w);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){const t=P(P({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("g",null,s().createElement("path",{d:"M15.00336,19.0177a1.22617,1.22617,0,0,1,.42463-.23654,1.59576,1.59576,0,0,1,.48321-.07382,1.848,1.848,0,0,1,1.435.63421l.96642-1.16047a2.7286,2.7286,0,0,0-1.04652-.69533A3.96626,3.96626,0,0,0,15.85349,17.25a3.50467,3.50467,0,0,0-1.06891.16828,2.76253,2.76253,0,0,0-.94488.51991,2.61976,2.61976,0,0,0-.67357.88345,2.92663,2.92663,0,0,0-.25667,1.27557,2.76842,2.76842,0,0,0,.168,1.01839,2.42228,2.42228,0,0,0,.45393.74216,2.97378,2.97378,0,0,0,.65892.5469,6.79238,6.79238,0,0,0,.79845.41831,5.06844,5.06844,0,0,1,1.11285.6747,1.21326,1.21326,0,0,1,.43928.98505,1.301,1.301,0,0,1-.36607.98505,1.27774,1.27774,0,0,1-.92249.35085,2.34342,2.34342,0,0,1-.97417-.2159A2.40505,2.40505,0,0,1,13.465,25.009l-.95178,1.18746a3.36245,3.36245,0,0,0,1.17142.78265,4.04267,4.04267,0,0,0,1.59605.31036,3.43456,3.43456,0,0,0,1.14213-.18892,2.68383,2.68383,0,0,0,.94488-.56039,2.73792,2.73792,0,0,0,.64428-.91044,3.01091,3.01091,0,0,0,.242-1.24144,2.49319,2.49319,0,0,0-.205-1.05252,2.66131,2.66131,0,0,0-.52713-.76915,3.45085,3.45085,0,0,0-.71749-.55325q-.39536-.2298-.77607-.40482a4.64417,4.64417,0,0,1-1.03963-.62786,1.15284,1.15284,0,0,1-.39535-.93743,1.51791,1.51791,0,0,1,.11025-.60722A1.11837,1.11837,0,0,1,15.00336,19.0177Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M7.90166,19.78685a2.21091,2.21091,0,0,1,.65892-.74931,1.57,1.57,0,0,1,.92249-.27622,1.85887,1.85887,0,0,1,1.55212.79613L12.04554,18.424a2.7775,2.7775,0,0,0-1.0982-.87075A3.78071,3.78071,0,0,0,9.38057,17.25a3.35465,3.35465,0,0,0-1.57452.37069,3.54422,3.54422,0,0,0-1.20845,1.039A4.98612,4.98612,0,0,0,5.82929,20.252a7.6351,7.6351,0,0,0,0,4.02832,5.06146,5.06146,0,0,0,.76142,1.58514,3.527,3.527,0,0,0,1.2007,1.04617,3.33459,3.33459,0,0,0,1.58916.37783,3.28915,3.28915,0,0,0,1.60294-.35084A3.14362,3.14362,0,0,0,12.03,26.021l-1.01034-1.093a2.286,2.286,0,0,1-.62189.59373,1.58619,1.58619,0,0,1-.88545.24289,1.6258,1.6258,0,0,1-.94488-.277,2.17538,2.17538,0,0,1-.66667-.74851,3.85061,3.85061,0,0,1-.39535-1.11364,6.71546,6.71546,0,0,1-.13179-1.35574,6.80205,6.80205,0,0,1,.13179-1.37A3.90579,3.90579,0,0,1,7.90166,19.78685Z",transform:"translate(-3.021)"}),s().createElement("polygon",{points:"19.377 25.157 19.333 25.157 17.605 17.493 15.643 17.493 18.176 27.047 20.402 27.047 22.979 17.493 21.105 17.493 19.377 25.157"})))}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){const t=q(q({},e),{},{viewBox:"0 0 200 182"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M191.73,60,109,6.34a19.73,19.73,0,0,0-20.32,0L8.31,58.43a12,12,0,0,0-.25,20.63L88.6,134a19.37,19.37,0,0,0,20.37.25l82.76-53.65a11.88,11.88,0,0,0,0-20.59Zm-91,61.45a4.29,4.29,0,0,1-3.49-.05l-77-52.49L97,19.13a4.76,4.76,0,0,1,3.74,0L179.6,70.28Z"}),s().createElement("path",{d:"M88.66,47.82,45.1,76.06l13.61,9.33L97,60.61a4.76,4.76,0,0,1,3.74,0l39.37,25.52,14-9.06L109,47.82A19.76,19.76,0,0,0,88.66,47.82Z"}),s().createElement("path",{d:"M191.73,101.46l-8.62-5.59-14.05,9.06,10.53,6.83-78.91,51.15a4.37,4.37,0,0,1-3.49,0l-77-52.5,10-6.47L16.55,94.57,8.31,99.91a12,12,0,0,0-.25,20.63L88.6,175.46a19.34,19.34,0,0,0,20.37.24l82.75-53.65a11.88,11.88,0,0,0,0-20.59Z"})))}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){const t=T(T({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.15,0L3.011,8.592v22.834h25.403V0H11.15z M10.434,3.613v3.808H6.826L10.434,3.613z M26.449,29.462H4.977V9.385h7.421 V1.964h14.053v27.498H26.449z"}),s().createElement("path",{d:"M15.004,14.766h0.491v-1.768H9.444v1.768h0.737c0.202,0,0.402,0.055,0.617,0.168c0.203,0.107,0.396,0.306,0.572,0.585 l2.919,4.738l-2.939,4.21c-0.16,0.229-0.306,0.421-0.438,0.576c-0.113,0.133-0.228,0.242-0.337,0.321 c-0.098,0.07-0.198,0.119-0.307,0.148c-0.127,0.034-0.282,0.051-0.462,0.051H9.198v1.769h5.438v-1.276l-0.055-0.49H14.09 c-0.449,0-0.643-0.057-0.724-0.094c0-0.053,0.01-0.115,0.028-0.186c0.024-0.088,0.055-0.176,0.095-0.264 c0.043-0.097,0.087-0.188,0.138-0.279c0.046-0.084,0.091-0.159,0.139-0.229l1.65-2.44l1.769,2.843 c0.068,0.114,0.123,0.209,0.159,0.289c0.036,0.077,0.05,0.121,0.054,0.139l0.013,0.108c0,0-0.112,0.113-0.625,0.113h-0.592v1.768 h6.033v-1.768h-0.729c-0.144,0-0.3-0.052-0.464-0.151c-0.133-0.08-0.35-0.259-0.616-0.613l-3.272-5.259l2.529-3.646 c0.164-0.238,0.314-0.437,0.452-0.594c0.125-0.142,0.246-0.26,0.362-0.349c0.092-0.069,0.182-0.116,0.272-0.142 c0.104-0.03,0.226-0.045,0.361-0.045h0.655v-1.768h-5.074v1.277l0.055,0.491h0.491c0.125,0,0.237,0.006,0.341,0.02 c0.091,0.011,0.145,0.029,0.173,0.029h0.001c0,0.1-0.027,0.213-0.085,0.336c-0.075,0.168-0.176,0.346-0.301,0.535l-1.349,2.051 l-1.287-2.08c-0.095-0.15-0.17-0.276-0.222-0.375c-0.047-0.09-0.083-0.168-0.107-0.231c-0.017-0.046-0.029-0.087-0.033-0.113 c-0.006-0.039-0.009-0.08-0.031-0.089c0.002-0.001,0.042-0.025,0.162-0.049C14.628,14.776,14.775,14.766,15.004,14.766z"})))}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){const t=D(D({},e),{},{viewBox:"0 0 85 85"});return s().createElement(E(),t,s().createElement("path",{d:"M17.518403,78.3591 C16.2139001,78.3570957 15.0595734,77.5172438 14.660803,76.28 L0.1493927,31.77603 C-0.249658449,30.5438778 0.191427305,29.1958057 1.242723,28.43453 L39.235803,0.93513 C40.2882476,0.175265921 41.7117584,0.175265921 42.764203,0.93513 L80.757302,28.43453 C81.8085865,29.1958138 82.2496596,30.5438843 81.850602,31.77603 L67.339202,76.28 C66.9404317,77.5172435 65.7861055,78.3570953 64.481603,78.3591 L17.518403,78.3591 L17.518403,78.3591 Z M19.705003,72.3692 L62.295003,72.3692 L75.464602,31.99883 L41.000003,7.07363 L6.535413,31.99883 L19.705003,72.3692 Z"}))}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){const t=R(R({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M13.2,12.3c0.2,1.8,0.3,5.1-1.1,7.8c-0.1,0.2-0.2,0.4-0.3,0.6c-2.3,0.7-4.8,2.1-5.2,3.6c-0.2,0.6,0,1.2,0.4,1.6 c0.4,0.5,1,0.7,1.6,0.7c1.4,0,2.9-1.4,4.6-4.2c0.6-0.1,4-0.6,4.7-0.6c2,2,3.6,3,4.9,3c0.8,0,1.5-0.4,1.9-1.1 c0.3-0.5,0.3-1.1,0-1.6c-0.8-1.5-4-2.1-5.9-2.2c-0.2-0.2-0.3-0.4-0.5-0.6c-2-2.2-2.8-5.5-3-7.2c0-0.4-0.1-0.7-0.1-1 c-0.1-0.9-0.7-1-1-1c-0.3,0-0.6,0.1-0.7,0.3c-0.3,0.3-0.3,0.7-0.2,1C13.1,11.7,13.1,12,13.2,12.3z M8.6,24.6 c0.2-0.2,0.6-0.5,1.1-0.8C9.2,24.3,8.8,24.5,8.6,24.6z M22.5,22.9c-0.2,0-0.5-0.1-1-0.4C22,22.6,22.3,22.7,22.5,22.9z M14.9,17.9 c0.4,0.7,0.8,1.4,1.2,2c-0.2,0-1.8,0.2-1.9,0.2C14.5,19.5,14.7,18.7,14.9,17.9z"}),s().createElement("path",{d:"M11.1,0L3,8.5v22.7h25.3V0H11.1z M10.4,3.6v3.8H6.8L10.4,3.6z M26.3,29.3H4.9v-20h7.4V2h14L26.3,29.3L26.3,29.3z"})))}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){const t=A(A({},e),{},{viewBox:"-5 -5 55 55"});return s().createElement(E(),t,s().createElement("path",{d:"M46,14V2H34V6H14V2H2V14H6V34H2V46H14V42H34v4H46V34H42V14ZM6,6h4v4H6Zm4,36H6V38h4Zm24-4H14V34H10V14h4V10H34v4h4V34H34Zm8,4H38V38h4ZM38,10V6h4v4Z"}))}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){const t=_(_({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.2,0L3,8.6v22.9h25.5V0H11.2z M10.5,3.6v3.8H6.8L10.5,3.6z M26.5,29.5H5V9.4h7.4V2h14.1V29.5z"}),s().createElement("polygon",{points:"19.1,18.6 21,18.6 21,26.8 22.6,26.8 22.6,18.6 24.4,18.6 24.4,17.2 19.1,17.2 "}),s().createElement("polygon",{points:"7.1,18.6 9,18.6 9,26.8 10.6,26.8 10.6,18.6 12.4,18.6 12.4,17.2 7.1,17.2"}),s().createElement("polygon",{points:"18.9,17.2 17.2,17.2 15.8,20.5 14.3,17.2 12.6,17.2 14.8,21.8 12.4,26.8 14.1,26.8 15.7,23.1 17.3,26.8 19.1,26.8 16.7,21.8"})))}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){const t=G(G({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M13.5,15.211a1.02243,1.02243,0,0,1,.335.197,1.583,1.583,0,0,1,.278.351,4.63323,4.63323,0,0,1,.268.532l.62,1.764-1.68,4.828L11.214,16.88c-.135-.372-.235-.679-.296-.92a2.01149,2.01149,0,0,1-.085-.435.31193.31193,0,0,1,.127-.256.78111.78111,0,0,1,.506-.129h.59V14.061H6.701V15.14h.37a1.50644,1.50644,0,0,1,.688.125.85109.85109,0,0,1,.346.367c.039.072.158.363.502,1.32l3.794,10.6h.852l2.564-7.236,2.579,7.236h.891l3.564-10.303A10.633,10.633,0,0,1,23.4,15.78a1.97318,1.97318,0,0,1,.232-.336.927.927,0,0,1,.209-.179.81631.81631,0,0,1,.244-.095,1.82682,1.82682,0,0,1,.361-.032h.37V14.059H20.355v1.079h.368a2.06347,2.06347,0,0,1,.84.142.25379.25379,0,0,1,.169.271,5.512,5.512,0,0,1-.383,1.462l-2.028,5.868-2.035-5.779a5.26922,5.26922,0,0,1-.394-1.515.40192.40192,0,0,1,.115-.33c.046-.045.174-.117.508-.117h.7V14.061H12.62V15.14h.369A1.61981,1.61981,0,0,1,13.5,15.211Z",transform:"translate(-3.021)"})))}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e){const t=Y(Y({},e),{},{viewBox:"0 0 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M15.2,3L7,11.6v22.9h25.5V3H15.2z M14.5,6.6v3.8h-3.7L14.5,6.6z M30.5,32.5H9V12.4h7.4V5h14.1V32.5z"}),s().createElement("g",null,s().createElement("path",{d:"M12.4,28.1L10.7,31H9.4l2.4-4l-2.2-3.9h1.3l1.6,2.7l1.6-2.7h1.3L13,27l2.5,4h-1.3L12.4,28.1z"}),s().createElement("path",{d:"M16.4,23.1h1.1l2.2,5.2l2.2-5.2h1.1V31h-1.2v-4.9h0l-1.6,3.8h-1l-1.6-3.8h0V31h-1.2V23.1z"}),s().createElement("path",{d:"M25,23.1h1.2v6.8H30V31h-5V23.1z"}))))}const J=["#4dd0e1","#01579b","#607d8b","#ff7043","#e91e63","#9c27b0","#f44336","#2196f3","#009688"],Z=(e,t=!1)=>{const r=t?J.reverse():J;return r[e%r.length]},Q=["#e91e63","#795548","#0277BD","#4CAF50","#607d8b","#ff7043","#01579b","#9E9D24","#9c27b0"],X=e=>Q[e%Q.length],ee="successful",te="error",re="warning",ne="reload",oe="reloadPage",ae=(e=ee,t)=>({messageKey:e,messageObject:t,options:{variant:"success",persist:!1}}),le=(e=te,t,r)=>({messageKey:e,messageObject:t,options:{variant:"error",persist:Boolean(r)},errorLog:r,id:`${e}-${Date.now()}`}),ie=(e=re,t,r)=>({messageKey:e,messageObject:t,options:{maxsnack:1,variant:"warning",persist:!0},id:r||e}),se=(e=ne,t=oe)=>({messageKey:t,type:"reload",options:{maxsnack:0,variant:"warning",persist:!0},buttonMessageKey:e,buttonAction:()=>window.location.reload(!0)}),ce=350,ue=112,de=65,pe="--",me=require("@babel/runtime/helpers/extends");var ge=e.n(me);const be=require("react-intl");function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ye=e=>he(he({},e),{},{formatMessage:(t,r)=>t&&t.id?e.formatMessage(t,r):(console.warn("Warning: Message object is not defined properly!",t),null)});function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const we=e=>{const t=ve({},e),r=e.component,n=ye((0,be.useIntl)());return delete t.component,delete t.ref,s().createElement(r,ge()({},t,{intl:n,forwardedRef:e.ref}))};we.defaultProps={ref:void 0},we.propTypes={component:m().any.isRequired,ref:m().object};const Ee=e=>s().forwardRef(((t,r)=>{const n=ve(ve({},t),{},{component:e,ref:r});return s().createElement(we,n)})),xe=()=>{const e=(0,be.useIntl)();return(0,i.useMemo)((()=>ye(e)),[e])},Pe=(e,t)=>{const r=(0,i.useRef)(!1);(0,i.useEffect)((()=>{r.current?e():r.current=!0}),t)},Ce=require("@material-ui/core/styles"),je={typography:{useNextVariants:!0},textColor:"#333",palette:{primary:{main:"#006699",secondary:"#0066cc",background:"#F5F5F5"},gray:{main:"#666",border:"rgba(0,0,0,0.02)",background:"rgba(0,0,0,0.03)"},mediumGray:{main:"#A2A2A2"},ligthGray:{main:"#F7F7F7",border:"rgba(0, 0, 0, 0.12)",background:"rgba(0, 0, 0, 0.012)"},error:{main:"rgb(215, 25, 28)",background:"rgba(215, 25, 28, 0.2)",backgroundHard:"rgba(215, 25, 28, 0.7)"},success:{main:"#4caf50",background:"rgba(76,175,80, 0.2)"},border:{main:"rgba(0,0,0,0.23)",hover:"rgba(0,0,0,0.87)"},yellow:{main:"#FFD835"}},props:{MuiTextField:{variant:"outlined"},MuiSelect:{variant:"outlined"}}},qe=(0,Ce.createTheme)(je),ke=(e,t)=>`${t}-${e.toString()}`,Se=require("@material-ui/core/styles/colorManipulator"),Te=e=>({mapContainer:{height:"62vh",marginBottom:e.spacing(2),"& .leaflet-container .leaflet-popup-content a":{color:e.palette.primary.main},"& .marker-cluster.color":{color:"white"},"& .marker-cluster.color div":{marginLeft:2,marginTop:2,display:"flex",justifyContent:"center",alignItems:"center"},"& .marker-cluster.color div .border":{position:"absolute",display:"block",height:"100%",width:"100%",top:-2,left:-2,borderRadius:"100%",zIndex:-1},"& .marker-cluster.primary":{backgroundColor:(0,Se.alpha)(e.palette.primary.main,.6)},"& .marker-cluster.primary > div":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .marker-custom":{zIndex:"500 !important"},"& .marker-custom.primary span":{position:"relative",display:"block",height:"100%",width:"100%"},"& .marker-custom .marker_bg, & .marker-custom.primary .marker_bg":{position:"absolute",display:"block",height:"10px",width:"10px",borderRadius:"10px",backgroundColor:"white",top:8,left:8},"& .marker-custom.color":{zIndex:"300 !important"},"& .marker-custom.color .svg-icon":{display:"block",height:"auto",width:16,position:"absolute",top:6,left:4,zIndex:200,borderRadius:"5px"},"& .marker-custom.color .marker_shadow":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none"},"& .marker-custom.color svg":{position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& .marker-custom.primary svg":{fill:e.palette.primary.main,position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& path.primary":{fill:(0,Se.alpha)(e.palette.primary.main,.6),stroke:e.palette.primary.main},"& path.secondary":{fill:(0,Se.alpha)(e.palette.secondary.main,.6),stroke:e.palette.secondary.main},"& path.no-pointer-event":{pointerEvents:"none !important"},"& .marker-custom.primary img":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none",width:"auto"},"& .leaflet-draw.leaflet-control":{display:"none"}}});function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const De=e=>Ie(Ie({},Te(e)),{},{containerFullHeight:{width:"100%",height:`calc(100vh - ${ue}px)`,margin:0,overflow:"auto",backgroundColor:"white"},containerFullHeightPadded:{width:"100%",height:`calc(100vh - ${ue}px)`,padding:e.spacing(4),margin:0,backgroundColor:"white",overflow:"auto",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},containerFullHeightNoTabPadded:{width:"100%",height:`calc(100vh - ${de}px)`,padding:e.spacing(4),margin:0,overflow:"auto",backgroundColor:"white",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},indicator:{backgroundColor:"white"},buttonIcon:{marginRight:e.spacing(1),width:15,height:15},smallButtonIcon:{marginRight:e.spacing(1),width:15,height:15,position:"relative",top:-1},listitem:{width:"auto",paddingLeft:e.spacing(1)},marginY:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginBottomBig:{marginBottom:e.spacing(4)},paddingBottomBig:{marginBottom:e.spacing(4)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},marginTop:{marginTop:e.spacing(2)},marginTopBig:{marginTop:e.spacing(4)},justifyFlexEnd:{display:"flex",justifyContent:"flex-end"},floatRight:{float:"right"},tabs:{padding:e.spacing(0,4)},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},dividerMarginNeg:{margin:e.spacing(0,-4,0,-4)},containerMarginNeg:{margin:e.spacing(0,-4,-4,-4),width:`calc(100% + ${e.spacing(8)})`},relativeContainer:{position:"relative"},svgIcon:{width:24,heigth:24},svgChipIcon:{width:20,heigth:20,padding:4},textError:{color:e.palette.error.main,display:"flex",alignItems:"center"},popperFixed:{position:"fixed !important"},iconButton:{padding:0},linkButton:{color:"inherit",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",height:e.spacing(6),width:e.spacing(6)},capitalize:{display:"inline-block","&:first-letter":{textTransform:"uppercase"}}}),Be=e=>({popup:{"& .leaflet-popup-content-wrapper":{padding:0},"& .leaflet-popup-content":{margin:0,minHeight:100,width:"360px !important","& p.MuiTypography-root":{margin:0,fontSize:12},"& .MuiGrid-root > div":{top:1}},"& a.leaflet-popup-close-button":{color:"white",backgroundColor:e.palette.primary.main,padding:"1px 0 0 0",top:"8px",right:"8px",borderRadius:"20px",height:"18px"},"& a.leaflet-popup-close-button:hover":{color:e.palette.primary.main,backgroundColor:"white",border:`1px solid ${e.palette.primary.main}`}},popupListItemLabel:{textAlign:"right",fontWeight:"bold",display:"inline-block",paddingRight:e.spacing(1)/2},popuplistItem:{textAlign:"left"},popupCard:{height:"100%",width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"none"},popupCardMedia:{height:180},popupCardContent:{margin:e.spacing(3,2,2,2),overflow:"hidden",wordBreak:"break-all",padding:"0 !important"}}),Le=require("@material-ui/icons/Add");var Re=e.n(Le);const Ne=(0,be.defineMessages)({create:{id:"blsq.button.label.create",defaultMessage:"Create"}});function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae({classes:e,onClick:t,message:r,id:n,dataTestId:o,size:a}){const l=xe();return s().createElement(d.Button,{variant:"contained",className:e.button,color:"primary",onClick:t,id:n,"data-test":o,size:a},s().createElement(Re(),{className:e.buttonIcon}),l.formatMessage(r))}Ae.defaultProps={message:Ne.create,id:"",dataTestId:"",size:"medium"},Ae.propTypes={classes:m().object.isRequired,onClick:m().func.isRequired,message:m().object,id:m().string,dataTestId:m().string,size:m().string};const ze=(0,d.withStyles)((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},De(e))))(Ae),Ve=require("@material-ui/icons/CallMade");var _e=e.n(Ve);const He=(0,be.defineMessages)({export:{id:"blsq.button.label.export",defaultMessage:"Export"}});function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We({classes:e,intl:t,onClick:r,message:n,isDisabled:o,batchExport:a,id:l}){return a?s().createElement(d.Button,{variant:"contained",className:e.button,color:"primary",onClick:r,disabled:o,id:l},s().createElement(_e(),{className:e.buttonIcon}),t.formatMessage(n)):s().createElement(_e(),{onClick:r,disabled:o})}We.defaultProps={message:He.export,isDisabled:!1,id:""},We.propTypes={intl:m().object.isRequired,classes:m().object.isRequired,onClick:m().func.isRequired,isDisabled:m().bool,batchExport:m().bool.isRequired,message:m().object,id:m().string};const Ue=(0,d.withStyles)((e=>Ge(Ge({},De(e)),{},{button:{marginLeft:e.spacing(2),"& svg, & i":{marginRight:e.spacing(1)}}})))(Ee(We)),Ye=require("@material-ui/icons/Delete");var Ke=e.n(Ye);const Je=require("@material-ui/icons/FilterList");var Ze=e.n(Je);const Qe=require("@material-ui/icons/CallMerge");var Xe=e.n(Qe);const et=require("@material-ui/icons/RemoveRedEye");var tt=e.n(et);const rt=require("@material-ui/icons/Settings");var nt=e.n(rt);const ot=require("@material-ui/icons/History");var at=e.n(ot);const lt=require("@material-ui/icons/Map");var it=e.n(lt);const st=require("@material-ui/icons/CachedRounded");var ct=e.n(st);const ut=require("@material-ui/icons/StopRounded");var dt=e.n(ut);const pt=require("@material-ui/icons/GetApp");var mt=e.n(pt);const gt=require("@material-ui/icons/RestoreFromTrash");var bt=e.n(gt);const ft=require("@material-ui/icons/Public");var ht=e.n(ft);const yt=require("@material-ui/icons/Clear");var Ot=e.n(yt);const vt=require("@material-ui/icons/ClearAll");var wt=e.n(vt);const Et=require("@babel/runtime/helpers/objectWithoutProperties");var xt=e.n(Et);const Pt=["href"],Ct=["href"];function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const qt=e=>(e=>({__forwardRef__:(0,i.forwardRef)(e)}))((e=>(t,r)=>{let{href:n}=t;return((e,t,r)=>{let{href:n}=e,o=xt()(e,Pt);return s().createElement(r,ge()({ref:t,to:n},o))})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({href:n},xt()(t,Ct)),r,e)})(e)),kt=(0,i.createContext)({}),St=e=>{const{linkComponent:t}=e,r=qt(t),n=(0,i.useMemo)((()=>({Link:r})),[r]);return s().createElement(kt.Provider,{value:n},e.children)};St.propTypes={children:p.any.isRequired,linkComponent:p.any.isRequired};const Tt=()=>(0,i.useContext)(kt).Link.__forwardRef__,Mt=e=>e=>{const t=(0,i.useContext)(kt).Link.__forwardRef__;return s().createElement("component",ge()({},e,{linkComponent:t}))};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Bt={delete:Ke(),"filter-list":Ze(),"call-merge":Xe(),"remove-red-eye":tt(),"restore-from-trash":bt(),edit:nt(),history:at(),map:it(),xml:K,dhis:k,orgUnit:B,refresh:ct(),stop:dt(),xls:M,download:mt(),globe:ht(),clear:Ot(),clearAll:wt()},Lt=({icon:e,color:t,onClick:r,disabled:n,fontSize:o})=>{if(void 0===e)return"wrong icon";const a=null!==r?{onClick:r}:{},l={color:"white"===t?t:void 0,opacity:n?.5:1};return s().createElement(e,ge()({},a,{color:"white"===t?"inherit":t,style:l,fontSize:o}))};function Rt({classes:e,disabled:t,onClick:r,url:n,icon:o,overrideIcon:a,tooltipMessage:l,color:i,size:c,id:u,dataTestId:p,iconSize:m}){null===r==(null===n)&&console.error("IconButtonComponent needs either the onClick or the url property"),o||a||console.error("IconButtonComponent has to be provided with an icon");const g=Tt(),b=null!=a?a:Bt[o];return s().createElement(d.Tooltip,{classes:{popper:e.popperFixed},disableFocusListener:t,disableHoverListener:t,disableTouchListener:t,placement:"bottom",title:s().createElement(be.FormattedMessage,l)},s().createElement("span",{id:u},s().createElement(d.IconButton,{className:n&&e.iconButton,disabled:t,onClick:r,size:c,"data-test":p},n?s().createElement(g,{to:n,className:e.linkButton},s().createElement(Lt,{icon:b,color:i,disabled:t,fontSize:m})):s().createElement(Lt,{icon:b,color:i,disabled:t,fontSize:m}))))}Lt.defaultProps={onClick:null,disabled:!1,fontSize:"medium"},Lt.propTypes={onClick:m().func,icon:m().oneOfType([m().object,m().func]).isRequired,color:m().string.isRequired,disabled:m().bool,fontSize:m().oneOf(["small","medium","large","default","inherit"])},Rt.defaultProps={disabled:!1,url:null,onClick:null,color:"action",size:"medium",overrideIcon:null,icon:null,id:"",dataTestId:"",iconSize:"medium"},Rt.propTypes={size:m().string,classes:m().object.isRequired,onClick:m().func,url:m().string,disabled:m().bool,icon:m().oneOf(Object.keys(Bt)),color:m().string,overrideIcon:m().any,tooltipMessage:m().object.isRequired,id:m().string,dataTestId:m().string,iconSize:m().oneOf(["small","medium","large","default","inherit"])};const Nt=(0,d.withStyles)((e=>Dt(Dt({},De(e)),{},{white:{color:"white"},popperFixed:Dt(Dt({},De(e).popperFixed),{},{marginTop:e.spacing(1)})})))(Rt),Ft=require("color");var At=e.n(Ft);function zt(e){return JSON.parse(JSON.stringify(e))}function Vt(e,t,r=!1){if("object"!=typeof e)return e===t;let n,o,a=Object.keys(e),l=Object.keys(t);if(r&&(a=a.filter((t=>null!=e[t])),l=l.filter((e=>null!=t[e]))),a.length!==l.length)return!1;for(a.sort(),l.sort(),o=a.length-1;o>=0;o-=1)if(a[o]!==l[o])return!1;for(o=a.length-1;o>=0;o-=1)if(n=a[o],!Vt(e[n],t[n],r))return!1;return!0}function _t(e,t,r=(e=>e)){return JSON.parse(JSON.stringify(e,((e,n)=>{if("string"==typeof n){const e=n.match(/\$\{([a-zA-Z0-9_-]+)\}/);if(e){const o=e[1];if(t.hasOwnProperty(o))return r(t[o]);console.warn("Cannot find match in substitudes for value:",n)}}return n})))}const Ht=(e,t=!1)=>e.split(" ").map((e=>e.slice(0,1).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase()))).join(" "),$t=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",Gt=(e,t)=>e.length>t?`${e.substring(0,t-4)}...   `:`${e}   `,Wt=e=>{const t=[];return e&&e.forEach(((e,r)=>{t.push({value:e,position:r})})),t},Ut=e=>{const t=[];return e&&e.forEach((e=>{t.push(e.value)})),t};function Yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Jt=(0,Ce.makeStyles)((e=>({tabs:Kt(Kt({},De(e).tabs),{},{paddingRight:0,"& .MuiTab-wrapper":{flexDirection:"row-reverse"}}),indicator:{backgroundColor:"white"},mainContainer:{display:"flex",position:"relative"},tabsContainer:{maxWidth:"95vw"},iconButton:{color:"white !important",height:30,position:"relative",top:21},removeIconButton:{color:"white !important",height:30,width:30,borderRadius:30,position:"relative",marginBottom:" 0 !important",display:"flex",top:-1,justifyContent:"center",alignItems:"center",marginLeft:e.spacing(1),"& svg":{width:14,height:14},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.4)"}},roundColor:{display:"inline-block",width:15,height:15,borderRadius:15,position:"relative",top:-1,marginRight:e.spacing(1)},tabContent:{height:30,display:"flex",alignItems:"center",marginBottom:" 0 !important"}})));function Zt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xt=({params:e,paramKey:t,addMessage:r,deleteMessage:n,tabParamKey:o,defaultItem:a,counts:l=[],baseLabel:c="tab",maxItems:u=5,displayCounts:p=!1,onTabsDeleted:m=(()=>null),onTabsAdded:g=(()=>null),onTabChange:b=(()=>null)})=>{const{formatMessage:f}=xe(),h=Jt(),[y,O]=(0,i.useState)(parseInt(e[o],10)||0),v=JSON.parse(e[t]),w=(0,i.useCallback)((()=>{const r=JSON.parse(e[t]),n=r.length;r.push(a);const l=Qt({},e);l[o]=n.toString(),l[t]=JSON.stringify(r),O(n),g(l)}),[a,g,t,e,o]),E=(0,i.useCallback)((r=>{const n=JSON.parse(e[t]);n.splice(r,1);const a=Qt({},e);a[t]=JSON.stringify(n),r>n.length-1&&(a[o]=(n.length-1).toString(),O(r)),m(a)}),[m,t,e,o]),x=(0,i.useCallback)((r=>{const n=JSON.parse(e[t]),a=Qt({},e);a[o]=r.toString(),a[t]=JSON.stringify(n),b(a),O(r)}),[b,t,e,o]);return s().createElement("section",{className:h.mainContainer},s().createElement("div",{className:h.tabsContainer},s().createElement(d.Tabs,{variant:"scrollable",value:y,classes:{root:h.tabs,indicator:h.indicator},onChange:(e,t)=>{x(t)}},v.map(((e,t)=>{let r={};return e.color&&(r={backgroundColor:`#${e.color}`,border:`2px solid ${At()(`#${e.color}`).darken(.5)}`}),s().createElement(d.Tab,{key:t,value:t,label:s().createElement("span",{className:h.tabContent},s().createElement("span",{style:r,className:h.roundColor}),c,p&&l[t]&&` (${$t(l[t].count)})`),icon:s().createElement(s().Fragment,null,v.length>1&&s().createElement(d.Tooltip,{title:s().createElement(s().Fragment,null,f(n),` ${c.toLowerCase()}`)},s().createElement("span",{role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),E(t)},className:h.removeIconButton},s().createElement(Ot(),null))))})})))),v.length<u&&s().createElement(d.Tooltip,{title:s().createElement(s().Fragment,null,f(r),` ${c.toLowerCase()}`)},s().createElement(d.IconButton,{onClick:()=>w(),className:h.iconButton,size:"small"},s().createElement(Re(),null))))},er=require("@material-ui/pickers"),tr=require("@material-ui/icons/Event");var rr=e.n(tr);const nr=require("@material-ui/core/FormControl");var or=e.n(nr);function ar({classes:e,children:t,errors:r,id:n,hideError:o}){const a={};return n&&(a.id=n),s().createElement(or(),ge()({className:e.formControl,variant:"outlined"},a),t,r.length>0&&!o&&s().createElement(d.Box,{className:e.errorContainer},r.filter((e=>!!e)).map((t=>s().createElement(d.Typography,{key:t,className:e.error},t)))))}ar.defaultProps={errors:[],id:null,hideError:!1},ar.propTypes={classes:m().object.isRequired,children:m().node.isRequired,errors:m().arrayOf(m().string.isRequired),id:m().oneOfType([m().object,m().string]),hideError:m().bool};const lr=(0,d.withStyles)((e=>({formControl:{width:"100%","& fieldset":{borderWidth:"1px !important"},"&:hover fieldset":{borderColor:`${e.palette.primary.main}`},"&:focused label":{color:`${e.palette.primary.main}`},zIndex:"auto"},errorContainer:{paddingLeft:e.spacing(2),paddingTop:e.spacing(1)},error:{color:e.palette.error.main,fontSize:14,padding:0}})))(ar);function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const cr=(0,d.makeStyles)((e=>sr(sr({},De(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}}))),ur=({label:e,onChange:t,currentDate:r,clearMessage:n,required:o,errors:a,hideError:l,disabled:c})=>{const u=cr(),[d,p]=(0,i.useState)(null),m=a.length>0||Boolean(d);return s().createElement(lr,{errors:a,hideError:l},s().createElement(er.KeyboardDatePicker,{autoOk:!0,disableToolbar:!0,inputVariant:"outlined",required:o,disabled:c,InputLabelProps:{className:u.label,shrink:Boolean(r),error:m},KeyboardButtonProps:{size:"small"},keyboardIcon:s().createElement(rr(),{size:"small"}),InputProps:{error:m},helperText:null,format:"DD/MM/YYYY",label:`${e}`,value:r,onChange:t,onError:e=>p(e)}),r&&s().createElement("span",{className:u.clearDateButton},s().createElement(Nt,{disabled:c,size:"small",icon:"clear",tooltipMessage:n,onClick:()=>t(null)})))};ur.defaultProps={currentDate:null,required:!1,errors:[],hideError:!1,disabled:!1},ur.propTypes={label:m().string.isRequired,onChange:m().func.isRequired,currentDate:m().oneOfType([m().string,m().object]),errors:m().array,clearMessage:m().object.isRequired,required:m().bool,hideError:m().bool,disabled:m().bool};const dr=require("@material-ui/core/ListItem");var pr=e.n(dr);const mr=require("@material-ui/core/OutlinedInput");var gr=e.n(mr);const br=require("@material-ui/core/Fab");var fr=e.n(br);function hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hr(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Or extends i.Component{constructor(e){super(e),this.state={fieldList:Wt(e.fieldList)}}UNSAFE_componentWillReceiveProps(e){this.setState({fieldList:Wt(e.fieldList)})}updateField(e,t){const r=this.state.fieldList.slice();r[t].value=e,this.props.updateList(Ut(r))}addField(){const e=this.state.fieldList.slice();e.push({value:"",position:this.state.fieldList.length}),this.props.updateList(Ut(e))}removeField(e){const t=this.state.fieldList.slice();t.splice(e,1),this.props.updateList(Ut(t))}render(){const{baseId:e,label:t,classes:r,autoComplete:n}=this.props,{fieldList:o}=this.state,a=o.length>0&&""===o[o.length-1].value;return s().createElement(d.Grid,{container:!0,spacing:0,className:r.marginTop},s().createElement(d.Grid,{item:!0,xs:1},s().createElement("span",{className:r.label},t,":")),s().createElement(d.Grid,{item:!0,xs:11},s().createElement(d.Box,{id:`array-input-field-list-${e}`},s().createElement(d.List,{className:r.list},o.map(((t,o)=>s().createElement(pr(),{key:t.position,className:r.listItem},s().createElement(gr(),{autoComplete:n,className:r.input,id:`${e}-${t.position}`,value:t.value||"",onChange:e=>this.updateField(e.currentTarget.value,o)}),s().createElement(d.IconButton,{className:r.deleteIcon,color:"inherit",onClick:()=>this.removeField(o)},s().createElement(Ke(),null))))),s().createElement(pr(),{className:r.addListItem},s().createElement(fr(),{disabled:a,className:r.Fab,size:"small",color:"primary","aria-label":"add",onClick:()=>this.addField()},s().createElement(Re(),null)))))))}}Or.defaultProps={fieldList:[],label:"",autoComplete:"off"},Or.propTypes={fieldList:m().array,baseId:m().string.isRequired,updateList:m().func.isRequired,classes:m().object.isRequired,label:m().string,autoComplete:m().string};const vr=(0,d.withStyles)((e=>yr(yr({},De(e)),{},{label:{top:e.spacing(2),position:"relative",color:e.textColor,fontSize:16},list:{width:"100%",padding:"0"},listItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",padding:"0",marginBottom:e.spacing(1)},addListItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0",marginBottom:e.spacing(2)},input:{width:"95%",marginLeft:"5%"},deleteIcon:{position:"absolute",right:e.spacing(1)}})))(Or),wr=({value:e,disabled:t,label:r,onChange:n,keyValue:o})=>s().createElement(d.FormControlLabel,{disabled:t,control:s().createElement(d.Checkbox,{id:`check-box-${o}`,color:"primary",checked:!0===e,onChange:e=>n(e.target.checked),value:"checked",disabled:t}),label:r});wr.defaultProps={value:!1,disabled:!1,onChange:()=>{},label:""},wr.propTypes={value:m().bool,disabled:m().bool,label:m().string,onChange:m().func,keyValue:m().string.isRequired};const Er=require("@material-ui/icons/Info");var xr=e.n(Er);const Pr=require("@material-ui/core/InputLabel");var Cr=e.n(Pr);const jr=(0,Ce.makeStyles)((e=>({inputLabel:{color:"rgba(0, 0, 0, 0.4)",paddingLeft:3,paddingRight:3,transition:e.transitions.create(["all"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},shrink:{fontSize:20,marginTop:-2,backgroundColor:"white"},popupIndicator:{marginRight:"6px !important",marginLeft:"6px !important"},clearIndicator:{marginTop:-2},hasClearIcon:{"& .MuiAutocomplete-inputRoot":{paddingRight:"85px !important"}}})));function qr({htmlFor:e,label:t,required:r,shrink:n,error:o}){const a=jr();return s().createElement(Cr(),{name:e.replace("input-text-",""),htmlFor:e,classes:{shrink:a.shrink},className:a.inputLabel,shrink:n,error:o},t,r&&s().createElement("sup",null," *"))}qr.defaultProps={shrink:!0,error:!1,label:""},qr.propTypes={htmlFor:m().string.isRequired,label:m().string,required:m().bool.isRequired,shrink:m().bool,error:m().bool};const kr=(0,be.defineMessages)({min:{id:"blsq.input.label.min",defaultMessage:"Minimum"},max:{id:"blsq.input.label.max",defaultMessage:"Maximum"}}),Sr=(e,t,r,n="")=>{if("number"==typeof e)return e;if(void 0===e||null==e)return"";const o=e.split(""),a=o.filter((e=>"."===e));if(1===a.length&&"."===o[o.length-1]&&!Number.isNaN(parseInt(o[o.length-2],10)))return e;if(1===a.length&&"."===o[o.length-2]&&Number.isNaN(parseInt(o[o.length-1],10)))return o.pop(),o.join("");const l=parseFloat(e);return Number.isNaN(l)?"":t&&l<t||r&&l>r?n:l},Tr=({keyValue:e,label:t,errors:r,required:n,value:o,disabled:a,onChange:l,multiline:c,autoComplete:u,min:p=-1/0,max:m=1/0})=>{const g=r.length>=1,[b,f]=(0,i.useState)(Sr(o,p,m));(0,i.useEffect)((()=>{const e=Sr(o,p,m,b);e!==b&&e>p&&e<m&&f(e)}),[o,b]);const h=((e,t)=>{const{formatMessage:r}=xe();let n="";return!e&&0!==e||e===-1/0||(n=`${r(kr.min)}: ${e}`,t&&t!==1/0&&(n+=" - ")),!t&&0!==t||t===1/0||(n+=`${r(kr.max)}: ${t}`),n})(p,m);return s().createElement(lr,{errors:r},s().createElement(qr,{htmlFor:`input-text-${e}`,label:t,required:n,error:g,shrink:""!==o}),s().createElement(d.OutlinedInput,{autoComplete:u,size:"small",multiline:c,disabled:a,id:`input-text-${e}`,value:b,type:"text",endAdornment:""!==h&&s().createElement(d.Tooltip,{title:h},s().createElement(xr(),{color:"action"})),onChange:e=>{const t=Sr(e.target.value,p,m,b);t!==b&&(f(t),l(t))},error:g}))};Tr.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off",min:void 0,max:void 0},Tr.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().oneOfType([m().string,m().number]),onChange:m().func,autoComplete:m().string,min:m().number,max:m().number};const Mr=require("@material-ui/icons/Edit");var Ir=e.n(Mr);const Dr=(0,be.defineMessages)({displayPassword:{id:"blsq.button.label.displayPassword",defaultMessage:"Display the pasword"}}),Br=({keyValue:e,label:t,errors:r,required:n,value:o,disabled:a,onChange:l,multiline:c,displayPassword:u,classes:p,autoComplete:m})=>{const g=r.length>=1,[b,f]=(0,i.useState)(u),h=xe();return s().createElement(lr,{errors:r},s().createElement(qr,{htmlFor:`input-text-${e}`,label:t,required:n,error:g,shrink:""!==o}),s().createElement(d.OutlinedInput,{size:"small",autoComplete:m,multiline:c,disabled:a,id:`input-text-${e}`,value:o,type:b?"text":"password",onChange:e=>l(e.target.value),error:g,className:p.passwordInput}),s().createElement(d.Tooltip,{className:p.displayPassword,disableFocusListener:a,disableHoverListener:a,disableTouchListener:a,placement:"bottom",title:h.formatMessage(Dr.displayPassword)},s().createElement("span",null,s().createElement(d.IconButton,{color:b?"primary":"inherit",onClick:()=>{f((e=>!e))}},s().createElement(Ir(),null)))))};Br.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},displayPassword:!1,label:"",autoComplete:"new-password"},Br.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().string,onChange:m().func,displayPassword:m().bool,classes:m().object.isRequired,autoComplete:m().string};const Lr=(0,d.withStyles)((e=>({displayPassword:{position:"absolute",top:4,right:e.spacing(2)},passwordInput:{paddingRight:e.spacing(8)}})))(Br),Rr=({options:e,name:t,onChange:r,value:n,label:o,errors:a,className:l})=>s().createElement(d.FormControl,{component:"fieldset",error:a.length>0,variant:"outlined"},s().createElement(d.FormLabel,{component:"legend",style:{fontSize:12}},o),s().createElement(d.RadioGroup,{className:l,name:t,value:n,onChange:e=>{r(e.target.value)}},e.map((e=>s().createElement(d.FormControlLabel,{key:e.value,value:e.value,control:s().createElement(d.Radio,{color:"primary"}),label:e.label,disabled:e.disabled})))));Rr.defaultProps={options:[],onChange:()=>{},value:"",label:"",errors:[],className:""},Rr.propTypes={options:m().array,name:m().string.isRequired,onChange:m().func,value:(0,p.oneOfType)([m().string,m().bool]),label:m().string,errors:m().arrayOf(m().string),className:m().string};const Nr=require("@material-ui/icons/Search");var Fr=e.n(Nr);const Ar=(0,Ce.makeStyles)((e=>({icon:{right:e.spacing(2)},search:{position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit",display:"flex",alignItems:"center"},inputInput:{paddingRight:e.spacing(7),width:"100%"},searchIconWrapper:{width:e.spacing(3),height:e.spacing(3)}}))),zr=['"',"?","/","%","&"],Vr=(0,be.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"},search:{id:"blsq.table.filter.search",defaultMessage:"search"},forbiddenChars:{id:"iaso.label.forbiddenChars",defaultMessage:'Forbidden characters: "&", "/","?"," "" " and "%"'}}),_r=({uid:e,label:t,required:r=!1,keyValue:n,disabled:o=!1,clearable:a=!1,value:l="",onEnterPressed:c,onChange:u,onErrorChange:p=(()=>null),errors:m=[],autoComplete:g,blockForbiddenChars:b=!1})=>{const f=m.length>=1,[h,y]=(0,i.useState)(l),O=(0,i.useMemo)((()=>""!==l),[l]),[v,w]=(0,i.useState)([]),[E,x]=(0,i.useState)(!1),P=Ar(),{formatMessage:C}=xe(),j=(0,i.useCallback)((()=>{E||c()}),[E,c]);return Pe((()=>{u(h)}),[h]),Pe((()=>{l!==h&&y(l)}),[l]),(0,i.useEffect)((()=>{if(b){const e=((e,t=zr)=>{for(let r=0;r<e.length;r+=1)if(t.includes(e[r]))return!0;return!1})(h);x(e);const t=e?[C(Vr.forbiddenChars)]:[];w(t)}}),[h,C,b]),(0,i.useEffect)((()=>{p(E)}),[E,p]),s().createElement(lr,{errors:v},s().createElement(qr,{htmlFor:`search-${n}`,label:t,required:r,shrink:null!=l&&""!==l,error:f||E}),s().createElement(d.OutlinedInput,{autoComplete:g,disabled:o,error:f||E,id:e?`search-${e}`:`search-${n}`,value:h,placeholder:"",onKeyPress:e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||j()},classes:{root:P.inputRoot,input:P.inputInput},endAdornment:s().createElement(s().Fragment,null,a&&O&&s().createElement(Nt,{size:"small",onClick:()=>{y("")},icon:"clear",tooltipMessage:Vr.clear}),s().createElement("div",{className:P.searchIconWrapper,tabIndex:0,role:"button",onClick:()=>j()},s().createElement(Fr(),null))),inputProps:{"aria-label":"search"},onChange:e=>y(e.target.value)}))},Hr=require("@material-ui/core/Box");var $r=e.n(Hr);const Gr=require("@material-ui/lab/Autocomplete");var Wr=e.n(Gr);const Ur=(0,be.defineMessages)({noOptions:{id:"blsq.button.label.noOptions",defaultMessage:"No results found"},valueNotFound:{id:"blsq.button.label.valueNotFound",defaultMessage:"Value not found in possible options"},oneValueNotFound:{id:"blsq.button.label.oneValueNotFound",defaultMessage:'Value "{value}" not found in possible options'},loadingOptions:{id:"blsq.select.label.loadingText",defaultMessage:"Loading..."}}),Yr=require("@material-ui/core/Chip");var Kr=e.n(Yr);const Jr=e=>(t,r)=>t.map(((t,n)=>s().createElement(Kr(),ge()({color:"secondary",style:{backgroundColor:t.color,color:"white"},label:e(t)},r({index:n}))))),Zr=(e,t,r)=>{const n={getOptionLabel:e||(e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:e.toString()}),getOptionSelected:t||((e,t)=>null!=t&&t.value?`${e.value}`==`${t.value}`:!!t&&`${e.value}`==`${t}`)};return r&&(n.renderOption=r),n},Qr=(e,t)=>t.find((t=>`${t.value}`==`${e}`)),Xr=require("@material-ui/core/TextField");var en=e.n(Xr);function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const nn=({params:e,renderOption:t,disabled:r,label:n,required:o,onBlur:a,errors:l,helperText:i,loading:c,autoComplete:u})=>{const p=jr(),m=rn({},e);let g={};return t&&e.inputProps.value&&(g={startAdornment:s().createElement("div",{className:p.startAdornment},t({label:e.inputProps.value})),style:{color:"transparent"}},m.inputProps.value=""),s().createElement(lr,{errors:l},s().createElement(en(),ge()({},m,{variant:"outlined",disabled:r,label:`${n}${o?"*":""}`,onBlur:a,error:l.length>0,InputLabelProps:{classes:{shrink:p.shrink},className:p.inputLabel},helperText:i,InputProps:rn(rn({},e.InputProps),{},{autoComplete:u,endAdornment:s().createElement(s().Fragment,null,c?s().createElement(d.CircularProgress,{color:"inherit",size:20}):null,e.InputProps.endAdornment)},g)})))};nn.defaultProps={helperText:null,renderOption:null,autoComplete:"off"},nn.propTypes={renderOption:m().oneOfType([m().object,m().func]),params:m().object.isRequired,disabled:m().bool.isRequired,label:m().string.isRequired,required:m().bool.isRequired,onBlur:m().func.isRequired,errors:m().array.isRequired,helperText:m().oneOfType([m().object,m().string]),loading:m().bool.isRequired,autoComplete:m().string};const on=({value:e,keyValue:t,label:r,errors:n,onChange:o,options:a,onBlur:l,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:m,getOptionSelected:g,loading:b,loadingText:f,renderOption:h,renderTags:y,returnFullObject:O,helperText:v})=>{const{formatMessage:w}=xe(),E=jr(),x=(0,i.useMemo)((()=>{const t=[...n],r=!Qr(e,a);return e&&!b&&r&&t.push(w(Ur.valueNotFound)),t}),[e,a,n,b]),P=(0,i.useMemo)((()=>{var t;return e?null!==(t=Qr(e,a))&&void 0!==t?t:e:null}),[e,a]),C=(0,i.useCallback)(((e,t)=>{var r;return o(null!==(r=null==t?void 0:t.value)&&void 0!==r?r:null)}),[o,O]),j=Zr(m,g,h);return s().createElement($r(),null,s().createElement(Wr(),ge()({disabled:c,noOptionsText:w(p),multiple:!1,id:t,disableClearable:!u,options:a,value:P,onChange:C,loading:b,loadingText:w(f),closeIcon:s().createElement(Ot(),null),renderTags:y,renderInput:e=>s().createElement(nn,{params:e,renderOption:h,disabled:c,label:r,required:d,onBlur:l,errors:x,helperText:v,loading:b}),classes:{popupIndicator:E.popupIndicator,clearIndicator:E.clearIndicator,hasClearIcon:E.hasClearIcon}},j)))};on.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,noOptionsText:Ur.noOptions,loadingText:Ur.loadingOptions,helperText:void 0,renderTags:Jr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},on.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,clearable:m().bool,value:m().any,onBlur:m().func,loadingText:m().oneOfType([m().object,m().string]),noOptionsText:m().oneOfType([m().object,m().string]),helperText:m().oneOfType([m().object,m().string]),options:m().array,loading:m().bool,onChange:m().func.isRequired,getOptionLabel:m().oneOfType([m().object,m().func]),getOptionSelected:m().oneOfType([m().object,m().func]),renderOption:m().oneOfType([m().object,m().func]),renderTags:m().func,returnFullObject:m().bool};const an=e=>{const[t,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const t=(t,n)=>{t.key===e&&r(n)},n=e=>{t(e,!0)},o=e=>{t(e,!1)};return document.addEventListener("keydown",n),document.addEventListener("keyup",o),document.addEventListener("blur",o),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",o),document.removeEventListener("blur",o)}}),[t]),t},ln=({value:e,keyValue:t,label:r,errors:n,onChange:o,options:a,onBlur:l,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:m,getOptionSelected:g,loading:b,renderOption:f,renderTags:h,returnFullObject:y,helperText:O,loadingText:v})=>{const{formatMessage:w}=xe(),E=jr(),x=an("Shift"),P=(0,i.useMemo)((()=>e?Array.isArray(e)?e:e.split(","):[]),[e]),C=Zr(m,g,f),j=(0,i.useMemo)((()=>{const t=[...n];return e&&!b&&P.forEach((e=>{const r=!((e,t,r)=>t.find((t=>r(t,e))))(e,a,C.getOptionSelected);r&&t.push(w(Ur.oneValueNotFound,{value:`${C.getOptionLabel(e)}`}))})),t}),[e,a,n,b]),q=(0,i.useMemo)((()=>e?y?P:P.map((e=>Qr(e,a))).filter((e=>e)):[]),[e,a]),k=(0,i.useCallback)(((e,t)=>0===t.length?o(null):o(y?t:t.map((e=>null==e?void 0:e.value)).join(","))),[o,y]);return s().createElement($r(),null,s().createElement(Wr(),ge()({disabled:c,noOptionsText:w(p),multiple:!0,disableCloseOnSelect:x,id:t,disableClearable:!u,options:a,value:q,onChange:k,loading:b,loadingText:w(v),closeIcon:s().createElement(Ot(),null),renderTags:h,renderInput:e=>s().createElement(nn,{params:e,renderOption:f,disabled:c,label:r,required:d,onBlur:l,errors:j,helperText:O,loading:b}),classes:{popupIndicator:E.popupIndicator,clearIndicator:E.clearIndicator,hasClearIcon:E.hasClearIcon}},C)))};ln.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,loadingText:Ur.loadingOptions,noOptionsText:Ur.noOptions,helperText:void 0,renderTags:Jr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},ln.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,clearable:m().bool,value:m().any,onBlur:m().func,loadingText:m().oneOfType([m().object,m().string]),noOptionsText:m().oneOfType([m().object,m().string]),helperText:m().oneOfType([m().object,m().string]),options:m().array,loading:m().bool,onChange:m().func.isRequired,getOptionLabel:m().oneOfType([m().object,m().func]),getOptionSelected:m().oneOfType([m().object,m().func]),renderOption:m().oneOfType([m().object,m().func]),renderTags:m().func,returnFullObject:m().bool};const sn=e=>e.multi?s().createElement(ln,e):s().createElement(on,e);sn.defaultProps={multi:!1},sn.propTypes={multi:m().bool};const cn=({keyValue:e,label:t,errors:r,required:n,value:o,disabled:a,onChange:l,multiline:i,autoComplete:c})=>{const u=r.length>=1;return s().createElement(lr,{errors:r},s().createElement(qr,{htmlFor:`input-text-${e}`,label:t,required:n,error:u,shrink:""!==o}),s().createElement(d.OutlinedInput,{size:"small",autoComplete:c,multiline:i,disabled:a,id:`input-text-${e}`,value:o,type:"text",onChange:e=>l(e.target.value),error:u}))};cn.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off"},cn.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().string,onChange:m().func,autoComplete:m().string};class un extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("BOUNDARY ERROR",e,t)}render(){return this.state.hasError?this.props.message?s().createElement("h1",{style:this.props.className?{}:{textAlign:"center"},className:this.props.className},this.props.message):s().createElement("h1",null,"An exception occurred: ",this.state.error.toString()):this.props.children}}un.propTypes={children:m().node.isRequired,message:m().string,className:m().string},un.defaultProps={message:null,className:null};const dn=({classes:e,width:t})=>s().createElement("div",{className:e.placeholder,style:{width:t}});dn.defaultProps={width:"50%"},dn.propTypes={classes:m().object.isRequired,width:m().string};const pn=(0,d.withStyles)((e=>({placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"}})))(dn),mn=require("react-intersection-observer"),gn=require("@material-ui/icons/Close");var bn=e.n(gn);const fn=require("@material-ui/icons/ArrowBack");var hn=e.n(fn);const yn=(0,be.defineMessages)({search:{id:"blsq.table.label.search",defaultMessage:"Search"},close:{id:"blsq.table.label.close",defaultMessage:"Close"},resetSearch:{id:"blsq.table.label.resetSearch",defaultMessage:"Empty search"},columnSelectTooltip:{id:"blsq.table.columnSelect.tooltip",defaultMessage:"Select visible columns"}});function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xn=({classes:e,options:t,setOptions:r,minColumns:n,intl:{formatMessage:o}})=>{const[a,l]=s().useState({open:!1,searchString:""}),i=e=>()=>{l(En(En({},a),{},{open:e}))},c=e=>t=>{l(En(En({},a),{},{searchString:e?"":t.target.value}))},u=t.filter((e=>e.active)).length,p=((e,t)=>{let r=[...t];if(r=r.map(((e,t)=>En(En({},e),{},{index:t}))),""!==e){const t=e.toLowerCase();r=r.filter((e=>e.key&&e.key.toLowerCase().includes(t)||e.label&&e.label.toLowerCase().includes(t)))}return r})(a.searchString,t);return s().createElement(s().Fragment,null,s().createElement(Nt,{onClick:i(!0),icon:"filter-list",color:"white",tooltipMessage:yn.columnSelectTooltip}),s().createElement(d.Drawer,{anchor:"right",open:a.open,onClose:i(!1)},s().createElement("div",{className:e.root},s().createElement("div",{className:e.toolbar},s().createElement(d.Tooltip,{title:o(yn.close)},s().createElement(d.IconButton,{onClick:i(!1)},s().createElement(hn(),null))),s().createElement("div",{className:e.search},s().createElement(d.InputBase,{value:a.searchString,onChange:c(),className:e.input,placeholder:o(yn.search),inputProps:{"aria-label":o(yn.search),className:e.input}})),""!==a.searchString&&s().createElement(d.Tooltip,{title:o(yn.resetSearch)},s().createElement(d.IconButton,{onClick:c(!0)},s().createElement(bn(),null)))),s().createElement(d.Divider,null),s().createElement("div",{className:e.list},s().createElement(d.List,null,p.map((o=>s().createElement(mn.InView,{key:o.key},(({inView:a,ref:l})=>{return s().createElement("div",{ref:l,id:o.key},s().createElement(d.ListItem,{className:e.listItem},a&&s().createElement(s().Fragment,null,s().createElement(d.Switch,{disabled:u===n&&o.active,size:"small",checked:o.active,onChange:(i=o.index,e=>{const n=[...t];n[i]=En(En({},n[i]),{},{active:e.target.checked}),r(n)}),color:"primary",inputProps:{"aria-label":o.label},className:e.switch}),s().createElement(d.ListItemText,{primary:o.label||o.key})),!a&&s().createElement(s().Fragment,null,s().createElement(pn,{width:"30px"}),s().createElement(pn,null))));var i})))))))))};xn.defaultProps={minColumns:2},xn.propTypes={classes:m().object.isRequired,options:m().array.isRequired,setOptions:m().func.isRequired,minColumns:m().number,intl:m().object.isRequired};const Pn=(0,d.withStyles)((e=>({root:{width:400,overflow:"hidden"},toolbar:vn(vn({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:e.spacing(8)}),search:{marginLeft:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},list:{height:`calc(100vh - ${e.spacing(8)}px)`,overflowY:"auto",overflowX:"hidden"},listItem:{height:e.spacing(6)},switch:{marginRight:e.spacing(1)},placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"},input:{width:"100%",padding:0}})))(Ee(xn));function Cn({IconComponent:e,title:t,classes:r}){return s().createElement("div",{className:r.root},s().createElement(d.Tooltip,{title:t},s().createElement(e,null)))}Cn.propTypes={title:m().string.isRequired,classes:m().object.isRequired,IconComponent:m().object.isRequired};const jn=(0,d.withStyles)((()=>({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})))(Cn);function qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Sn=(0,d.makeStyles)((e=>kn(kn({},De(e)),{},{root:{position:"absolute",height:"100%",width:"100%",top:0,left:0,overflow:"hidden"},icon:{cursor:"pointer",position:"relative",top:-1}}))),Tn=({message:e,children:t})=>{const r=Sn();return s().createElement(d.Box,{className:r.root,display:"flex",justifyContent:"center",alignItems:"center"},s().createElement(d.Box,{display:"inline",mr:1},t),s().createElement(d.Tooltip,{classes:{popper:r.popperFixed},placement:"bottom",title:e},s().createElement(xr(),{fontSize:"small",color:"primary",className:r.icon})))};Tn.propTypes={message:m().string.isRequired,children:m().oneOfType([m().node,m().string]).isRequired};const Mn=require("@material-ui/lab"),In=require("@material-ui/icons/CheckBox");var Dn=e.n(In);const Bn=(0,Ce.makeStyles)((e=>({speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}))),Ln=({hidden:e,actions:t,selection:r,reset:n,actionMessage:o})=>{const a=Bn(),[l,i]=s().useState(!1),c=t.filter((e=>!e.disabled));return s().createElement(d.ClickAwayListener,{onClickAway:()=>{i(!1)}},s().createElement(Mn.SpeedDial,{ariaLabel:o,className:a.speedDial,hidden:e,icon:s().createElement(Dn(),null),onOpen:()=>{i(!0)},open:l,direction:"up"},c.map((e=>s().createElement(Mn.SpeedDialAction,{key:e.label,icon:"function"==typeof e.icon?e.icon(r,n):e.icon,tooltipTitle:e.label,onClick:()=>e.onClick?e.onClick(r):()=>null})))))};Ln.defaultProps={hidden:!1,actions:[],reset:()=>null},Ln.propTypes={hidden:m().bool,actions:m().array,selection:m().object.isRequired,reset:m().func,actionMessage:m().string.isRequired};const Rn=require("@material-ui/core/Table");var Nn=e.n(Rn);const Fn=require("@material-ui/core/Paper");var An=e.n(Fn);const zn=require("@material-ui/core/TableContainer");var Vn=e.n(zn);const _n=require("lodash/isEqual");var Hn=e.n(_n);const $n=require("react-table"),Gn="-created_at",Wn=[5,10,20,30,40,50],Un=require("@material-ui/icons/Remove");var Yn=e.n(Un);function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Zn=(e,t,r=!1,n="csv",o=!1,a=!1)=>{let l=`/api/${e}/?`;const i=Jn({},t);r&&(i[n]=!0),o&&(i.asLocation=!0,i.limit=i.locationLimit,delete i.page),a&&(i.limit=i.locationLimit,delete i.page),delete i.locationLimit;const s=[];return Object.keys(i).forEach((e=>{const t=i[e];t&&!s.includes(e)&&(s.push(e),l+=`&${e}=${t}`)})),l},Qn=e=>{let t;return e.forEach(((e,r)=>{var n;t=`${t||""}${r>0?",":""}${n=e,n.desc?`-${n.id}`:n.id}`})),t},Xn=e=>e.split(",").map((e=>({id:e.replace("-",""),desc:-1!==e.indexOf("-")}))),eo=e=>e.map((e=>e.columns?{id:e.accessor,columns:eo(e.columns)}:{id:e.accessor})),to=(e,t,r)=>[{icon:s().createElement(Re(),null),label:r({id:"iaso.label.selectAll",defaultMessage:"Select all"}),onClick:()=>e()},{icon:s().createElement(Yn(),null),label:r({id:"iaso.label.unSelectAll",defaultMessage:"Unselect all"}),onClick:()=>t()}],ro={selectedItems:[],unSelectedItems:[],selectAll:!1,selectCount:0},no=(e,t,r=[],n=0)=>{switch(t){case"select":return Jn(Jn({},e),{},{selectedItems:r,selectCount:r.length});case"unselect":return Jn(Jn({},e),{},{unSelectedItems:r,selectCount:n-r.length});case"selectAll":return Jn(Jn({},e),{},{selectAll:!0,selectedItems:[],unSelectedItems:[],selectCount:n});case"reset":return ro;default:return Jn({},e)}},oo=(e,t)=>""===e?t:`${e}${Ht(t,!0)}`,ao=(e,t,r,n,o=[{id:"name",desc:!1}],a=10)=>{const l=Jn(Jn({},n),{},{limit:parseInt(e[oo(t,"pageSize")],10)||a,page:parseInt(e[oo(t,"page")],10)||0,order:Qn(e[oo(t,"order")]?Xn(e[oo(t,"order")]):o)});return r.forEach((t=>{var r;l[t.apiUrlKey]=null!==(r=e[t.urlKey])&&void 0!==r?r:t.defaultValue})),l},lo={data:[],pages:0,count:0},io=e=>{const t=[...e];return e.forEach(((e,r)=>{e.headerInfo&&(t[r]=Jn(Jn({},t[r]),{},{Header:s().createElement(Tn,{message:e.headerInfo},t[r].Header)}))})),t},so=require("@material-ui/core/TableHead");var co=e.n(so);const uo=require("@material-ui/core/TableRow");var po=e.n(uo);const mo=require("@material-ui/core/TableCell");var go=e.n(mo);const bo=require("@material-ui/core/TableSortLabel");var fo=e.n(bo);const ho=(0,be.defineMessages)({previousText:{defaultMessage:"Previous",id:"blsq.table.previous"},nextText:{defaultMessage:"Next",id:"blsq.table.next"},lastText:{defaultMessage:"Last page",id:"blsq.table.last"},firstText:{defaultMessage:"First page",id:"blsq.table.first"},noDataText:{defaultMessage:"No result",id:"blsq.table.noResult"},pageText:{defaultMessage:"Page",id:"blsq.table.page"},ofText:{defaultMessage:"of",id:"blsq.table.of"},rowsText:{defaultMessage:"results",id:"blsq.table.results"},selectionAction:{defaultMessage:"With",id:"blsq.table.labels.selectionAction"},results:{id:"blsq.table.label.resultsLower",defaultMessage:"result(s)"},selection:{id:"blsq.table.label.selection",defaultMessage:"Selection"},selected:{id:"blsq.table.label.selected",defaultMessage:"selected"},loading:{id:"blsq.table.loading",defaultMessage:"Loading..."},details:{defaultMessage:"Details",id:"blsq.table.details"},sortAsc:{defaultMessage:"Sort ascending",id:"blsq.table.sortAsc"},sortDesc:{defaultMessage:"Sort descending",id:"blsq.table.sortDesc"},unSort:{defaultMessage:"Remove sort",id:"blsq.table.unSort"},renderError:{id:"blsq.table.label.renderError",defaultMessage:"Error rendering value"}});function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const Oo=(0,Ce.makeStyles)((e=>({resizer:{display:"inline-block",width:"15px",height:"100%",position:"absolute",right:0,top:0,transform:"translateX(50%)",zIndex:1,touchAction:"none",cursor:"col-resize"},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortLabel:{display:"inline-block",width:"80%"},icon:{color:`${e.palette.primary.main}!important`,position:"absolute",left:"100%",top:3},cell:{cursor:"default"}}))),vo=({column:e,columnsProps:t,setSortBy:r,multiSortEnabled:n,sortBy:o,isLastCell:a})=>{var i;const c=Oo(),{formatMessage:u}=xe(),d=!1!==e.sortable&&!e.isResizing;let p,m=ho.sortAsc;e.isSorted&&(e.isSortedDesc?p="desc":(p="asc",m=ho.sortDesc));const g={width:null!==(i=e.width)&&void 0!==i?i:"auto"},f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.getSortByToggleProps());return f.onClick=()=>{let t=[];const a={desc:"asc"===p,id:e.id};n?t=[...o.filter((t=>t.id!==e.id)),a]:t.push(a),r(t)},s().createElement(go(),ge()({},t,{style:g,className:b()(c.headerCell,a&&c.lastHeaderCell),key:t.key}),d&&s().createElement("div",f,s().createElement(fo(),{active:e.isSorted,direction:p,title:u(m),classes:{root:c.sortLabel,icon:c.icon}},e.render("Header"))),!d&&s().createElement("div",{className:c.cell},e.render("Header")),!1!==e.resizable&&s().createElement("div",ge()({},e.getResizerProps(),{className:c.resizer})))};vo.propTypes={column:m().object.isRequired,columnsProps:m().object.isRequired,setSortBy:m().func.isRequired,multiSortEnabled:m().bool.isRequired,sortBy:m().array.isRequired,isLastCell:m().bool.isRequired};const wo=({headerGroups:e,setSortBy:t,multiSortEnabled:r,sortBy:n})=>s().createElement(co(),null,e.map((e=>{const o=e.getHeaderGroupProps();return s().createElement(po(),ge()({},o,{key:o.key}),e.headers.map(((o,a)=>{const l=o.getHeaderProps();return s().createElement(vo,{column:o,key:o.id,columnsProps:l,setSortBy:t,multiSortEnabled:r,sortBy:n,isLastCell:a+1===e.headers.length})})))})));wo.defaultProps={headerGroups:[],sortBy:[],setSortBy:()=>null},wo.propTypes={headerGroups:m().array,setSortBy:m().func,sortBy:m().array,multiSortEnabled:m().bool.isRequired};const Eo=require("@material-ui/core/TableBody");var xo=e.n(Eo);class Po extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error(e),{hasError:!0,error:e}}render(){const{value:e,children:t,classes:r,intl:{formatMessage:n}}=this.props;return this.state.hasError?s().createElement(d.Box,{className:r.errorContainer,title:`${this.state.error}`},n(ho.renderError),":",s().createElement("pre",null,`${JSON.stringify(e)}`)):t}}Po.defaultProps={value:void 0},Po.propTypes={value:m().any,intl:m().object.isRequired,classes:m().object.isRequired,children:m().any.isRequired};const Co=(0,d.withStyles)((e=>({errorContainer:{backgroundColor:e.palette.error.background,margin:0,padding:0}})))(Ee(Po)),jo=(0,Ce.makeStyles)((e=>({row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.gray.background},"&:nth-of-type(even)":{backgroundColor:"transparent"}},rowClickable:{cursor:"pointer","&:hover":{"&:nth-of-type(odd)":{backgroundColor:e.palette.grey[300]},"&:nth-of-type(even)":{backgroundColor:e.palette.grey[300]}}},cell:{padding:e.spacing(1,2)}}))),qo=({row:e,rowProps:t,subComponent:r,sortBy:n,onRowClick:o,cellProps:a})=>{var l;const c=jo(),[u,d]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{d(!1)}),[n]),s().createElement(s().Fragment,null,s().createElement(po(),ge()({},t,{onClick:t=>o?o(e.original,t):null,className:b()(c.row,Boolean(o)&&c.rowClickable,null!==(l=t.className)&&void 0!==l?l:""),key:t.key}),e.cells.map((e=>{var t;const r=e.getCellProps(a(e)),n=e.column.align||"center";return s().createElement(go(),ge()({},r,{key:r.key,className:b()(c.cell,null!==(t=r.className)&&void 0!==t?t:""),align:"actions"===e.column.id?"center":n}),s().createElement(Co,{value:e.value},!e.column.expander&&e.render("Cell"),e.column.expander&&e.render("Expander",{isExpanded:u,setIsExpanded:d})))}))),u&&r&&s().createElement(po(),ge()({},t,{key:`${t.key}-expand`,className:c.row}),s().createElement(go(),{colSpan:e.cells.length},r(e.original))))};qo.defaultProps={subComponent:void 0,sortBy:[],onRowClick:void 0,cellProps:()=>{}},qo.propTypes={sortBy:m().array,row:m().object.isRequired,rowProps:m().object.isRequired,subComponent:m().oneOfType([m().object,m().func]),onRowClick:m().oneOfType([m().func,m().object]),cellProps:m().func};const ko=({page:e,getTableBodyProps:t,prepareRow:r,subComponent:n,sortBy:o,onRowClick:a,rowProps:l,cellProps:i})=>s().createElement(xo(),t,e.map((e=>{r(e);const t=e.getRowProps(l(e));return s().createElement(qo,{row:e,rowProps:t,key:t.key,subComponent:n,sortBy:o,onRowClick:a,cellProps:i})})));ko.defaultProps={page:[],sortBy:[],rowsPerPage:10,subComponent:void 0,onRowClick:void 0,rowProps:()=>{},cellProps:()=>{}},ko.propTypes={page:m().array,sortBy:m().array,getTableBodyProps:m().func.isRequired,prepareRow:m().func.isRequired,rowsPerPage:m().number,subComponent:m().oneOfType([m().object,m().func]),onRowClick:m().oneOfType([m().func,m().object]),rowProps:m().func,cellProps:m().func};const So=require("@material-ui/core/TableFooter");var To=e.n(So);const Mo=(0,Ce.makeStyles)((e=>({cell:{padding:e.spacing(1,2)}}))),Io=({footerGroups:e})=>{const t=Mo();return s().createElement(To(),null,e.map((e=>{const r=e.getFooterGroupProps();return s().createElement(po(),ge()({},r,{key:r.key}),e.headers.map((e=>{const r=e.getFooterProps(),n=e.align||"center";return e.Footer&&!e.placeholderOf?s().createElement(go(),ge()({},r,{className:t.cell,key:r.key,align:n}),e.render("Footer")):null})))})))};Io.defaultProps={footerGroups:[]},Io.propTypes={footerGroups:m().array};const Do=require("@material-ui/core/Checkbox");var Bo=e.n(Do);const Lo=(e,t,r="id")=>{const{selectedItems:n,unSelectedItems:o,selectAll:a}=t;return a?!o.find((t=>t[r]===e[r])):Boolean(n.find((t=>t[r]===e[r])))},Ro=({count:e,multiSelect:t,selectionActions:r,setTableSelection:n,selection:o,selectionActionMessage:a})=>{const{formatMessage:l}=xe();let i=[...to((()=>n("selectAll",[],e)),(()=>n("reset")),l)];return i=i.concat(r),s().createElement(Ln,{selection:o,hidden:!t,actions:i,reset:()=>n("reset"),actionMessage:null!=a?a:l(ho.selectionAction)})};Ro.defaultProps={count:0,multiSelect:!1,selectionActions:[],selection:ro,setTableSelection:()=>null,selectionActionMessage:null},Ro.propTypes={count:m().number,multiSelect:m().bool,selectionActions:m().array,setTableSelection:m().func,selection:m().object,selectionActionMessage:m().string};const No=(0,Ce.makeStyles)((e=>({box:{width:"100%",height:e.spacing(10),backgroundColor:e.palette.gray.background}}))),Fo=({loading:e})=>{const t=No();return s().createElement($r(),{className:t.box,alignItems:"center",justifyContent:"center",display:"flex"},!e&&s().createElement(be.FormattedMessage,ho.noDataText))};Fo.defaultProps={loading:!1},Fo.propTypes={loading:m().bool};const Ao=({count:e,selectCount:t})=>s().createElement($r(),{py:2,display:"flex",justifyContent:"flex-end",className:"pagination-count"},t>0&&s().createElement(s().Fragment,null,s().createElement($r(),{display:"inline-block",mr:1},`${$t(t)} `,s().createElement(be.FormattedMessage,ho.selected)),"-"),e>0&&s().createElement($r(),{display:"inline-block",ml:1},`${$t(e)} `,s().createElement(be.FormattedMessage,ho.results)));Ao.defaultProps={count:0,selectCount:0},Ao.propTypes={count:m().number,selectCount:m().number};const zo=require("@material-ui/core/TablePagination");var Vo=e.n(zo);const _o=require("@material-ui/core/IconButton");var Ho=e.n(_o);const $o=require("@material-ui/icons/FirstPage");var Go=e.n($o);const Wo=require("@material-ui/icons/KeyboardArrowLeft");var Uo=e.n(Wo);const Yo=require("@material-ui/icons/KeyboardArrowRight");var Ko=e.n(Yo);const Jo=require("@material-ui/icons/LastPage");var Zo=e.n(Jo);const Qo=(0,Ce.makeStyles)((()=>({input:{width:80},mediumInput:{width:90},largeInput:{width:100},XLInput:{width:110}}))),Xo=({pageIndex:e,pages:t,onPageChange:r})=>{const n=Qo(),[o,a]=(0,i.useState)(e);return s().createElement($r(),{display:"inline-flex",justifyContent:"center",alignItems:"center",ml:8},s().createElement($r(),{display:"inline-block",mr:1},s().createElement(be.FormattedMessage,ho.pageText)),s().createElement(en(),{className:b()(n[(l=o,l<=999?"input":l<=9999?"mediumInput":l<=99999?"largeInput":"XLInput")],"pagination-page-select"),size:"small",label:"",type:"number",value:o,disabled:t<2,variant:"outlined",onChange:e=>{a((e=>{const t=parseInt(e,10);return Number.isNaN(t)?"":t})(e.currentTarget.value))},onKeyPress:e=>{"Enter"===e.key&&r(o)}}),s().createElement($r(),{display:"inline-block",ml:1},s().createElement(be.FormattedMessage,ho.ofText)),s().createElement($r(),{display:"inline-block",ml:1},t));var l};Xo.defaultProps={pages:0,pageIndex:0},Xo.propTypes={pages:m().number,pageIndex:m().number,onPageChange:m().func.isRequired};const ea=require("@material-ui/core/MenuItem");var ta=e.n(ea);const ra=require("@material-ui/core/Select");var na=e.n(ra);const oa=(0,Ce.makeStyles)((e=>({select:{height:40,marginLeft:e.spacing(10)}}))),aa=({rowsPerPage:e,rowsPerPageOptions:t,selectRowsPerPage:r})=>{const n=oa(),{formatMessage:o}=xe();return s().createElement($r(),{display:"inline-flex",justifyContent:"center",alignItems:"center",mr:8},s().createElement(or(),{variant:"outlined"},s().createElement(na(),{className:b()(n.select,"pagination-row-select"),value:e,onChange:e=>{r(e.target.value)}},t.map((e=>s().createElement(ta(),{key:e,value:e,className:`row-option-${e}`},`${e} ${o(ho.rowsText)}`))))))};aa.propTypes={rowsPerPage:m().number.isRequired,rowsPerPageOptions:m().array.isRequired,selectRowsPerPage:m().func.isRequired};const la=(0,Ce.makeStyles)((e=>({root:{width:"100%",position:"relative"},withCount:{marginRight:"130px"},count:{position:"absolute",right:e.spacing(2)}}))),ia=({count:e,pageIndex:t,rowsPerPage:r,onPageChange:n,pages:o,rowsPerPageOptions:a,selectRowsPerPage:l,countOnTop:i,selectCount:c})=>{const u=la(),{formatMessage:d}=xe(),p=0===t,m=t>=Math.ceil(e/r)-1;return s().createElement($r(),{py:2,display:"flex",justifyContent:"center",alignItems:"center",className:u.root},s().createElement(Ho(),{className:"pagination-first",variant:"outlined",onClick:()=>{n(1)},disabled:p,"aria-label":d(ho.firstText)},s().createElement(Go(),{color:p?"inherit":"primary"})),s().createElement(Ho(),{className:"pagination-previous",variant:"outlined",onClick:()=>{n(t)},disabled:p,"aria-label":d(ho.previousText)},s().createElement(Uo(),{color:p?"inherit":"primary"})),s().createElement(Xo,{pages:o,pageIndex:t+1,onPageChange:e=>{n(e)}}),s().createElement(aa,{rowsPerPage:r,rowsPerPageOptions:a,selectRowsPerPage:l}),s().createElement(Ho(),{className:"pagination-next",variant:"outlined",onClick:()=>{n(t+2)},disabled:m,"aria-label":d(ho.nextText)},s().createElement(Ko(),{color:m?"inherit":"primary"})),s().createElement(Ho(),{variant:"outlined",onClick:()=>{n(Math.max(0,Math.ceil(e/r)))},disabled:m,"aria-label":d(ho.lastText),className:b()(!i&&u.withCount,"pagination-last")},s().createElement(Zo(),{color:m?"inherit":"primary"})),!i&&s().createElement("div",{className:u.count},s().createElement(Ao,{count:e,selectCount:c})))};ia.propTypes={pages:m().number.isRequired,count:m().number.isRequired,onPageChange:m().func.isRequired,pageIndex:m().number.isRequired,rowsPerPage:m().number.isRequired,rowsPerPageOptions:m().array.isRequired,selectRowsPerPage:m().func.isRequired,countOnTop:m().bool.isRequired,selectCount:m().number.isRequired};const sa=(0,Ce.makeStyles)((()=>({spacer:{display:"none"},caption:{display:"none"},input:{display:"none"}}))),ca=({count:e,rowsPerPage:t,pageIndex:r,onTableParamsChange:n,pages:o,countOnTop:a,selectCount:l})=>{const i=sa(),c=r+1>o?o-1:r;return s().createElement(Vo(),{classes:{spacer:i.spacer,caption:i.caption,input:i.input},rowsPerPageOptions:Wn,component:"div",count:e,rowsPerPage:t,page:c,onPageChange:(e,t)=>{n("page",t+1)},onRowsPerPageChange:e=>{n("pageSize",e.target.value)},ActionsComponent:()=>s().createElement(ia,{rowsPerPageOptions:Wn,count:e,rowsPerPage:t,onPageChange:e=>{n("page",e)},selectRowsPerPage:e=>n("pageSize",e),pageIndex:c,pages:o,countOnTop:a,selectCount:l}),labelDisplayedRows:()=>null})};function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function da(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}ca.defaultProps={count:0,rowsPerPage:0,pageIndex:0,pages:0,selectCount:0},ca.propTypes={count:m().number,rowsPerPage:m().number,pageIndex:m().number,pages:m().number,onTableParamsChange:m().func.isRequired,countOnTop:m().bool.isRequired,selectCount:m().number};const pa=(0,Ce.makeStyles)((()=>({tableContainer:{overflowY:"hidden"},paper:{position:"relative"}}))),ma=e=>{const{params:t={pageSize:10,page:1,order:"-created_at"},count:r=0,extraProps:n={loading:!1},paramsPrefix:o="",redirectTo:a,baseUrl:l="",pages:c=0,countOnTop:u=!0,marginTop:d=!0,marginBottom:p=!0,multiSelect:m=!1,selectionActions:g=[],setTableSelection:b=(()=>null),selection:f=ro,selectionActionMessage:h=null,showPagination:y=!0,showFooter:O=!1,onTableParamsChange:w=(()=>null),defaultSorted:E=Xn(Gn),resetPageToOne:x="",elevation:P=3,onRowClick:C,rowProps:j=(()=>({})),cellProps:q=(()=>({}))}=e,{formatMessage:k}=xe(),S=pa(),T=an("Shift"),M=(0,i.useMemo)((()=>{const t=[...e.columns];return m&&!e.columns.find((e=>"selected"===e.accessor))&&t.push(((e,t,r,n)=>({Header:n(ho.selection),accessor:"selected",width:100,sortable:!1,Cell:n=>s().createElement(Bo(),{color:"primary",checked:Lo(n.cell.row.original,e),onChange:o=>(({isSelected:e,item:t,selection:r,setTableSelection:n,count:o})=>{const a=[...r.selectedItems],l=[...r.unSelectedItems],{selectAll:i}=r;if(i){if(e){const e=l.findIndex((e=>Hn()(e,t)));-1!==e&&l.splice(e,1)}else l.push(t);n("unselect",l,o)}else{if(e)a.push(t);else{const e=a.findIndex((e=>Hn()(e,t)));a.splice(e,1)}n("select",a)}})({isSelected:o.target.checked,item:n.cell.row.original,selection:e,setTableSelection:t,count:r})})}))(f,b,r,k)),io(t)}),[e.columns,m,f]),I=(0,i.useMemo)((()=>e.data),[e.data]),D=t[oo(o,"order")],B=t[oo(o,"page")],L=t[oo(o,"pageSize")],{loading:R}=n,N=(0,i.useMemo)((()=>{const e=parseInt(L,10),t=D&&Xn(D);return{pageIndex:B?parseInt(B,10)-1:0,pageSize:e||(null==n?void 0:n.defaultPageSize)||10,sortBy:t||E}}),[]),{getTableProps:F,getTableBodyProps:A,headerGroups:z,footerGroups:V,prepareRow:_,gotoPage:H,setPageSize:$,setSortBy:G,page:W,state:{pageSize:U,pageIndex:Y,sortBy:K}}=(0,$n.useTable)({columns:M,data:I,initialState:N,disableMultiSort:!0,manualPagination:!0,manualSortBy:!0,pageCount:c,autoResetPage:!1},$n.useSortBy,$n.useResizeColumns,$n.usePagination),J=(e,r)=>{const n=da({},t);"order"===e&&r.length>0?(G(r),n[oo(o,"order")]=Qn(r)):"order"!==e&&(n[oo(o,e)]=r),"pageSize"===e&&(n[oo(o,"page")]=1,$(r)),"page"===e&&H(r-1),a&&a(l,n),w(n)},Z=da(da({},F()),{},{size:"small"});Pe((()=>{H(0)}),[x]),Pe((()=>{D&&Qn(K)!==D&&G(Xn(D))}),[D]),Pe((()=>{L!==U&&$(L)}),[L]),Pe((()=>{const e=parseInt(B,10)-1;Number.isNaN(e)||Y===e||H(e)}),[B]);const Q=parseInt(U,10);return s().createElement($r(),{mt:d?4:0,mb:p?4:0},s().createElement(Ro,{count:r,multiSelect:m,selectionActions:g,selection:f,setTableSelection:b,selectionActionMessage:h}),u&&s().createElement(Ao,{count:r,selectCount:f.selectCount}),s().createElement(An(),{elevation:P,className:S.paper},R&&s().createElement(v,{absolute:!0}),s().createElement(Vn(),{className:S.tableContainer},s().createElement(Nn(),da(da({},Z),{},{stickyHeader:!0}),s().createElement(wo,{headerGroups:z,setSortBy:e=>J("order",e),multiSortEnabled:T,sortBy:K}),s().createElement(ko,{page:W,getTableBodyProps:A,prepareRow:_,subComponent:n.SubComponent,sortBy:K,onRowClick:C,rowProps:j,cellProps:q}),O&&s().createElement(Io,{footerGroups:V}))),0===(null==W?void 0:W.length)&&s().createElement(Fo,{loading:R}),(null==W?void 0:W.length)>0&&y&&s().createElement(ca,{count:r,rowsPerPage:Q,pageIndex:Y,onTableParamsChange:J,pages:c,countOnTop:u,selectCount:f.selectCount})))},ga=s().memo(ma,((e,t)=>{var r,n,o,a,l,i;const s=eo(e.columns),c=eo(t.columns);return!!(Hn()(e.data,t.data)&&Hn()(s,c)&&Hn()(null===(r=e.selection)||void 0===r?void 0:r.selectedItems,null===(n=t.selection)||void 0===n?void 0:n.selectedItems)&&Hn()(null===(o=e.selection)||void 0===o?void 0:o.selectAll,null===(a=t.selection)||void 0===a?void 0:a.selectAll)&&Hn()(null===(l=e.selection)||void 0===l?void 0:l.unSelectedItems,null===(i=t.selection)||void 0===i?void 0:i.unSelectedItems)&&Hn()(e.extraProps,t.extraProps))})),ba=require("@material-ui/icons/Visibility");var fa=e.n(ba);const ha=require("@material-ui/icons/VisibilityOff");var ya=e.n(ha);const Oa=({isExpanded:e,setIsExpanded:t})=>{const{formatMessage:r}=xe();return e?s().createElement(d.IconButton,{onClick:()=>t(!e)},s().createElement(ya(),null)):s().createElement(d.Tooltip,{title:r(ho.details)},s().createElement(d.IconButton,{onClick:()=>t(!e)},s().createElement(fa(),null)))};Oa.defaultProps={isExpanded:!1,setIsExpanded:()=>null},Oa.propTypes={isExpanded:m().bool,setIsExpanded:m().func};const va=e=>{const{formatMessage:t}=xe();return s().createElement(un,{message:t(e.message)},e.children)};function wa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const xa=(0,d.makeStyles)((e=>Ea(Ea({},De(e)),{},{paper:{overflow:"visible"},title:{paddingBottom:0},content:{overflow:"visible",paddingBottom:e.spacing(2)},action:{paddingBottom:e.spacing(2),paddingRight:e.spacing(2)}}))),Pa=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:o,titleMessage:a,children:l,closeDialog:i,buttons:c})=>{const u=xa();return s().createElement(s().Fragment,null,s().createElement(d.Dialog,{fullWidth:!0,maxWidth:t,open:e,classes:{paper:u.paper},onClose:r,scroll:"body",id:n,"data-test":o},a&&s().createElement(d.DialogTitle,{className:u.title},(p=a)?p.id?s().createElement(be.FormattedMessage,Ea({},p)):p:""),s().createElement(d.DialogContent,{className:u.content},l),s().createElement(d.DialogActions,{className:u.action},c({closeDialog:i}))));var p},Ca=(0,Ce.makeStyles)((e=>({textStyle:{fontSize:"16px",fontWeight:400,lineHeight:1,paddingTop:.5,paddingBottom:.5,flex:"1",marginLeft:e.spacing(1.5)}}))),ja=(0,Ce.makeStyles)((e=>({placeholder:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"14px",cursor:"default",color:"transparent",paddingTop:.5,paddingBottom:.5},treeviews:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"10px"},paper:{display:"flex",alignItems:"center",border:"1px solid rgba(0,0,0,0.23)"},paperWithIcon:{paddingTop:16,paddingBottom:16,paddingRight:e.spacing(2)},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main,paddingLeft:"1px"},shrinkInputLabel:{fontSize:"20px"},enabled:{"&:hover":{border:"1px solid rgba(0,0,0,0.87)"}},pointer:{cursor:"pointer"},clearButton:{marginRight:5},error:{"&:hover":{border:`1px solid ${e.palette.error.main}`},border:`1px solid ${e.palette.error.main}`},errorLabel:{color:e.palette.error.main}}))),qa=()=>null,ka=({text:e,disabled:t=!1})=>{const r=ja(),n=t?r.placeholder:`${r.placeholder} ${r.pointer}`;return s().createElement(d.Box,{className:n},e)},Sa=({placeholder:e,disabled:t=!1,required:r=!1,errors:n=[],children:o,onClick:a=qa,icon:l})=>{const i=ja(),c=n.length>0,u=c&&!t?i.error:"",p=c&&!t?i.errorLabel:"",m=t?"":i.enabled,g=l?i.paperWithIcon:"MuiOutlinedInput-multiline";return s().createElement(lr,{errors:n},s().createElement(d.InputLabel,{shrink:Boolean(o),required:r,className:`${b()(i.inputLabel,Boolean(o)&&i.shrinkInputLabel,"input-label")} ${p}`},e),s().createElement(d.Paper,{variant:"outlined",elevation:0,className:b()(i.paper,m,u,g),onClick:t?qa:a},!o&&s().createElement(ka,{text:e,disabled:t}),o,l))},Ta=require("react-dropzone"),Ma=require("@material-ui/icons/Attachment");var Ia=e.n(Ma);const Da=(0,be.defineMessages)({clickOrDragFile:{id:"blsq.label.clickOrDragFile",defaultMessage:"Drag files or click to select"},clicktoOpenFileSelect:{id:"blsq.label.clicktoOpenFileSelect",defaultMessage:"Click to open file selection"},files:{id:"blsq.label.Files",defaultMessage:"Files"},dropHere:{id:"blsq.label.dropHere",defaultMessage:"Drop files here"}});function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ra=s().createElement(d.Tooltip,{title:s().createElement(be.FormattedMessage,La({},Da.clickOrDragFile))},s().createElement(Ia(),{color:"action"})),Na=(0,d.makeStyles)((e=>({outlined:{border:`2px dashed ${e.palette.mediumGray.main}`,height:"100px",backgroundColor:e.palette.ligthGray.main},text:{color:e.palette.mediumGray.main}}))),Fa=()=>{const{formatMessage:e}=xe(),t=Na();return s().createElement(d.Paper,{elevation:0,variant:"outlined",classes:{outlined:t.outlined}},s().createElement(d.Grid,{container:!0,item:!0,justifyContent:"center",alignItems:"center",style:{height:"100%"}},s().createElement(d.Typography,{className:t.text},e(Da.dropHere))))},Aa=({placeholder:e,multi:t=!0,onFilesSelect:r=(()=>null),files:n=[],required:o=!1,errors:a=[]})=>{const[l,c]=(0,i.useState)(!1),{getRootProps:u,getInputProps:p}=(0,Ta.useDropzone)({onDrop:r,multiple:t,onDragLeave:()=>{c(!1)},onDragEnter:()=>{c(!0)},onDropAccepted:()=>{c(!1)}}),{formatMessage:m}=xe(),g=null!=e?e:m(Da.files),b=Ca();return s().createElement("div",La({},u()),s().createElement("input",La({},p())),!l&&s().createElement(Sa,{placeholder:g,icon:Ra,required:o,errors:a},n.length>0&&s().createElement(d.Box,{className:b.textStyle},`${n.length} files selected`)),l&&s().createElement(Fa,null))};function za(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Va(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?za(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):za(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _a=({closeDialog:e,allowConfirm:t=!0,onConfirm:r,confirmMessage:n,onCancel:o,cancelMessage:a,additionalButton:l=!1,additionalMessage:i,onAdditionalButtonClick:c,allowConfirmAdditionalButton:u=!0})=>s().createElement(s().Fragment,null,s().createElement(d.Button,{onClick:()=>{o(),e()},color:"primary","data-test":"cancel-button"},s().createElement(be.FormattedMessage,Va({},a))),s().createElement(d.Button,{"data-test":"confirm-button",onClick:()=>{r(),e()},disabled:!t,color:"primary",autoFocus:!0},s().createElement(be.FormattedMessage,Va({},n))),l&&i&&c&&s().createElement(d.Button,{"data-test":"additional-button",onClick:()=>{c(),e()},color:"primary",disabled:null!=u?!u:!t},s().createElement(be.FormattedMessage,Va({},i)))),Ha=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:o,titleMessage:a,children:l,closeDialog:i,allowConfirm:c=!0,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g=!1,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h=!0})=>s().createElement(Pa,{open:e,maxWidth:t,onClose:r,id:n,dataTestId:o,titleMessage:a,closeDialog:i,buttons:({closeDialog:e})=>s().createElement(_a,{closeDialog:e,allowConfirm:c,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h})},l),$a=["iconProps","defaultOpen"];function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ua=(e,t)=>r=>{const{iconProps:n,defaultOpen:o}=r,a=xt()(r,$a),[l,c]=(0,i.useState)(null!=o&&o);return s().createElement(s().Fragment,null,s().createElement(t,Wa({},Wa(Wa({},n),{},{onClick:()=>c(!0)}))),l&&s().createElement(e,Wa({},Wa(Wa({},a),{},{closeDialog:()=>c(!1),isOpen:l}))))},Ya=(0,be.defineMessages)({reply:{id:"blsq.comment.button.reply",defaultMessage:"Reply"}});function Ka(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ka(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Za=(0,Ce.makeStyles)((e=>{var t,r;return Ja(Ja({},De(e)),{},{commentRoot:{padding:"10px 20px",margin:"0px 5px 5px 5px"},commentAuthor:{margin:0,textAlign:"left"},commentPostingTime:{textAlign:"end",color:null!==(t=null===(r=e.mediumGray)||void 0===r?void 0:r.main)&&void 0!==t?t:"#A2A2A2"},commentGrid:{justifyContent:"left",padding:"0px 10px"},replyToComment:{textAlign:"end"},commentText:{textAlign:"justify",marginTop:"10px"},toggleCommentText:{alignSelf:"end",cursor:"default",color:"#3f51b5","&:hover":{textDecoration:"underline"}},expandThread:{textAlign:"end"},button:{backgroundColor:"#fff",color:"#3f51b5"},childComment:{paddingLeft:"20px"}})})),Qa=(0,be.defineMessages)({textAreaPlaceholder:{id:"blsq.comment.textArea.placeholder",defaultMessage:"Leave a comment here"},confirmComment:{id:"blsq.comment.confirmComment",defaultMessage:"Confirm"}});function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const tl=(0,Ce.makeStyles)((e=>el(el({},De(e)),{},{textAreaContainer:{width:"100%",marginTop:"20px"},textArea:{width:"100%",borderRadius:"6px",borderColor:"#A2A2A2",padding:"8px",resize:"vertical"},left:{textAlign:"left"},right:{textAlign:"right"},center:{textAlign:"center"},commentConfirmButton:{marginBottom:"20px",marginLeft:"auto"},button:{color:"#fff",backgroundColor:"#3f51b5"}}))),rl=({placeholder:e,minRows:t,maxRows:r,onChange:n,className:o,buttonText:a,onConfirm:l,position:c,inline:u})=>{const[p,m]=(0,i.useState)(""),g=tl(),b=xe(),f=(0,i.useCallback)((()=>{l(p),m("")}),[p]);return s().createElement(d.Grid,{container:!0,direction:u?"row":"column",alignItems:"center",spacing:2,className:c?g[c]:null},s().createElement(d.Grid,{item:!0,className:g.textAreaContainer},s().createElement(d.TextareaAutosize,{className:null!=o?o:g.textArea,minRows:t,maxRows:r,"aria-label":"write comment here",placeholder:null!=e?e:b.formatMessage(Qa.textAreaPlaceholder),onChange:e=>{m(e.target.value),n(e.target.value)},value:p,autoFocus:!0})),s().createElement(d.Grid,{item:!0,className:g.commentConfirmButton},s().createElement(d.Button,{onClick:f,variant:"contained",color:"primary"},null!=a?a:b.formatMessage(Qa.confirmComment))))};rl.propTypes={placeholder:m().string,className:m().string,minRows:m().number,maxRows:m().number,onChange:m().func,onConfirm:m().func,buttonText:m().string,position:m().string,inline:m().bool},rl.defaultProps={placeholder:null,minRows:3,maxRows:5,onChange:()=>{},className:null,buttonText:null,onConfirm:()=>{},position:"",inline:!0};const nl=require("moment");var ol=e.n(nl);const al=(0,be.defineMessages)({textExpand:{id:"blsq.comment.button.textExpand",defaultMessage:"See more"},textCollapse:{id:"blsq.comment.button.textCollapse",defaultMessage:"See less"},postingTime:{id:"blsq.comment.postingTime",defaultMessage:"Posted:"}}),ll=({text:e,hideOverflow:t,toggle:r,maxLength:n,textExpand:o,textCollapse:a})=>{const l=Za(),i=xe();return s().createElement("div",{className:l.commentText},s().createElement("p",null,t&&e.length>n?Gt(e,150):e," "),t&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=o?o:i.formatMessage(al.textExpand)),!t&&e.length>n&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=a?a:i.formatMessage(al.textCollapse)))};ll.propTypes={text:m().string.isRequired,hideOverflow:m().bool.isRequired,toggle:m().func.isRequired,maxLength:m().number.isRequired,textExpand:m().string,textCollapse:m().string},ll.defaultProps={textExpand:null,textCollapse:null};const il=({avatar:e,author:t,content:r,postingTime:n,classNames:o})=>{const a=xe(),l=Za(),[c,u]=(0,i.useState)(r.length>150),p=(0,i.useCallback)((()=>u(!c)),[c]),m=null!=o?o:l,g=`${a.formatMessage(al.postingTime)}  ${ol()(n).fromNow()}`;return s().createElement(d.Grid,{container:!0,wrap:"nowrap",spacing:4},s().createElement(d.Grid,{item:!0},s().createElement(d.Avatar,{alt:t,src:e})),s().createElement(d.Grid,{className:m.commentGrid,item:!0,xs:!0,zeroMinWidth:!0},s().createElement("h4",{className:m.commentAuthor},t),s().createElement(ll,{text:r,hideOverflow:c,toggle:p,maxLength:150}),s().createElement(d.Typography,{variant:"body2",className:m.commentPostingTime,component:"div"},g)))};il.propTypes={avatar:m().string,author:m().string.isRequired,content:m().string.isRequired,postingTime:m().string,classNames:m().arrayOf(m().string)},il.defaultProps={avatar:null,postingTime:"",classNames:null};const sl=({avatar:e,author:t,content:r,postingTime:n,classNames:o,actionText:a,onAddComment:l,id:c})=>{const u=xe(),p=Za(),[m,g]=(0,i.useState)(!1),b=null!=o?o:p,f=(0,i.useCallback)((e=>{g(!1),l(e,c)}),[c,l]);return s().createElement(d.Paper,{variant:"outlined",className:b.commentRoot},s().createElement(il,{avatar:e,author:t,postingTime:n,content:r}),!m&&s().createElement("div",{className:b.replyToComment},s().createElement(d.Button,{className:b.button,size:"small",onClick:()=>{g(!0)}},null!=a?a:u.formatMessage(Ya.reply))),m&&s().createElement(rl,{position:"right",onConfirm:f}))};sl.propTypes={avatar:m().string,author:m().string.isRequired,content:m().string.isRequired,postingTime:m().string,classNames:m().arrayOf(m().string),actionText:m().string,onAddComment:m().func,id:m().number},sl.defaultProps={avatar:null,postingTime:"",classNames:null,actionText:null,onAddComment:()=>{},id:null};const cl=(0,be.defineMessages)({collapse:{id:"blsq.comment.button.label.collapse",defaultMessage:"Hide thread"},expand:{id:"blsq.comment.button.label.expand",defaultMessage:"Show thread"},addReply:{id:"blsq.comment.button.label.addReply",defaultMessage:"Add reply"}}),ul=({comments:e,actionText:t,onAddComment:r,parentId:n})=>{const o=Za(),a=xe(),[l,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>{u&&c(!1),p(!u)}),[u]),g=()=>{c(!0),p(!0)},b=(0,i.useCallback)((e=>{c(!1),r(e,n)}),[r,n]),f=(0,i.useCallback)(((e,t)=>{c(!1),p(!0),r(e,t)}),[r]);return 1===e.length?s().createElement(sl,{onAddComment:f,author:e[0].author,content:e[0].comment,postingTime:e[0].dateTime,id:e[0].id}):s().createElement(d.Paper,{className:o.commentRoot,variant:"outlined",elevation:1},((h=u?e:[e[0]]).length,h.map(((r,n)=>{var i,c;return s().createElement("div",{key:null!==(i=`Fragment${r.author}${r.dateTime}${r.id}`)&&void 0!==i?i:"",className:0===n?"":o.childComment},s().createElement(il,{avatar:r.avatar,author:r.author,postingTime:r.dateTime,content:r.comment}),0===n&&s().createElement("div",{className:o.expandThread},s().createElement(d.Button,{onClick:m,className:o.button,size:"small"},a.formatMessage(u?cl.collapse:cl.expand))),!l&&s().createElement("div",{className:o.replyToComment},s().createElement(d.Button,{className:o.button,size:"small",onClick:g},null!=t?t:a.formatMessage(cl.addReply))),n===e.length-1&&l&&s().createElement(rl,{onConfirm:b}),n<e.length-1&&u&&s().createElement(d.Divider,{variant:"fullWidth",style:{margin:"30px 0"},key:null!==(c=`divider${r.author}${r.dateTime}${r.id}`)&&void 0!==c?c:""}))}))));var h};ul.propTypes={comments:m().array,actionText:m().string,onAddComment:m().func,parentId:m().number},ul.defaultProps={comments:[],actionText:null,onAddComment:()=>{},parentId:null};const dl=require("@material-ui/icons/InfoOutlined");var pl=e.n(dl);const ml=(0,be.defineMessages)({loading:{id:"blsq.treeview.loading",defaultMessage:"Loading"},confirm:{id:"blsq.treeview.search.confirm",defaultMessage:"Confirm"},cancel:{id:"blsq.treeview.search.cancel",defaultMessage:"Cancel"},selectSingle:{id:"blsq.treeview.label.selectSingle",defaultMessage:"Select an org unit"},selectMultiple:{id:"blsq.treeview.label.selectMultiple",defaultMessage:"Select org unit(s)"},display:{id:"blsq.treeview.search.results.label.display",defaultMessage:"Display"},resultsLower:{id:"blsq.treeview.search.results.label.resultsLower",defaultMessage:"result(s)"},noOptions:{id:"blsq.treeview.search.options.label.noOptions",defaultMessage:"No result found"},clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"Clear"},search:{id:"blsq.treeview.search.inputLabelObject",defaultMessage:"Enter search term"}}),gl=require("react-query");function bl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const hl=[5,10,20,30,40,50],yl=({resultsCount:e,handleSelect:t,countOptions:r})=>s().createElement(aa,{rowsPerPageOptions:r,rowsPerPage:e,selectRowsPerPage:t});yl.propTypes={countOptions:(0,p.arrayOf)(p.number),resultsCount:p.number,handleSelect:p.func},yl.defaultProps={countOptions:hl,handleSelect:()=>null,resultsCount:hl[2]};const Ol=({classes:e,onSelect:t,minResultCount:r,inputLabelObject:n,withSearchButton:o,request:a,makeDropDownText:l,toolTip:c})=>{const{formatMessage:u}=xe(),[p,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(r),[f,h]=(0,i.useState)(!1),[y,O]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),{data:x,isLoading:P,isFetching:C}=(({request:e,searchValue:t,resultsCount:r,options:n})=>(0,gl.useQuery)(["TreeviewSearch",e,t,r],(async()=>await e(t,r)),fl(fl({initialData:[],retry:!1},n),{},{keepPreviousData:!0})))({request:a,searchValue:p,resultsCount:g,options:{enabled:f&&y}}),j=(0,i.useCallback)((()=>{""!==p&&O(!0)}),[p]),q=s().createElement(pl(),{fontSize:"small",style:{color:je.palette.mediumGray.main}});return s().createElement(d.Box,{className:e.root},s().createElement(d.ClickAwayListener,{onClickAway:()=>{w||h(!1)}},s().createElement(d.Box,{className:e.container,onFocus:()=>h(!0)},s().createElement(d.Box,{className:e.searchBar},s().createElement(_r,{disabled:P,keyValue:"orgUnitSearch",onChange:e=>{m(e),O(!1)},value:p,type:"search",label:u(n),onEnterPressed:()=>j()}),o&&s().createElement(d.Button,{variant:"contained",className:e.searchButton,color:"primary",onClick:j},s().createElement(be.FormattedMessage,ml.search))),P&&s().createElement("div",{className:e.loadingContainer},s().createElement(v,{fixed:!1,transparent:!0,padding:4,size:25})),0===x.length&&f&&y&&!C&&s().createElement(d.Typography,{variant:"body2",align:"center",className:e.noResult},s().createElement(be.FormattedMessage,ml.noOptions)),x.length>0&&f&&s().createElement(d.Box,{className:e.listContainer},s().createElement(d.List,{className:e.list},x.map((e=>s().createElement(d.ListItem,{key:e.id,button:!0,onClick:()=>(e=>{t(e),h(!1)})(e),className:"org-unit-item"},s().createElement(d.ListItemText,{primary:s().createElement(d.Typography,{type:"body2"},l(e))}),c&&c(e,q))))),s().createElement(d.Divider,null),s().createElement(d.Box,{className:e.resultInfos},s().createElement(d.ClickAwayListener,{onClickAway:()=>E(!1)},s().createElement("div",{className:e.countContainer,onFocus:()=>E(!0)},s().createElement(yl,{handleSelect:e=>{b(parseInt(e,10))},resultsCount:g}))))))))};Ol.defaultProps={minResultCount:50,inputLabelObject:ml.search,withSearchButton:!1,toolTip:null,onSelect:()=>{}},Ol.propTypes={classes:m().object.isRequired,onSelect:m().func,minResultCount:m().number,inputLabelObject:m().object,withSearchButton:m().bool,request:m().func.isRequired,makeDropDownText:m().func.isRequired,toolTip:m().func};const vl=(0,d.withStyles)((e=>({root:{height:e.spacing(9),overflow:"visible"},container:{position:"relative",zIndex:1e3},loadingContainer:{position:"absolute",top:"0",left:"0",width:"100%",zIndex:10,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)"},listContainer:{border:`1px solid ${e.palette.ligthGray.border}`,backgroundColor:"white",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden"},list:{maxHeight:"50vh",overflow:"auto"},noResult:{backgroundColor:"white",border:`1px solid ${e.palette.ligthGray.border}`,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,color:e.palette.error.main,height:e.spacing(9),display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)"},resultInfos:{fontSize:12,height:e.spacing(6),display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,4)},countContainer:{marginTop:"7px"},iconButton:{height:25,marginLeft:e.spacing(1)},resultsCountInput:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"center"},searchBar:{display:"flex",alignItems:"center"},searchButton:{marginLeft:"10px"}})))(Ol),wl=require("@material-ui/icons/ArrowRight");var El=e.n(wl);const xl=require("@material-ui/icons/ArrowDropDown");var Pl=e.n(xl);const Cl=require("@material-ui/icons/CheckBoxOutlineBlankOutlined");var jl=e.n(Cl);const ql=require("@material-ui/icons/IndeterminateCheckBox");var kl=e.n(ql);function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ml=(0,Ce.makeStyles)((e=>({treeItem:{"&.MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:e.palette.primary.background,alignItems:"center",color:e.palette.primary.main}},unselectableTreeItem:{"&.MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{alignItems:"center",color:e.palette.mediumGray.main}},checkbox:{color:e.palette.mediumGray.main,fontSize:"16px",marginRight:"5px"}}))),Il=({label:e,id:t,fetchChildrenData:r,expanded:n,toggleOnLabelClick:o,onLabelClick:a,data:l,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:m,queryOptions:g={}})=>{const b=Ml(),f=n.includes(t),h=u.includes(t),y=d.includes(t),O=m(l),{data:v,isLoading:w}=(({request:e,id:t,options:r})=>(0,gl.useQuery)(["getChildrenData",e,t],(async()=>e(t)),fl({retry:!1},r)))({request:r,id:t,options:Tl(Tl({},g),{},{enabled:f})}),E=(0,i.useRef)(),x=l.has_children,P=(e,t,r,n)=>s().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},((e,t,r)=>e?t?s().createElement(Dn(),{className:b.checkbox}):r?s().createElement(kl(),{className:b.checkbox}):s().createElement(jl(),{className:b.checkbox}):null)(t,r,n),e),C=(0,i.useCallback)((e=>{o||e.preventDefault(),a(t,l,O)}),[l,t,a,o,O]);return(0,i.useEffect)((()=>{p===t&&E.current.scrollIntoView()}),[p,t,E]),f&&w?s().createElement(Mn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h,y),nodeId:t,icon:s().createElement(Pl(),{style:{fontSize:"large"}})}):x?s().createElement("div",{style:{display:"flex"}},s().createElement(Mn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h,y),nodeId:t,collapseIcon:s().createElement(Pl(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(El(),{style:{fontSize:"24px"}}),onLabelClick:C},v&&f&&((j=v)?j.map((t=>s().createElement(Il,{key:`TreeItem ${t.id}`,label:e,id:t.id,fetchChildrenData:r,expanded:n,toggleOnLabelClick:o,onLabelClick:a,data:t,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:m,queryOptions:g}))):null),!f&&s().createElement("div",null))):x||O?s().createElement("div",{style:{display:"flex"}},s().createElement(Mn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h),nodeId:t,collapseIcon:s().createElement(Pl(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(El(),{style:{fontSize:"24px"}}),onLabelClick:C})):null;var j};Il.propTypes={label:p.func.isRequired,id:p.string.isRequired,fetchChildrenData:p.func,expanded:(0,p.arrayOf)(p.string),toggleOnLabelClick:p.bool,data:p.object.isRequired,onLabelClick:p.func,withCheckbox:p.bool,ticked:(0,p.oneOfType)([p.string,p.array]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object},Il.defaultProps={fetchChildrenData:()=>{},expanded:[],toggleOnLabelClick:!0,onLabelClick:()=>{},withCheckbox:!1,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{}};const Dl=(0,Ce.makeStyles)((e=>({root:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"},isFetching:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"}}))),Bl=({getChildrenData:e,getRootData:t,label:r,multiselect:n,expanded:o,selected:a,onToggle:l,toggleOnLabelClick:c,onSelect:u,onCheckBoxClick:p,onLabelClick:m,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:y={},childrenQueryOptions:O={}})=>{const v=Dl(),w=(0,i.useCallback)(e,[e]),{data:E,isFetching:x}=((e,t={})=>(0,gl.useQuery)(["getRootData",e],(async()=>e()),fl(fl({retry:!1},t),{},{keepPreviousData:!1})))(t,y),P=(0,i.useCallback)((e=>e?e.map((e=>s().createElement(Il,{label:r,id:e.id,data:e,key:`RootTreeItem ${e.id}`,fetchChildrenData:w,expanded:o,selected:a,toggleOnLabelClick:c,onCheckBoxClick:p,onLabelClick:m,withCheckbox:n,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:O}))):null),[r,w,o,a,c,p,m,n,g,b,f]);return s().createElement(Mn.TreeView,{classes:x?{root:v.isFetching}:{root:v.root},expanded:o,selected:a,multiSelect:n,onNodeSelect:(e,t)=>{u(t)},onNodeToggle:(e,t)=>{l(t)}},!x&&E&&P(E),x&&s().createElement(d.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},s().createElement(d.CircularProgress,null)))};Bl.propTypes={getChildrenData:p.func,getRootData:p.func,label:p.func.isRequired,multiselect:p.bool,toggleOnLabelClick:p.bool,expanded:(0,p.arrayOf)(p.string).isRequired,onToggle:p.func.isRequired,onSelect:p.func,onCheckBoxClick:p.func,onLabelClick:p.func,selected:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),ticked:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object,childrenQueryOptions:p.object},Bl.defaultProps={getChildrenData:()=>{},getRootData:()=>{},multiselect:!1,toggleOnLabelClick:!0,onSelect:()=>{},onCheckBoxClick:()=>{},onLabelClick:()=>{},selected:void 0,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{},childrenQueryOptions:{}};const Ll=e=>e?Array.from(e.entries()).map((e=>Array.from(e[1].keys()))).map((e=>e.map((e=>e.toString())).filter(((e,t,r)=>e!==r[r.length-1])))).flat():null,Rl=({label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,onSelect:o,minResultCount:a,inputLabelObject:l,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p,parseNodeIds:m,onUpdate:g,multiselect:b,preselected:f,preexpanded:h,selectedData:y,allowSelection:O})=>{var v;const[w,E]=(0,i.useState)((e=>e?Array.isArray(e)?e:[e]:[])(y)),[x,P]=(0,i.useState)(f||(b?[]:"")),[C,j]=(0,i.useState)(null!==(v=Ll(h))&&void 0!==v?v:[]),[q,k]=(0,i.useState)(null!=f?f:[]),[S,T]=(0,i.useState)(null!=h?h:new Map),[M,I]=(0,i.useState)(Array.isArray(f)?null:f),D=(0,i.useCallback)((e=>{P(e),b&&o(e)}),[o,b]),B=(0,i.useCallback)(((e,t,r)=>{let n,o,a;var l;r&&(n=b?q.includes(e)?q.filter((t=>t!==e)):[...q,e]:[e],k(n)),o=b?new Map(S):new Map,S.has(e)?(o.delete(e),a=null!==(l=null==w?void 0:w.filter((t=>t.id!==parseInt(e,10))))&&void 0!==l?l:[]):(o.set(e,m(t)),a=b?n.includes(t.id)?[...w,t]:w.filter((e=>e.id!==parseInt(t.id,10))):[t]),g(n,o,a),T(o),E(a)}),[g,q,S,b,w,m]),L=(0,i.useCallback)((e=>{const t=m(e),r=Array.from(t.keys()).map((e=>e.toString())),n=r[r.length-1];if(r.pop(),b){j([...C,...r]);const e=[...x,n];D(e)}else{j(r);const o=new Map;o.set(n,t),D(n),E([e]),g(n,o,[e])}I(n)}),[m,D,x,g,C,b]);return s().createElement(s().Fragment,null,s().createElement(vl,{onSelect:L,minResultCount:a,inputLabelObject:l,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p}),s().createElement(Bl,{label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,selected:x,onSelect:D,expanded:C,onToggle:j,onLabelClick:B,multiselect:b,ticked:q,parentsTicked:Ll(S),scrollIntoView:M,allowSelection:O}))};function Nl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Rl.propTypes={getChildrenData:p.func,getRootData:p.func,toggleOnLabelClick:p.bool,onSelect:p.func,minResultCount:p.number,inputLabelObject:p.object,withSearchButton:p.bool,request:p.func.isRequired,makeDropDownText:p.func.isRequired,toolTip:p.func,parseNodeIds:p.func.isRequired,onUpdate:p.func,multiselect:p.bool,preselected:(0,p.oneOfType)([p.string,p.array]),preexpanded:p.any,selectedData:(0,p.oneOfType)([p.object,p.array]),label:p.func.isRequired,allowSelection:p.func},Rl.defaultProps={getChildrenData:()=>{},getRootData:()=>{},toggleOnLabelClick:!0,onSelect:()=>{},minResultCount:50,inputLabelObject:ml.search,withSearchButton:!1,toolTip:null,onUpdate:()=>{},multiselect:!1,preselected:null,preexpanded:null,selectedData:[],allowSelection:()=>!0};const Al={display:"flex",alignItems:"center"},zl={"&.MuiTreeItem-root:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}},Vl=Fl({"& .MuiTreeItem-label":Fl(Fl({},Al),{},{paddingLeft:"0px"})},zl),_l=(0,Ce.makeStyles)((e=>({truncatedTreeview:{color:e.palette.mediumGray.main},singleTreeItem:Fl(Fl({},Vl),{},{color:e.palette.gray.main}),truncatedTreeviewItem:Fl(Fl({},Vl),{},{color:e.palette.mediumGray.main}),lastTreeItem:Fl(Fl({"& .MuiTreeItem-label":Fl({},Al)},zl),{},{color:e.palette.gray.main}),removeIconContainer:{paddingLeft:"5px","& .MuiTreeItem-iconContainer":{display:"none"}}}))),Hl=({selectedItems:e,label:t,redirect:r})=>{var n;const o=_l(),a=(0,i.useRef)(),l=(e,n)=>{if(0===e.size)return null;const i=new Map(e),c=i.entries().next().value;i.delete(c[0]);const u=((e,t,r)=>1===e.size?r.singleTreeItem:0===t.size?r.lastTreeItem:r.truncatedTreeviewItem)(n,i,o);return s().createElement(Mn.TreeItem,{key:c[0].toString()+i.size.toString(),className:u,onIconClick:e=>e.preventDefault(),onLabelClick:(d=c[0],e=>{e.preventDefault(),new Date-a.current<150&&r(d)}),collapseIcon:s().createElement(Pl(),{style:{fontSize:"large"}}),expandIcon:s().createElement(El(),{style:{fontSize:"large"}}),label:t(c[1]),nodeId:c[0],disabled:!0},e.size>=1?l(i,n):null);var d},c=null!==(n=Array.from(e.keys()).map((e=>e.toString())))&&void 0!==n?n:[];return s().createElement(Mn.TreeView,{onMouseDown:()=>{a.current=new Date},disableSelection:!0,expanded:c,classes:{root:1===c.length&&o.removeIconContainer},className:o.truncatedTreeview},l(e,e))};Hl.propTypes={selectedItems:p.any,label:p.func.isRequired,redirect:p.func},Hl.defaultProps={selectedItems:null,redirect:()=>null};const $l=e.p+"locale/en.json",Gl=e.p+"locale/fr.json",Wl=require("react-visibility-sensor");var Ul=e.n(Wl);class Yl extends i.Component{constructor(e){super(e),this.image=null,this.state={image:e.placeholder,isVisible:!1,loading:!0},this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this)}componentDidUpdate(e){const{src:t,placeholder:r}=this.props;t!==e.src&&(this.state.isVisible?this.loadImage(t):this.setState({image:r,loading:!0}))}componentWillUnmount(){this.image&&(this.image.onload=null,this.image.onerror=null)}handleVisibilityChange(e){this.setState({isVisible:e},(()=>{this.state.loading&&this.state.isVisible&&this.loadImage(this.props.src)}))}onLoad(){this.setState({image:this.image.src,loading:!1})}onError(e){const{onError:t}=this.props;t&&t(e)}loadImage(e){this.image&&(this.image.onload=null,this.image.onerror=null);const t=new Image;this.image=t,t.onload=this.onLoad,t.onerror=this.onError,t.src=e}render(){const{image:e,loading:t,isVisible:r}=this.state,{children:n,visibilitySensorProps:o}=this.props;if(!n||"function"!=typeof n)throw new Error("LazyProgressiveImage requires a function as its only child");return s().createElement(Ul(),ge()({},o,{onChange:this.handleVisibilityChange}),n(e,t,r))}}Yl.propTypes={children:m().func,onError:m().func,placeholder:m().string,src:m().string,visibilitySensorProps:m().any},Yl.defaultProps={children:void 0,onError:void 0,placeholder:void 0,src:void 0,visibilitySensorProps:void 0};const Kl=require("react-awesome-query-builder"),Jl=require("react-awesome-query-builder/lib/config/material");var Zl=e.n(Jl);const Ql=(0,be.defineMessages)({and:{id:"blsq.queryBuilder.and",defaultMessage:"And"},or:{id:"blsq.queryBuilder.or",defaultMessage:"Or"},contains:{id:"blsq.queryBuilder.contains",defaultMessage:"Contains"},notLike:{id:"blsq.queryBuilder.notLike",defaultMessage:"Not contains"},startsWith:{id:"blsq.queryBuilder.startsWith",defaultMessage:"Starts with"},endsWith:{id:"blsq.queryBuilder.endsWith",defaultMessage:"Ends with"},between:{id:"blsq.queryBuilder.between",defaultMessage:"Between"},notBetween:{id:"blsq.queryBuilder.notBetween",defaultMessage:"Not between"},isEmpty:{id:"blsq.queryBuilder.isEmpty",defaultMessage:"Is empty"},isNotEmpty:{id:"blsq.queryBuilder.isNotEmpty",defaultMessage:"Is not empty"},isNull:{id:"blsq.queryBuilder.isNull",defaultMessage:"Is null"},isNotNull:{id:"blsq.queryBuilder.isNotNull",defaultMessage:"Is not null"},anyIn:{id:"blsq.queryBuilder.anyIn",defaultMessage:"Any in"},notAnyIn:{id:"blsq.queryBuilder.notAnyIn",defaultMessage:"Not in"},equals:{id:"blsq.queryBuilder.equals",defaultMessage:"Equals"},notEquals:{id:"blsq.queryBuilder.notEquals",defaultMessage:"Not equals"},proximity:{id:"blsq.queryBuilder.proximity",defaultMessage:"Proximity search"},proximityValueLabel1:{id:"blsq.queryBuilder.proximityValueLabel1",defaultMessage:"Word 1"},proximityValuePLaceholder1:{id:"blsq.queryBuilder.proximityValuePLaceholder1",defaultMessage:"Enter first word"},proximityValueLabel2:{id:"blsq.queryBuilder.proximityValueLabel2",defaultMessage:"Word 2"},proximityValuePLaceholder2:{id:"blsq.queryBuilder.proximityValuePLaceholder2",defaultMessage:"Enter second word"},proximityOptionsLabel:{id:"blsq.queryBuilder.proximityOptionsLabel",defaultMessage:"Near"},proximityOptionsPlaceholder:{id:"blsq.queryBuilder.proximityOptionsPlaceholder",defaultMessage:"Select words between"},some:{id:"blsq.queryBuilder.some",defaultMessage:"Some"},all:{id:"blsq.queryBuilder.all",defaultMessage:"All"},none:{id:"blsq.queryBuilder.none",defaultMessage:"None"},textLabel:{id:"blsq.queryBuilder.textLabel",defaultMessage:"String"},textPlaceholder:{id:"blsq.queryBuilder.textPlaceholder",defaultMessage:"Enter string"},texareaLabel:{id:"blsq.queryBuilder.texareaLabel",defaultMessage:"Text"},textareaPlaceholder:{id:"blsq.queryBuilder.textareaPlaceholder",defaultMessage:"Enter text"},numberLabel:{id:"blsq.queryBuilder.numberLabel",defaultMessage:"Number"},numberPlaceholder:{id:"blsq.queryBuilder.numberPlaceholder",defaultMessage:"Enter number"},numberFromLabel:{id:"blsq.queryBuilder.numberFromLabel",defaultMessage:"Number from"},numberFromPlaceholder:{id:"blsq.queryBuilder.numberFromPlaceholder",defaultMessage:"Enter number from"},numberToLabel:{id:"blsq.queryBuilder.numberToLabel",defaultMessage:"Number to"},numberToPlaceholder:{id:"blsq.queryBuilder.numberToPlaceholder",defaultMessage:"Enter number to"},sliderPlaceholder:{id:"blsq.queryBuilder.sliderPlaceholder",defaultMessage:"Enter number or move slider"},date:{id:"blsq.queryBuilder.date",defaultMessage:"Date"},datePlaceholder:{id:"blsq.queryBuilder.datePlaceholder",defaultMessage:"Enter date"},dateFrom:{id:"blsq.queryBuilder.dateFrom",defaultMessage:"Date from"},dateFromPlaceholder:{id:"blsq.queryBuilder.dateFromPlaceholder",defaultMessage:"Enter date from"},dateTo:{id:"blsq.queryBuilder.dateTo",defaultMessage:"Date to"},dateToPlaceholder:{id:"blsq.queryBuilder.dateToPlaceholder",defaultMessage:"Enter date to"},time:{id:"blsq.queryBuilder.time",defaultMessage:"Time"},timePlaceholder:{id:"blsq.queryBuilder.timePlaceholder",defaultMessage:"Enter time"},timeFrom:{id:"blsq.queryBuilder.timeFrom",defaultMessage:"Time from"},timeFromPlaceholder:{id:"blsq.queryBuilder.timeFromPlaceholder",defaultMessage:"Enter time from"},timeTo:{id:"blsq.queryBuilder.timeTo",defaultMessage:"Time to"},timeToPlaceholder:{id:"blsq.queryBuilder.timeToPlaceholder",defaultMessage:"Enter time to"},datetime:{id:"blsq.queryBuilder.datetime",defaultMessage:"Datetime"},datetimePlaceholder:{id:"blsq.queryBuilder.datetimePlaceholder",defaultMessage:"Enter datetime"},datetimeFrom:{id:"blsq.queryBuilder.datetimeFrom",defaultMessage:"Datetime from"},datetimeFromPlaceholder:{id:"blsq.queryBuilder.datetimeFromPlaceholder",defaultMessage:"Enter datetime from"},datetimeTo:{id:"blsq.queryBuilder.datetimeTo",defaultMessage:"Datetime to"},datetimeToPlaceholder:{id:"blsq.queryBuilder.datetimeToPlaceholder",defaultMessage:"Enter datetime to"},yes:{id:"blsq.queryBuilder.yes",defaultMessage:"Yes"},no:{id:"blsq.queryBuilder.no",defaultMessage:"No"},fieldCompare:{id:"blsq.queryBuilder.fieldCompare",defaultMessage:"Field to compare"},fieldPlaceholder:{id:"blsq.queryBuilder.fieldPlaceholder",defaultMessage:"Select field to compare"},range:{id:"blsq.queryBuilder.range",defaultMessage:"Range"},rangePlaceholder:{id:"blsq.queryBuilder.rangePlaceholder",defaultMessage:"Select range"},rangeFrom:{id:"blsq.queryBuilder.rangeFrom",defaultMessage:"Number from"},rangeFromPlaceholder:{id:"blsq.queryBuilder.rangeFromPlaceholder",defaultMessage:"Enter number from"},rangeTo:{id:"blsq.queryBuilder.rangeTo",defaultMessage:"Number to"},rangeToPlaceholder:{id:"blsq.queryBuilder.rangeToPlaceholder",defaultMessage:"Enter number to"},countEqual:{id:"blsq.queryBuilder.countEqual",defaultMessage:"Count =="},countNotEqual:{id:"blsq.queryBuilder.countNotEqual",defaultMessage:"Count !="},countLess:{id:"blsq.queryBuilder.countLess",defaultMessage:"Count <"},countLessOrEqual:{id:"blsq.queryBuilder.countLessOrEqual",defaultMessage:"Count <="},countGreater:{id:"blsq.queryBuilder.countGreater",defaultMessage:"Count >"},countGreaterOrEqual:{id:"blsq.queryBuilder.countGreaterOrEqual",defaultMessage:"Count >="},countBetween:{id:"blsq.queryBuilder.countBetween",defaultMessage:"Count between"},countNotBetween:{id:"blsq.queryBuilder.countNotBetween",defaultMessage:"Count not between"},selectValue:{id:"blsq.queryBuilder.selectValue",defaultMessage:"Select value"},values:{id:"blsq.queryBuilder.values",defaultMessage:"Values"},selectValues:{id:"blsq.queryBuilder.selectValues",defaultMessage:"Select values"},value:{id:"blsq.queryBuilder.value",defaultMessage:"Value"},field:{id:"blsq.queryBuilder.field",defaultMessage:"Field"},function:{id:"blsq.queryBuilder.function",defaultMessage:"Function"},operator:{id:"blsq.queryBuilder.operator",defaultMessage:"Operator"},selectField:{id:"blsq.queryBuilder.selectField",defaultMessage:"Select field"},selectFunction:{id:"blsq.queryBuilder.selectFunction",defaultMessage:"Select function"},selectOperator:{id:"blsq.queryBuilder.selectOperator",defaultMessage:"Select operator"},lock:{id:"blsq.queryBuilder.lock",defaultMessage:"Lock"},locked:{id:"blsq.queryBuilder.locked",defaultMessage:"Locked"},addGroup:{id:"blsq.queryBuilder.addGroup",defaultMessage:"Add group"},addCondition:{id:"blsq.queryBuilder.addCondition",defaultMessage:"Add condition"},addDefaultCase:{id:"blsq.queryBuilder.addDefaultCase",defaultMessage:"Add default condition"},defaultCase:{id:"blsq.queryBuilder.defaultCase",defaultMessage:"Default:"},addRule:{id:"blsq.queryBuilder.addRule",defaultMessage:"Add rule"},addSubRule:{id:"blsq.queryBuilder.addSubRule",defaultMessage:"Add sub rule"},not:{id:"blsq.queryBuilder.not",defaultMessage:"Not"},valueSourcesPopupTitle:{id:"blsq.queryBuilder.valueSourcesPopupTitle",defaultMessage:"Select value source"},cancel:{id:"blsq.queryBuilder.cancel",defaultMessage:"Cancel"},confirm:{id:"blsq.queryBuilder.confirm",defaultMessage:"Confirm"},queryTab:{id:"blsq.queryBuilder.queryTab",defaultMessage:"Query"},jsonTab:{id:"blsq.queryBuilder.jsonTab",defaultMessage:"Json"},apply:{id:"blsq.queryBuilder.apply",defaultMessage:"Apply"},invalidJson:{id:"blsq.queryBuilder.invalidJson",defaultMessage:"Invalid JSON"}});function Xl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ti=()=>{const{formatMessage:e}=xe();return(0,i.useMemo)((()=>ei(ei({},Zl()),{},{conjunctions:ei(ei({},Zl().conjunctions),{},{AND:ei(ei({},Zl().conjunctions.AND),{},{label:"And"}),OR:ei(ei({},Zl().conjunctions.OR),{},{label:"Or"})}),operators:ei(ei({},Zl().operators),{},{like:ei(ei({},Zl().operators.like),{},{label:e(Ql.contains)}),not_like:ei(ei({},Zl().operators.not_like),{},{label:e(Ql.notLike)}),starts_with:ei(ei({},Zl().operators.starts_with),{},{label:e(Ql.startsWith)}),ends_with:ei(ei({},Zl().operators.ends_with),{},{label:e(Ql.endsWith)}),between:ei(ei({},Zl().operators.between),{},{label:e(Ql.between)}),not_between:ei(ei({},Zl().operators.not_between),{},{label:e(Ql.notBetween)}),is_empty:ei(ei({},Zl().operators.is_empty),{},{label:e(Ql.isEmpty)}),is_not_empty:ei(ei({},Zl().operators.is_not_empty),{},{label:e(Ql.isNotEmpty)}),is_null:ei(ei({},Zl().operators.is_null),{},{label:e(Ql.isNull)}),is_not_null:ei(ei({},Zl().operators.is_not_null),{},{label:e(Ql.isNotNull)}),select_any_in:ei(ei({},Zl().operators.select_any_in),{},{label:e(Ql.anyIn)}),select_not_any_in:ei(ei({},Zl().operators.select_not_any_in),{},{label:e(Ql.notAnyIn)}),multiselect_equals:ei(ei({},Zl().operators.multiselect_equals),{},{label:e(Ql.equals)}),multiselect_not_equals:ei(ei({},Zl().operators.multiselect_not_equals),{},{label:e(Ql.notEquals)}),proximity:ei(ei({},Zl().operators.proximity),{},{label:e(Ql.proximity),valueLabels:[{label:e(Ql.proximityValueLabel1),placeholder:e(Ql.proximityValuePLaceholder1)},{label:e(Ql.proximityValueLabel2),placeholder:e(Ql.proximityValuePLaceholder2)}],options:ei(ei({},Zl().operators.proximity.options),{},{optionLabel:e(Ql.proximityOptionsLabel),optionTextBefore:e(Ql.proximityOptionsLabel),optionPlaceholder:e(Ql.proximityOptionsPlaceholder)})}),some:ei(ei({},Zl().operators.some),{},{label:e(Ql.some)}),all:ei(ei({},Zl().operators.all),{},{label:e(Ql.all)}),none:ei(ei({},Zl().operators.none),{},{label:e(Ql.none)})}),widgets:ei(ei({},Zl().widgets),{},{text:ei(ei({},Zl().widgets.text),{},{valueLabel:e(Ql.textLabel),valuePlaceholder:e(Ql.textPlaceholder)}),textarea:ei(ei({},Zl().widgets.textarea),{},{valueLabel:e(Ql.texareaLabel),valuePlaceholder:e(Ql.textareaPlaceholder)}),number:ei(ei({},Zl().widgets.number),{},{valueLabel:e(Ql.numberLabel),valuePlaceholder:e(Ql.numberPlaceholder),valueLabels:[{label:e(Ql.numberFromLabel),placeholder:e(Ql.numberFromPlaceholder)},{label:e(Ql.numberToLabel),placeholder:e(Ql.numberToPlaceholder)}]}),slider:ei(ei({},Zl().widgets.slider),{},{valueLabel:e(Ql.numberLabel),valuePlaceholder:e(Ql.sliderPlaceholder)}),select:ei(ei({},Zl().widgets.select),{},{valueLabel:e(Ql.value),valuePlaceholder:e(Ql.selectValue)}),multiselect:ei(ei({},Zl().widgets.multiselect),{},{valueLabel:e(Ql.values),valuePlaceholder:e(Ql.selectValues)}),date:ei(ei({},Zl().widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:e(Ql.date),valuePlaceholder:e(Ql.datePlaceholder),valueLabels:[{label:e(Ql.dateFrom),placeholder:e(Ql.dateFromPlaceholder)},{label:e(Ql.dateTo),placeholder:e(Ql.dateToPlaceholder)}]}),time:ei(ei({},Zl().widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss",valueLabel:e(Ql.time),valuePlaceholder:e(Ql.timePlaceholder),valueLabels:[{label:e(Ql.timeFrom),placeholder:e(Ql.timeFromPlaceholder)},{label:e(Ql.timeTo),placeholder:e(Ql.timeToPlaceholder)}]}),datetime:ei(ei({},Zl().widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",valueLabel:e(Ql.datetime),valuePlaceholder:e(Ql.datetimePlaceholder),valueLabels:[{label:e(Ql.datetimeFrom),placeholder:e(Ql.datetimeFromPlaceholder)},{label:e(Ql.datetimeTo),placeholder:e(Ql.datetimeToPlaceholder)}]}),boolean:ei(ei({},Zl().widgets.boolean),{},{labelYes:e(Ql.yes),labelNo:e(Ql.no)}),field:ei(ei({},Zl().widgets.field),{},{valueLabel:e(Ql.fieldCompare),valuePlaceholder:e(Ql.fieldPlaceholder)}),func:ei(ei({},Zl().widgets.func),{},{valueLabel:e(Ql.function),valuePlaceholder:e(Ql.selectFunction)}),rangeslider:ei(ei({},Zl().widgets.rangeslider),{},{valueLabel:e(Ql.function),valuePlaceholder:e(Ql.selectFunction),valueLabels:[{label:e(Ql.rangeFrom),placeholder:e(Ql.rangeFromPlaceholder)},{label:e(Ql.rangeTo),placeholder:e(Ql.rangeToPlaceholder)}]})}),types:ei(ei({},Zl().types),{},{"!group":ei(ei({},Zl().types["!group"]),{},{widgets:ei(ei({},Zl().types["!group"].widgets),{},{number:ei(ei({},Zl().types["!group"].widgets.number),{},{opProps:{equal:{label:e(Ql.countEqual)},not_equal:{label:e(Ql.countNotEqual)},less:{label:e(Ql.countLess)},less_or_equal:{label:e(Ql.countLessOrEqual)},greater:{label:e(Ql.countGreater)},greater_or_equal:{label:e(Ql.countGreaterOrEqual)},between:{label:e(Ql.countBetween)},not_between:{label:e(Ql.countNotBetween)}}})})})}),settings:ei(ei({},Zl().settings),{},{valueSourcesInfo:ei(ei({},Zl().settings.valueSourcesInfo),{},{value:{label:e(Ql.value)},field:{label:e(Ql.field),widget:"field"},func:{label:e(Ql.function),widget:"func"}}),locale:ei(ei({},Zl().settings.locale),{},{moment:ol().locale()}),valueLabel:e(Ql.value),valuePlaceholder:e(Ql.value),fieldLabel:e(Ql.field),operatorLabel:e(Ql.operator),funcLabel:e(Ql.function),fieldPlaceholder:e(Ql.selectField),funcPlaceholder:e(Ql.selectFunction),operatorPlaceholder:e(Ql.selectOperator),lockLabel:e(Ql.lock),lockedLabel:e(Ql.locked),addGroupLabel:e(Ql.addGroup),addCaseLabel:e(Ql.addCondition),addDefaultCaseLabel:e(Ql.addDefaultCase),defaultCaseLabel:e(Ql.defaultCase),addRuleLabel:e(Ql.addRule),addSubRuleLabel:e(Ql.addSubRule),valueSourcesPopupTitle:e(Ql.valueSourcesPopupTitle)})})),[e])},ri=(0,Ce.makeStyles)((e=>({root:{"& .query-builder-container":{padding:"0 !important"},"& .qb-drag-handler, .qb-draggable, .query-builder":{WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"& .rule--header:after":{content:'""',display:"table",clear:"both"},"& .group--header,\n.group--footer":{display:"flex",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px",marginBottom:"10px"},"& .query-builder":{overflow:"hidden",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:1.25,margin:0},"& .query-builder *, .query-builder *::before, .query-builder *::after":{boxSizing:"border-box"},"& body.qb-dragging .ant-tooltip":{display:"none"},"& .query-builder.qb-dragging":{cursor:["-webkit-grabbing !important","grabbing !important"]},"& .query-builder.qb-dragging button":{pointerEvents:"none"},"& .group":{background:e.palette.gray.background,border:`1px solid ${e.palette.border.main}`},"& .rule":{backgroundColor:"white",border:"1px solid transparent",padding:"10px",flex:1,display:"flex"},"& .rule-with-error .rule":{border:"1px solid #e0a1a1"},"& .rule--body--wrapper":{flex:1,display:"flex",flexDirection:"column"},"& .rule--error":{color:"red",marginBottom:"-5px",marginTop:"5px"},"& .group-or-rule":{borderRadius:"5px",position:"relative"},"& .rule_group":{background:"rgba(255, 252, 242, 0.5)",border:"1px solid #f9f1dd",display:"flex",paddingLeft:"10px"},"& .qb-draggable":{pointerEvents:"none",position:"absolute",opacity:.7,zIndex:1e3},"& .qb-placeholder":{border:"1px dashed gray"},"& .locked":{border:"1px dashed red"},"& .ant-tooltip-inner":{minHeight:"18px"},"& .ant-slider":{marginBottom:"4px",marginTop:"4px"},"& .ant-slider-with-marks":{marginBottom:"10px",marginTop:"4px"},"& .ant-slider-track":{visibility:"visible !important"},"& .ant-select-tree-dropdown > div[role=listbox]":{outline:"none"},"& ul.ant-select-selection__rendered":{marginRight:"11px"},"& .ant-select-item":{minHeight:"22px"},"& .group--children":{paddingLeft:"24px",marginTop:"10px",marginBottom:"10px"},"& .group--children > .group-or-rule-container > .group-or-rule:before":{top:"-4px",borderWidth:"0 0 2px 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::after":{top:"50%",borderWidth:"0 0 0 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::before, .group--children > .group-or-rule-container > .group-or-rule::after":{content:'""',position:"absolute",left:"-14px",width:"14px",height:"calc(50% + 8px)",borderColor:"#CCC",borderStyle:"solid",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children > .group-or-rule-container:first-child > .group-or-rule::before":{top:"-12px",height:"calc(50% + 14px)"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::before":{borderRadius:"0 0 0 4px"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::after":{display:"none"},"& .group--children.hide--line > .group-or-rule-container > .group-or-rule::before, .group--children.hide--line > .group-or-rule-container > .group-or-rule::after":{borderColor:"rgba(128, 128, 128, 0.1)"},"& .qb-draggable::before, .qb-draggable::after":{display:"none"},"& .qb-drag-handler":{cursor:["-webkit-grabbing","grabbing"]},"& .group--drag-handler":{marginRight:"8px",position:"relative",top:"3px"},"& .group--conjunctions .group--drag-handler":{marginLeft:"10px"},"& .group--conjunctions.hide--conj":{opacity:.3},"& .group--actions":{marginLeft:"10px",flex:1,display:"flex"},"& .group--actions--tl, .group--actions--bl":{justifyContent:"flex-start"},"& .group--actions--tl":{marginLeft:"20px"},"& .group--actions--tc, .group--actions--bc":{justifyContent:"center"},"& .group--actions--tr, .group--actions--br":{justifyContent:"flex-end"},"& .group--actions .action--DELETE":{marginTop:"-1px"},"& .case_group":{borderWidth:"2px"},"& .switch_group > .group--children > .group-or-rule-container > .group-or-rule::before, .switch_group > .group--children > .group-or-rule-container > .group-or-rule::after":{height:"calc(50% + 12px)"},"& .case_group--body":{display:"flex",flexDirection:"row",marginTop:"10px",marginBottom:"10px"},"& .case_group--body .case_group--children":{flex:"auto",marginTop:"0 !important",marginBottom:"0 !important"},"& .case_group--body .case_group--value":{marginTop:"0",marginBottom:"0",marginRight:"10px"},"& .rule_group .group--drag-handler":{alignSelf:"center"},"& .rule_group .group--field":{alignSelf:"center"},"& .rule_group .group--actions":{alignSelf:"center",flex:0},"& .rule_group .rule_group--children":{flex:1,marginTop:"5px",marginBottom:"5px",paddingLeft:"18px"},"& .rule_group .rule_group--children .group-or-rule-container":{marginBottom:"5px",marginTop:"5px",paddingRight:"5px"},"& .rule_group .rule_group--children.one--child":{paddingLeft:"10px"},"& .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::before, .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::after":{left:"-10px",width:"10px",height:"calc(50% + 8px)"},"& .group--header.hide--drag.with--conjs > .group--field--count--rule":{marginLeft:"20px"},"& .rule--header":{marginLeft:"auto",display:"flex",alignItems:"center",paddingLeft:"10px"},"& .rule--drag-handler":{display:"flex",alignItems:"center",marginRight:"8px"},"& .rule--field, .group--field, .rule--operator, .rule--value, .rule--operator-options, .rule--widget, .widget--widget, .widget--valuesrc, .widget--sep, .operator--options--sep, .rule--before-widget, .rule--after-widget":{display:"inline-block"},"& .mui .widget--sep, .mui .operator--options--sep, .mui .rule--func--bracket-before, .mui .rule--func--bracket-after, .mui .rule--func--arg-sep":{verticalAlign:"bottom",alignSelf:"flex-end",marginBottom:"8px"},"& .mui .rule--operator-options":{verticalAlign:"bottom"},"& .mui .widget--valuesrc":{verticalAlign:"bottom"},"& .rule--operator, .widget--widget, .widget--valuesrc, .widget--sep":{marginLeft:"10px"},"& .widget--valuesrc":{marginRight:"-8px"},"& .widget--valuesrc span i":{transform:"rotate(90deg)"},"& .operator--options--sep":{marginRight:"10px"},"& div.tooltip-inner":{maxWidth:"500px"},"& .rule--field label, .group--field label, .rule--operator label, .widget--widget label":{display:"block",fontWeight:"bold"},"& .conjunction":{display:"inline-block"},"& .conjunction label":{display:"inline-block",border:"1px solid",cursor:"pointer",color:"white",textTransform:"uppercase",padding:"0.2rem 0.4rem"},"& .conjunction input":{display:"none"},"& .conjunction[data-state=active] label":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction[data-state=inactive] label":{backgroundColor:"#428bca",borderColor:"#357ebd"},"& .conjunction[data-state=inactive] label:hover":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction:first-child label":{borderRadius:"3px 0 0 3px"},"& .conjunction:last-child label":{borderRadius:"0 3px 3px 0"},"& .conjunction:first-child:last-child":{borderRadius:"3px"},"& .rule--func--wrapper, .rule--func, .rule--func--args, .rule--func--arg, .rule--func--arg-value, .rule--func--bracket-before, .rule--func--bracket-after, .rule--func--arg-sep, .rule--func--arg-label, .rule--func--arg-label-sep":{display:"inline-block"},"& .rule--func--bracket-before, .rule--func--bracket-after":{marginLeft:"3px",marginRight:"3px"},"& .rule--func--bracket-before":{marginLeft:"5px"},"& .rule--func--arg-value > .rule--widget":{marginLeft:"-10px"},"& .rule--func--arg-sep":{marginLeft:"3px",marginRight:"6px"},"& .rule--func--arg-label-sep":{marginLeft:"1px",marginRight:"6px"},"& .qb-lite .group--drag-handler, .qb-lite .group--actions":{transition:"opacity 0.2s"},"& .qb-lite .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .rule_group_ext--drag-handler":{transition:"padding 0.2s"},"& .qb-lite .group--header:hover .group--header .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .group--header:hover .group--header .rule_group_ext--drag-handler,\n.qb-lite .group--header:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .group--header:not(:hover) .rule_group_ext--drag-handler,\n.qb-lite .rule_group:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .rule_group:not(:hover) .rule_group_ext--drag-handler":{width:"0",padding:"0",overflow:"hidden",opacity:0},"& .qb-lite .widget--valuesrc, .qb-lite .rule--drag-handler, .qb-lite .rule--header":{transition:"opacity 0.2s"},"& .qb-lite .rule:hover .rule .widget--valuesrc, .qb-lite .rule:hover .rule .rule--drag-handler, .qb-lite .rule:hover .rule .rule--header,\n.qb-lite .rule:not(:hover) .widget--valuesrc,\n.qb-lite .rule:not(:hover) .rule--drag-handler,\n.qb-lite .rule:not(:hover) .rule--header":{opacity:0},"& .qb-lite.qb-dragging .widget--valuesrc, .qb-lite.qb-dragging .rule--drag-handler, .qb-lite.qb-dragging .rule--header, .qb-lite.qb-dragging .group--drag-handler, .qb-lite.qb-dragging .group--actions":{opacity:"0 !important"},"& .qb-lite.qb-dragging .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite.qb-dragging .rule_group_ext--drag-handler":{width:"0 !important",padding:"0 !important",overflow:"hidden !important",opacity:"0 !important"},"& .group-or-rule-container":{marginTop:"10px",marginBottom:"10px",paddingRight:"10px"},"& .group-or-rule-container:first-child":{marginTop:"0px !important"},"& .group-or-rule-container:last-child":{marginBottom:"0px !important"},"& .rule--body.can--shrink--value":{display:"flex",alignItems:"center"},"& .rule--body.can--shrink--value .rule--value":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget":{display:"flex"},"& .rule--body.can--shrink--value .rule--value > .rule--widget .widget--widget":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget > .widget--valuesrc":{display:"flex",alignItems:"center"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon":{height:"100%"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon svg":{height:"100%"},"& .svg-inline--fa":{pointerEvents:"none"},"& .MuiFormControl-root fieldset legend":{fontSize:0,padding:0,width:0},"& .MuiFormControl-root .MuiSelect-select":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-inputRoot":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-endAdornment":{top:5},"& .MuiFormControl-root .MuiSelect-icon":{top:7},"& .MuiOutlinedInput-input":{padding:"17.5px 14px"},"& .MuiAutocomplete-root":{width:"300px !important",minWidth:"300px !important"}}})));function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ai={id:Kl.Utils.uuid(),type:"group"},li=({logic:e,fields:t,onChange:r})=>{const n=ti(),o=(0,i.useMemo)((()=>oi(oi({},n),{},{fields:t})),[t,n]),[a,l]=(0,i.useState)(Kl.Utils.checkTree(Kl.Utils.loadFromJsonLogic(e,o)||Kl.Utils.loadTree(ai),o)),c=(0,i.useCallback)(((e,t)=>{l(e),r(Kl.Utils.jsonLogicFormat(e,t))}),[r]),u=ri();return s().createElement("section",{className:u.root},s().createElement(Kl.Query,oi(oi({},o),{},{value:a,onChange:c,renderBuilder:e=>s().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},s().createElement("div",{className:"query-builder qb-lite"},s().createElement(Kl.Builder,oi({},e))))})))},ii=(0,be.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"}}),si=(0,d.makeStyles)((e=>({input:{display:"flex",alignItems:"center",border:`1px solid ${e.palette.border.main}`,paddingTop:12,paddingBottom:12,paddingRight:e.spacing(2),paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,minHeight:54,cursor:"pointer","&:hover":{borderColor:e.palette.border.hover}},fixedHeightValue:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"92%"},value:{paddingRight:"8%"},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main},clear:{position:"absolute",right:e.spacing(2),top:"50%",transform:"translateY(-50%)"}}))),ci=({value:e,onClick:t,dataTestId:r,errors:n,required:o,label:a,onClear:l,fixedHeight:i=!0})=>{const c=si();return s().createElement(d.Box,{mt:2},s().createElement(lr,{errors:n},s().createElement(d.InputLabel,{shrink:Boolean(e),required:o,className:c.inputLabel},a),s().createElement(d.Box,{className:c.input,onClick:t,"data-test":r},s().createElement(d.Typography,{className:b()(i&&c.fixedHeightValue,!i&&c.value),component:"span"},e)),e&&""!==e&&s().createElement(d.Box,{className:c.clear},s().createElement(Nt,{size:"small",onClick:l,icon:"clear",tooltipMessage:ii.clear}))))},ui=(0,Ce.makeStyles)((e=>({textArea:{width:"100%",minWidth:"100%",minHeight:"100px",padding:e.spacing(2),outline:"none"},textAreaError:{borderColor:`${e.palette.error.main} !important`}}))),di=({initialLogic:e,changeLogic:t})=>{const{formatMessage:r}=xe(),n=ui(),[o,a]=(0,i.useState)(JSON.stringify(e)),[l,c]=(0,i.useState)([]);return s().createElement(d.Box,{mt:2,mb:-2},s().createElement(lr,{errors:l},s().createElement("textarea",{className:b()(n.textArea,l.length>0&&n.textAreaError),onChange:e=>{const{value:t}=e.target;a(t);try{JSON.parse(t),c([])}catch(e){c([r(Ql.invalidJson)])}},value:o})),s().createElement(d.Box,{mt:2,display:"flex",justifyContent:"flex-end"},s().createElement(d.Button,{disabled:!o||l.length>0||o===JSON.stringify(e),onClick:()=>o&&t(JSON.parse(o)),color:"primary","data-test":"apply-button"},r(Ql.apply))))},pi=Ua((({label:e,closeDialog:t,isOpen:r,id:n,dataTestId:o,initialLogic:a,fields:l,onChange:c,InfoPopper:u})=>{const{formatMessage:p}=xe(),m=(0,d.useTheme)(),[g,b]=(0,i.useState)(a),[f,h]=(0,i.useState)("query");return s().createElement(Ha,{allowConfirm:!0,titleMessage:e,onConfirm:()=>{t(),c(g)},onCancel:()=>{t()},maxWidth:"md",cancelMessage:Ql.cancel,confirmMessage:Ql.confirm,open:r,closeDialog:t,dataTestId:o||"",id:n||"",onClose:()=>null},s().createElement(d.Box,{position:"relative"},u&&s().createElement(d.Box,{position:"absolute",top:m.spacing(-7),right:m.spacing(-3)},u),s().createElement(d.Tabs,{value:f,onChange:(e,t)=>{h(t)}},s().createElement(d.Tab,{value:"query",label:p(Ql.queryTab)}),s().createElement(d.Tab,{value:"json",label:p(Ql.jsonTab)})),"query"===f&&s().createElement(d.Box,{mt:2},s().createElement(li,{logic:g,fields:l,onChange:e=>{b(null==e?void 0:e.logic)}})),"json"===f&&s().createElement(di,{initialLogic:g,changeLogic:e=>b(e)})))}),(({label:e,value:t,onClick:r,dataTestId:n,onClear:o})=>{const{formatMessage:a}=xe();return s().createElement(ci,{onClick:r,value:t,dataTestId:`open-query-builder-${n||"default"}`,label:a(e),onClear:o,fixedHeight:!1})})),mi=require("lodash/isEmpty");var gi=e.n(mi);function bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const hi={id:Kl.Utils.uuid(),type:"group"},yi=(e,t)=>{var r;return(null===(r=t.find((t=>t.items.some((t=>` ${t} `===e)))))||void 0===r?void 0:r.color)||"inherit"},Oi=(e,t)=>{const r=ti(),n=(0,i.useCallback)((n=>{if(gi()(e)||!n)return"";const o=fi(fi({},r),{},{fields:e}),a=Kl.Utils.checkTree(Kl.Utils.loadFromJsonLogic(n,o)||Kl.Utils.loadTree(hi),o),l=(e=>{let t="";return t=e?JSON.stringify(e,void 0,2):"",t=t.substring(1,t.length-1),"("===t.charAt(0)&&")"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t})(Kl.Utils.queryString(a,o,!0));return t&&l?((e,t)=>{const r=t.flatMap((e=>e.items.map((e=>`\\s${e}\\s`)))),n=new RegExp(`(${r.join("|")})`,"g");return e.split(n).map(((e,r)=>r%2==0?s().createElement(i.Fragment,{key:r},e):s().createElement("span",{style:{color:yi(`${e}`,t)},key:r},e)))})(l,t):l}),[e,t,r]);return n},vi=require("@dnd-kit/core"),wi=require("@dnd-kit/sortable"),Ei=require("@dnd-kit/modifiers"),xi=require("@dnd-kit/utilities");function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ji=(0,Ce.makeStyles)((e=>({item:{padding:e.spacing(1),backgroundColor:"white",border:`1px solid ${e.palette.grey[200]}`,borderRadius:5,marginBottom:e.spacing(1)},lastItem:{marginBottom:e.spacing(0)}}))),qi=({id:e,handle:t,children:r,isLast:n=!1})=>{const o=ji(),{attributes:a,listeners:l,setNodeRef:i,transform:c,transition:u}=(0,wi.useSortable)({id:e}),d={transform:xi.CSS.Transform.toString(c),transition:u},p=Ci(Ci({},a),l),m=t?void 0:p;return s().createElement("li",Ci({ref:i,style:d,className:b()(o.item,n&&o.lastItem)},m),r(t?p:void 0))},ki=(0,be.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),Si=(0,Ce.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center",backgroundColor:e.palette.gray.background}}))),Ti=()=>{const{formatMessage:e}=xe(),t=Si();return s().createElement(d.Box,{className:t.root},e(ki.noResult))},Mi=(0,Ce.makeStyles)((e=>({list:{padding:e.spacing(1),margin:0,listStyleType:"none",backgroundColor:e.palette.gray.background},draggablelist:{padding:e.spacing(0),margin:0,listStyleType:"none"},draggableItem:{padding:e.spacing(1),backgroundColor:e.palette.grey[200],border:`1px solid ${e.palette.grey[400]}`,borderRadius:5,boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"}}))),Ii=e=>{const{items:t,onChange:r,handle:n=!1,disabled:o,RenderItem:a}=e,[l,c]=(0,i.useState)(),u=Mi(),d=(0,vi.useSensors)((0,vi.useSensor)(vi.PointerSensor),(0,vi.useSensor)(vi.KeyboardSensor,{coordinateGetter:wi.sortableKeyboardCoordinates})),p=(0,i.useCallback)((e=>{c(void 0);const{active:n,over:o}=e;if(o&&n.id!==(null==o?void 0:o.id)){const e=t.findIndex((e=>e.id===n.id)),a=t.findIndex((e=>e.id===o.id)),l=(0,wi.arrayMove)(t,e,a);r(l)}}),[t,r]);return s().createElement(s().Fragment,null,0===t.length&&s().createElement(Ti,null),t.length>0&&s().createElement(vi.DndContext,{sensors:d,collisionDetection:vi.closestCenter,onDragEnd:p,onDragStart:({active:e})=>{c(e)},modifiers:[Ei.restrictToVerticalAxis]},s().createElement(wi.SortableContext,{disabled:o,items:t,strategy:wi.verticalListSortingStrategy},s().createElement("ul",{className:u.list},t.map(((e,r)=>s().createElement(qi,{handle:n,key:e.id,id:e.id,isLast:r+1===t.length},(t=>s().createElement(a,{item:e,index:r,handleProps:t}))))))),s().createElement(vi.DragOverlay,null,s().createElement("ul",{className:u.draggablelist},s().createElement("li",{className:u.draggableItem},s().createElement(a,{item:l,index:-1}))))))},Di=require("@material-ui/icons/DragIndicator");var Bi=e.n(Di);function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ni=(0,Ce.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20}}))),Fi=e=>{const t=Ni(),{attributes:r,listeners:n,setNodeRef:o,transform:a,transition:l}=(0,wi.useSortable)({id:e.id}),i={transform:xi.CSS.Transform.toString(a),transition:l};return s().createElement(d.TableRow,{ref:o,style:i},s().createElement(d.TableCell,{align:"center",className:t.sortCell},s().createElement(d.IconButton,Ri(Ri({size:"small",component:"span",disableRipple:!0},r),n),s().createElement(Bi(),null))),e.children)},Ai=({columns:e,item:t})=>s().createElement(s().Fragment,null,e.map((e=>{const r=t[e.accessor];return e.Cell?s().createElement(d.TableCell,{key:e.accessor,align:"center"},s().createElement(s().Fragment,null,e.Cell({value:r}))):s().createElement(d.TableCell,{key:e.accessor,align:"center"},s().createElement(s().Fragment,null,r))}))),zi=(0,Ce.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},hiddenRow:{visibility:"collapse"}}))),Vi=({columns:e,hidden:t})=>{const r=zi();return s().createElement(d.TableHead,null,s().createElement(d.TableRow,{className:b()(t&&r.hiddenRow)},s().createElement(d.TableCell,{className:b()(r.headerCell,r.sortCell)}),e.map(((t,n)=>s().createElement(d.TableCell,{key:t.accessor,className:b()(r.headerCell,n+1===e.length&&r.lastHeaderCell)},t.Header)))))},_i=(0,Ce.makeStyles)((e=>({draggableRow:{backgroundColor:e.palette.grey[200],boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"},hiddenRow:{visibility:"collapse"},sortCell:{padding:e.spacing(1),width:20}}))),Hi=({items:e,activeItem:t,columns:r})=>{const n=_i();return s().createElement(d.Table,{size:"small"},s().createElement(Vi,{columns:r,hidden:!0}),s().createElement(d.TableBody,null,e.map((e=>s().createElement(d.TableRow,{key:e.id,className:b()(n.draggableRow,(null==t?void 0:t.id)!==e.id&&n.hiddenRow)},s().createElement(d.TableCell,{align:"center",className:n.sortCell},s().createElement(d.Box,{px:"3px",py:"6px"},s().createElement(Bi(),null))),s().createElement(Ai,{columns:r,item:e}))))))},$i=(0,be.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),Gi=(0,Ce.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center"},cell:{padding:"0 !important"}}))),Wi=({colSpan:e})=>{const{formatMessage:t}=xe(),r=Gi();return s().createElement(d.TableRow,null,s().createElement(d.TableCell,{colSpan:e,className:r.cell},s().createElement(d.Box,{className:r.root},t($i.noResult))))},Ui=(0,Ce.makeStyles)((e=>({table:{"& tr":{backgroundColor:"rgba(244,244,244,1)"},"& tr:nth-of-type(even)":{backgroundColor:"white"}},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortCell:{padding:e.spacing(1),width:20}}))),Yi=e=>{const{items:t,onChange:r,disabled:n,columns:o}=e,[a,l]=(0,i.useState)(),c=Ui(),u=(0,vi.useSensors)((0,vi.useSensor)(vi.PointerSensor),(0,vi.useSensor)(vi.KeyboardSensor,{coordinateGetter:wi.sortableKeyboardCoordinates})),p=(0,i.useCallback)((e=>{l(void 0);const{active:n,over:o}=e;if(o&&n.id!==(null==o?void 0:o.id)){const e=t.findIndex((e=>e.id===n.id)),a=t.findIndex((e=>e.id===o.id)),l=(0,wi.arrayMove)(t,e,a);r(l)}}),[t,r]);return s().createElement(vi.DndContext,{sensors:u,collisionDetection:vi.closestCenter,onDragEnd:p,onDragStart:({active:e})=>{l(e)},modifiers:[Ei.restrictToVerticalAxis]},s().createElement(wi.SortableContext,{disabled:n,items:t,strategy:wi.verticalListSortingStrategy},s().createElement(d.Table,{size:"small",className:c.table},s().createElement(Vi,{columns:o}),s().createElement(d.TableBody,null,0===t.length&&s().createElement(Wi,{colSpan:o.length+1}),t.map((e=>s().createElement(Fi,{key:e.id,id:e.id},s().createElement(Ai,{columns:o,item:e}))))))),s().createElement(vi.DragOverlay,null,s().createElement(Hi,{activeItem:a,columns:o,items:t})))};function Ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Zi=(e,t)=>e.map((e=>"object"==typeof e.label&&"id"in e.label?Ji(Ji({},e),{},{label:t(e.label)}):e)),Qi=e=>{const{formatMessage:t}=xe();return Zi(e,t)},Xi=e=>ol().unix(e).format("LTS");function es(e,t="/charts"){return Object.keys(e).forEach((r=>{const n=e[r];null!=n&&""!==n&&(t+=`/${r}/${n}`)})),t}return t})()));
=======
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bluesquare-components",[],t):"object"==typeof exports?exports["bluesquare-components"]=t():e["bluesquare-components"]=t()}(self,(()=>(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p:""},t={};e.r(t),e.d(t,{AddButton:()=>ze,AddComment:()=>el,ArrayFieldInput:()=>yr,BlockPlaceholder:()=>un,Checkbox:()=>Or,ColumnsSelectDrawer:()=>En,CommentWithThread:()=>sl,ConfirmCancelButtons:()=>zo,ConfirmCancelModal:()=>Vo,CsvSvg:()=>C,CustomInput:()=>jo,DHIS2Svg:()=>k,DatePicker:()=>sr,DynamicSelect:()=>yl,DynamicTabs:()=>Zt,EnrichedTreeItem:()=>Tl,ErrorBoundary:()=>sn,ErrorBoundaryWithMessage:()=>yo,ExcellSvg:()=>M,Expander:()=>ho,ExportButton:()=>Ue,FakeInput:()=>gi,FilesUpload:()=>No,FormControl:()=>ar,HeaderRowIcon:()=>Pn,IasoChipColors:()=>r,IasoTreeView:()=>Il,IasoUiConstants:()=>a,IconButton:()=>Nt,InfoHeader:()=>kn,InputLabel:()=>Cr,LazyImage:()=>Wl,LinkContext:()=>kt,LinkProvider:()=>St,LoadingSpinner:()=>v,MENU_HEIGHT_WITHOUT_TABS:()=>de,MENU_HEIGHT_WITH_TABS:()=>ue,NumberInput:()=>kr,OrgUnitSvg:()=>B,PageRowSelect:()=>ro,PasswordInput:()=>Dr,PdfSvg:()=>N,QueryBuilder:()=>di,QueryBuilderInput:()=>hi,Radio:()=>Br,SIDEBAR_WIDTH:()=>ce,SearchInput:()=>zr,Select:()=>on,SelectionSpeedDials:()=>Dn,ShapeSvg:()=>z,SimpleModal:()=>Eo,SingleComment:()=>ll,SnackBar:()=>n,SortableList:()=>Ni,SortableTable:()=>Xi,Table:()=>po,TextInput:()=>ln,TextSvg:()=>H,TreeViewResultsCountSelect:()=>fl,TreeViewWithSearch:()=>Bl,TruncatedTreeview:()=>Vl,WordSvg:()=>W,XmlSvg:()=>Y,addPositionIndex:()=>Wt,capitalize:()=>Ht,clone:()=>zt,commonStyles:()=>De,createUrl:()=>os,deepEqual:()=>Vt,defaultSelectionActions:()=>Xn,displayDateFromTimestamp:()=>as,english:()=>_l,formatThousand:()=>$t,french:()=>Hl,getColumnsHeadersInfos:()=>oa,getOrderArray:()=>Zn,getParamsKey:()=>ra,getSimplifiedColumns:()=>Qn,getSort:()=>Jn,getTableParams:()=>na,getTableUrl:()=>Yn,injectIntl:()=>Ee,makeFullModal:()=>Go,mapPopupStyles:()=>Be,mapStyles:()=>Te,patchIntl:()=>ye,rawTheme:()=>qe,removePositionIndex:()=>Ut,renderTags:()=>Kr,selectionInitialState:()=>ea,setTableSelection:()=>ta,substituteVars:()=>_t,tableInitialResult:()=>aa,testTS:()=>ke,textPlaceholder:()=>pe,theme:()=>je,translateOptions:()=>rs,truncateText:()=>Gt,useHumanReadableJsonLogic:()=>Pi,useKeyPressListener:()=>nn,useLink:()=>Tt,useSafeIntl:()=>xe,useSkipEffectOnMount:()=>Pe,useTranslatedOptions:()=>ns,withLink:()=>Mt});var r={};e.r(r),e.d(r,{chipColors:()=>J,getChipColors:()=>Z,getOtChipColors:()=>X,otChipColors:()=>Q});var n={};e.r(n),e.d(n,{buttonReloadMessageKey:()=>ne,error:()=>le,formErrorMessageKey:()=>te,formSuccessFullMessageKey:()=>ee,formWarningMessageKey:()=>re,reloadPage:()=>se,reloadPageMessageKey:()=>ae,success:()=>oe,warning:()=>ie});var a={};e.r(a),e.d(a,{MENU_HEIGHT_WITHOUT_TABS:()=>de,MENU_HEIGHT_WITH_TABS:()=>ue,SIDEBAR_WIDTH:()=>ce,textPlaceholder:()=>pe});const o=require("@babel/runtime/helpers/defineProperty");var l=e.n(o);const i=require("react");var s=e.n(i);const c=require("@material-ui/core/CircularProgress");var u=e.n(c);const d=require("@material-ui/core"),p=require("prop-types");var m=e.n(p);const g=require("classnames");var b=e.n(g);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.4)",top:0,left:0},O=e=>{const{classes:t,size:r,transparent:n,fixed:a,absolute:o,padding:l}=e;return s().createElement("div",{style:{padding:l},className:b()(a&&!o&&t.rootFixed,o&&t.rootAbsolute,!a&&!o&&t.root,n&&t.rootTransparent)},s().createElement(u(),{size:r}))};O.defaultProps={size:40,transparent:!1,fixed:!0,absolute:!1,padding:0},O.propTypes={size:m().number,transparent:m().bool,fixed:m().bool,absolute:m().bool,padding:m().number,classes:m().object.isRequired};const v=(0,d.withStyles)((()=>({rootFixed:h(h({},y),{},{position:"fixed",zIndex:"1000"}),rootAbsolute:h(h({},y),{},{position:"absolute",zIndex:"500"}),root:h(h({},y),{},{position:"relative",zIndex:"1"}),rootTransparent:{backgroundColor:"transparent"}})))(O),w=require("@material-ui/core/SvgIcon");var E=e.n(w);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){const t=P(P({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("g",null,s().createElement("path",{d:"M15.00336,19.0177a1.22617,1.22617,0,0,1,.42463-.23654,1.59576,1.59576,0,0,1,.48321-.07382,1.848,1.848,0,0,1,1.435.63421l.96642-1.16047a2.7286,2.7286,0,0,0-1.04652-.69533A3.96626,3.96626,0,0,0,15.85349,17.25a3.50467,3.50467,0,0,0-1.06891.16828,2.76253,2.76253,0,0,0-.94488.51991,2.61976,2.61976,0,0,0-.67357.88345,2.92663,2.92663,0,0,0-.25667,1.27557,2.76842,2.76842,0,0,0,.168,1.01839,2.42228,2.42228,0,0,0,.45393.74216,2.97378,2.97378,0,0,0,.65892.5469,6.79238,6.79238,0,0,0,.79845.41831,5.06844,5.06844,0,0,1,1.11285.6747,1.21326,1.21326,0,0,1,.43928.98505,1.301,1.301,0,0,1-.36607.98505,1.27774,1.27774,0,0,1-.92249.35085,2.34342,2.34342,0,0,1-.97417-.2159A2.40505,2.40505,0,0,1,13.465,25.009l-.95178,1.18746a3.36245,3.36245,0,0,0,1.17142.78265,4.04267,4.04267,0,0,0,1.59605.31036,3.43456,3.43456,0,0,0,1.14213-.18892,2.68383,2.68383,0,0,0,.94488-.56039,2.73792,2.73792,0,0,0,.64428-.91044,3.01091,3.01091,0,0,0,.242-1.24144,2.49319,2.49319,0,0,0-.205-1.05252,2.66131,2.66131,0,0,0-.52713-.76915,3.45085,3.45085,0,0,0-.71749-.55325q-.39536-.2298-.77607-.40482a4.64417,4.64417,0,0,1-1.03963-.62786,1.15284,1.15284,0,0,1-.39535-.93743,1.51791,1.51791,0,0,1,.11025-.60722A1.11837,1.11837,0,0,1,15.00336,19.0177Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M7.90166,19.78685a2.21091,2.21091,0,0,1,.65892-.74931,1.57,1.57,0,0,1,.92249-.27622,1.85887,1.85887,0,0,1,1.55212.79613L12.04554,18.424a2.7775,2.7775,0,0,0-1.0982-.87075A3.78071,3.78071,0,0,0,9.38057,17.25a3.35465,3.35465,0,0,0-1.57452.37069,3.54422,3.54422,0,0,0-1.20845,1.039A4.98612,4.98612,0,0,0,5.82929,20.252a7.6351,7.6351,0,0,0,0,4.02832,5.06146,5.06146,0,0,0,.76142,1.58514,3.527,3.527,0,0,0,1.2007,1.04617,3.33459,3.33459,0,0,0,1.58916.37783,3.28915,3.28915,0,0,0,1.60294-.35084A3.14362,3.14362,0,0,0,12.03,26.021l-1.01034-1.093a2.286,2.286,0,0,1-.62189.59373,1.58619,1.58619,0,0,1-.88545.24289,1.6258,1.6258,0,0,1-.94488-.277,2.17538,2.17538,0,0,1-.66667-.74851,3.85061,3.85061,0,0,1-.39535-1.11364,6.71546,6.71546,0,0,1-.13179-1.35574,6.80205,6.80205,0,0,1,.13179-1.37A3.90579,3.90579,0,0,1,7.90166,19.78685Z",transform:"translate(-3.021)"}),s().createElement("polygon",{points:"19.377 25.157 19.333 25.157 17.605 17.493 15.643 17.493 18.176 27.047 20.402 27.047 22.979 17.493 21.105 17.493 19.377 25.157"})))}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){const t=j(j({},e),{},{viewBox:"0 0 200 182"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M191.73,60,109,6.34a19.73,19.73,0,0,0-20.32,0L8.31,58.43a12,12,0,0,0-.25,20.63L88.6,134a19.37,19.37,0,0,0,20.37.25l82.76-53.65a11.88,11.88,0,0,0,0-20.59Zm-91,61.45a4.29,4.29,0,0,1-3.49-.05l-77-52.49L97,19.13a4.76,4.76,0,0,1,3.74,0L179.6,70.28Z"}),s().createElement("path",{d:"M88.66,47.82,45.1,76.06l13.61,9.33L97,60.61a4.76,4.76,0,0,1,3.74,0l39.37,25.52,14-9.06L109,47.82A19.76,19.76,0,0,0,88.66,47.82Z"}),s().createElement("path",{d:"M191.73,101.46l-8.62-5.59-14.05,9.06,10.53,6.83-78.91,51.15a4.37,4.37,0,0,1-3.49,0l-77-52.5,10-6.47L16.55,94.57,8.31,99.91a12,12,0,0,0-.25,20.63L88.6,175.46a19.34,19.34,0,0,0,20.37.24l82.75-53.65a11.88,11.88,0,0,0,0-20.59Z"})))}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e){const t=T(T({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.15,0L3.011,8.592v22.834h25.403V0H11.15z M10.434,3.613v3.808H6.826L10.434,3.613z M26.449,29.462H4.977V9.385h7.421 V1.964h14.053v27.498H26.449z"}),s().createElement("path",{d:"M15.004,14.766h0.491v-1.768H9.444v1.768h0.737c0.202,0,0.402,0.055,0.617,0.168c0.203,0.107,0.396,0.306,0.572,0.585 l2.919,4.738l-2.939,4.21c-0.16,0.229-0.306,0.421-0.438,0.576c-0.113,0.133-0.228,0.242-0.337,0.321 c-0.098,0.07-0.198,0.119-0.307,0.148c-0.127,0.034-0.282,0.051-0.462,0.051H9.198v1.769h5.438v-1.276l-0.055-0.49H14.09 c-0.449,0-0.643-0.057-0.724-0.094c0-0.053,0.01-0.115,0.028-0.186c0.024-0.088,0.055-0.176,0.095-0.264 c0.043-0.097,0.087-0.188,0.138-0.279c0.046-0.084,0.091-0.159,0.139-0.229l1.65-2.44l1.769,2.843 c0.068,0.114,0.123,0.209,0.159,0.289c0.036,0.077,0.05,0.121,0.054,0.139l0.013,0.108c0,0-0.112,0.113-0.625,0.113h-0.592v1.768 h6.033v-1.768h-0.729c-0.144,0-0.3-0.052-0.464-0.151c-0.133-0.08-0.35-0.259-0.616-0.613l-3.272-5.259l2.529-3.646 c0.164-0.238,0.314-0.437,0.452-0.594c0.125-0.142,0.246-0.26,0.362-0.349c0.092-0.069,0.182-0.116,0.272-0.142 c0.104-0.03,0.226-0.045,0.361-0.045h0.655v-1.768h-5.074v1.277l0.055,0.491h0.491c0.125,0,0.237,0.006,0.341,0.02 c0.091,0.011,0.145,0.029,0.173,0.029h0.001c0,0.1-0.027,0.213-0.085,0.336c-0.075,0.168-0.176,0.346-0.301,0.535l-1.349,2.051 l-1.287-2.08c-0.095-0.15-0.17-0.276-0.222-0.375c-0.047-0.09-0.083-0.168-0.107-0.231c-0.017-0.046-0.029-0.087-0.033-0.113 c-0.006-0.039-0.009-0.08-0.031-0.089c0.002-0.001,0.042-0.025,0.162-0.049C14.628,14.776,14.775,14.766,15.004,14.766z"})))}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){const t=D(D({},e),{},{viewBox:"0 0 85 85"});return s().createElement(E(),t,s().createElement("path",{d:"M17.518403,78.3591 C16.2139001,78.3570957 15.0595734,77.5172438 14.660803,76.28 L0.1493927,31.77603 C-0.249658449,30.5438778 0.191427305,29.1958057 1.242723,28.43453 L39.235803,0.93513 C40.2882476,0.175265921 41.7117584,0.175265921 42.764203,0.93513 L80.757302,28.43453 C81.8085865,29.1958138 82.2496596,30.5438843 81.850602,31.77603 L67.339202,76.28 C66.9404317,77.5172435 65.7861055,78.3570953 64.481603,78.3591 L17.518403,78.3591 L17.518403,78.3591 Z M19.705003,72.3692 L62.295003,72.3692 L75.464602,31.99883 L41.000003,7.07363 L6.535413,31.99883 L19.705003,72.3692 Z"}))}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){const t=L(L({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M13.2,12.3c0.2,1.8,0.3,5.1-1.1,7.8c-0.1,0.2-0.2,0.4-0.3,0.6c-2.3,0.7-4.8,2.1-5.2,3.6c-0.2,0.6,0,1.2,0.4,1.6 c0.4,0.5,1,0.7,1.6,0.7c1.4,0,2.9-1.4,4.6-4.2c0.6-0.1,4-0.6,4.7-0.6c2,2,3.6,3,4.9,3c0.8,0,1.5-0.4,1.9-1.1 c0.3-0.5,0.3-1.1,0-1.6c-0.8-1.5-4-2.1-5.9-2.2c-0.2-0.2-0.3-0.4-0.5-0.6c-2-2.2-2.8-5.5-3-7.2c0-0.4-0.1-0.7-0.1-1 c-0.1-0.9-0.7-1-1-1c-0.3,0-0.6,0.1-0.7,0.3c-0.3,0.3-0.3,0.7-0.2,1C13.1,11.7,13.1,12,13.2,12.3z M8.6,24.6 c0.2-0.2,0.6-0.5,1.1-0.8C9.2,24.3,8.8,24.5,8.6,24.6z M22.5,22.9c-0.2,0-0.5-0.1-1-0.4C22,22.6,22.3,22.7,22.5,22.9z M14.9,17.9 c0.4,0.7,0.8,1.4,1.2,2c-0.2,0-1.8,0.2-1.9,0.2C14.5,19.5,14.7,18.7,14.9,17.9z"}),s().createElement("path",{d:"M11.1,0L3,8.5v22.7h25.3V0H11.1z M10.4,3.6v3.8H6.8L10.4,3.6z M26.3,29.3H4.9v-20h7.4V2h14L26.3,29.3L26.3,29.3z"})))}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){const t=F(F({},e),{},{viewBox:"-5 -5 55 55"});return s().createElement(E(),t,s().createElement("path",{d:"M46,14V2H34V6H14V2H2V14H6V34H2V46H14V42H34v4H46V34H42V14ZM6,6h4v4H6Zm4,36H6V38h4Zm24-4H14V34H10V14h4V10H34v4h4V34H34Zm8,4H38V38h4ZM38,10V6h4v4Z"}))}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){const t=_(_({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.2,0L3,8.6v22.9h25.5V0H11.2z M10.5,3.6v3.8H6.8L10.5,3.6z M26.5,29.5H5V9.4h7.4V2h14.1V29.5z"}),s().createElement("polygon",{points:"19.1,18.6 21,18.6 21,26.8 22.6,26.8 22.6,18.6 24.4,18.6 24.4,17.2 19.1,17.2 "}),s().createElement("polygon",{points:"7.1,18.6 9,18.6 9,26.8 10.6,26.8 10.6,18.6 12.4,18.6 12.4,17.2 7.1,17.2"}),s().createElement("polygon",{points:"18.9,17.2 17.2,17.2 15.8,20.5 14.3,17.2 12.6,17.2 14.8,21.8 12.4,26.8 14.1,26.8 15.7,23.1 17.3,26.8 19.1,26.8 16.7,21.8"})))}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e){const t=G(G({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M13.5,15.211a1.02243,1.02243,0,0,1,.335.197,1.583,1.583,0,0,1,.278.351,4.63323,4.63323,0,0,1,.268.532l.62,1.764-1.68,4.828L11.214,16.88c-.135-.372-.235-.679-.296-.92a2.01149,2.01149,0,0,1-.085-.435.31193.31193,0,0,1,.127-.256.78111.78111,0,0,1,.506-.129h.59V14.061H6.701V15.14h.37a1.50644,1.50644,0,0,1,.688.125.85109.85109,0,0,1,.346.367c.039.072.158.363.502,1.32l3.794,10.6h.852l2.564-7.236,2.579,7.236h.891l3.564-10.303A10.633,10.633,0,0,1,23.4,15.78a1.97318,1.97318,0,0,1,.232-.336.927.927,0,0,1,.209-.179.81631.81631,0,0,1,.244-.095,1.82682,1.82682,0,0,1,.361-.032h.37V14.059H20.355v1.079h.368a2.06347,2.06347,0,0,1,.84.142.25379.25379,0,0,1,.169.271,5.512,5.512,0,0,1-.383,1.462l-2.028,5.868-2.035-5.779a5.26922,5.26922,0,0,1-.394-1.515.40192.40192,0,0,1,.115-.33c.046-.045.174-.117.508-.117h.7V14.061H12.62V15.14h.369A1.61981,1.61981,0,0,1,13.5,15.211Z",transform:"translate(-3.021)"})))}function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e){const t=K(K({},e),{},{viewBox:"0 0 40 40"});return s().createElement(E(),t,s().createElement("g",null,s().createElement("path",{d:"M15.2,3L7,11.6v22.9h25.5V3H15.2z M14.5,6.6v3.8h-3.7L14.5,6.6z M30.5,32.5H9V12.4h7.4V5h14.1V32.5z"}),s().createElement("g",null,s().createElement("path",{d:"M12.4,28.1L10.7,31H9.4l2.4-4l-2.2-3.9h1.3l1.6,2.7l1.6-2.7h1.3L13,27l2.5,4h-1.3L12.4,28.1z"}),s().createElement("path",{d:"M16.4,23.1h1.1l2.2,5.2l2.2-5.2h1.1V31h-1.2v-4.9h0l-1.6,3.8h-1l-1.6-3.8h0V31h-1.2V23.1z"}),s().createElement("path",{d:"M25,23.1h1.2v6.8H30V31h-5V23.1z"}))))}const J=["#4dd0e1","#01579b","#607d8b","#ff7043","#e91e63","#9c27b0","#f44336","#2196f3","#009688"],Z=(e,t=!1)=>{const r=t?J.reverse():J;return r[e%r.length]},Q=["#e91e63","#795548","#0277BD","#4CAF50","#607d8b","#ff7043","#01579b","#9E9D24","#9c27b0"],X=e=>Q[e%Q.length],ee="successful",te="error",re="warning",ne="reload",ae="reloadPage",oe=(e=ee,t)=>({messageKey:e,messageObject:t,options:{variant:"success",persist:!1}}),le=(e=te,t,r)=>({messageKey:e,messageObject:t,options:{variant:"error",persist:Boolean(r)},errorLog:r,id:`${e}-${Date.now()}`}),ie=(e=re,t,r)=>({messageKey:e,messageObject:t,options:{maxsnack:1,variant:"warning",persist:!0},id:r||e}),se=(e=ne,t=ae)=>({messageKey:t,type:"reload",options:{maxsnack:0,variant:"warning",persist:!0},buttonMessageKey:e,buttonAction:()=>window.location.reload(!0)}),ce=350,ue=112,de=65,pe="--",me=require("@babel/runtime/helpers/extends");var ge=e.n(me);const be=require("react-intl");function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ye=e=>he(he({},e),{},{formatMessage:(t,r)=>t&&t.id?e.formatMessage(t,r):(console.warn("Warning: Message object is not defined properly!",t),null)});function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const we=e=>{const t=ve({},e),r=e.component,n=ye((0,be.useIntl)());return delete t.component,delete t.ref,s().createElement(r,ge()({},t,{intl:n,forwardedRef:e.ref}))};we.defaultProps={ref:void 0},we.propTypes={component:m().any.isRequired,ref:m().object};const Ee=e=>s().forwardRef(((t,r)=>{const n=ve(ve({},t),{},{component:e,ref:r});return s().createElement(we,n)})),xe=()=>{const e=(0,be.useIntl)();return(0,i.useMemo)((()=>ye(e)),[e])},Pe=(e,t)=>{const r=(0,i.useRef)(!1);(0,i.useEffect)((()=>{r.current?e():r.current=!0}),t)},Ce=require("@material-ui/core/styles"),qe={typography:{useNextVariants:!0},textColor:"#333",palette:{primary:{main:"#006699",secondary:"#0066cc",background:"#F5F5F5"},gray:{main:"#666",border:"rgba(0,0,0,0.02)",background:"rgba(0,0,0,0.03)"},mediumGray:{main:"#A2A2A2"},ligthGray:{main:"#F7F7F7",border:"rgba(0, 0, 0, 0.12)",background:"rgba(0, 0, 0, 0.012)"},error:{main:"rgb(215, 25, 28)",background:"rgba(215, 25, 28, 0.2)",backgroundHard:"rgba(215, 25, 28, 0.7)"},success:{main:"#4caf50",background:"rgba(76,175,80, 0.2)"},border:{main:"rgba(0,0,0,0.23)",hover:"rgba(0,0,0,0.87)"},yellow:{main:"#FFD835"}},props:{MuiTextField:{variant:"outlined"},MuiSelect:{variant:"outlined"}}},je=(0,Ce.createTheme)(qe),ke=(e,t)=>`${t}-${e.toString()}`,Se=require("@material-ui/core/styles/colorManipulator"),Te=e=>({mapContainer:{height:"62vh",marginBottom:e.spacing(2),"& .leaflet-container .leaflet-popup-content a":{color:e.palette.primary.main},"& .marker-cluster.color":{color:"white"},"& .marker-cluster.color div":{marginLeft:2,marginTop:2,display:"flex",justifyContent:"center",alignItems:"center"},"& .marker-cluster.color div .border":{position:"absolute",display:"block",height:"100%",width:"100%",top:-2,left:-2,borderRadius:"100%",zIndex:-1},"& .marker-cluster.primary":{backgroundColor:(0,Se.alpha)(e.palette.primary.main,.6)},"& .marker-cluster.primary > div":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .marker-custom":{zIndex:"500 !important"},"& .marker-custom.primary span":{position:"relative",display:"block",height:"100%",width:"100%"},"& .marker-custom .marker_bg, & .marker-custom.primary .marker_bg":{position:"absolute",display:"block",height:"10px",width:"10px",borderRadius:"10px",backgroundColor:"white",top:8,left:8},"& .marker-custom.color":{zIndex:"300 !important"},"& .marker-custom.color .svg-icon":{display:"block",height:"auto",width:16,position:"absolute",top:6,left:4,zIndex:200,borderRadius:"5px"},"& .marker-custom.color .marker_shadow":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none"},"& .marker-custom.color svg":{position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& .marker-custom.primary svg":{fill:e.palette.primary.main,position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& path.primary":{fill:(0,Se.alpha)(e.palette.primary.main,.6),stroke:e.palette.primary.main},"& path.secondary":{fill:(0,Se.alpha)(e.palette.secondary.main,.6),stroke:e.palette.secondary.main},"& path.no-pointer-event":{pointerEvents:"none !important"},"& .marker-custom.primary img":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none",width:"auto"},"& .leaflet-draw.leaflet-control":{display:"none"}}});function Me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const De=e=>Ie(Ie({},Te(e)),{},{containerFullHeight:{width:"100%",height:`calc(100vh - ${ue}px)`,margin:0,overflow:"auto",backgroundColor:"white"},containerFullHeightPadded:{width:"100%",height:`calc(100vh - ${ue}px)`,padding:e.spacing(4),margin:0,backgroundColor:"white",overflow:"auto",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},containerFullHeightNoTabPadded:{width:"100%",height:`calc(100vh - ${de}px)`,padding:e.spacing(4),margin:0,overflow:"auto",backgroundColor:"white",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},indicator:{backgroundColor:"white"},buttonIcon:{marginRight:e.spacing(1),width:15,height:15},smallButtonIcon:{marginRight:e.spacing(1),width:15,height:15,position:"relative",top:-1},listitem:{width:"auto",paddingLeft:e.spacing(1)},marginY:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginBottomBig:{marginBottom:e.spacing(4)},paddingBottomBig:{marginBottom:e.spacing(4)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},marginTop:{marginTop:e.spacing(2)},marginTopBig:{marginTop:e.spacing(4)},justifyFlexEnd:{display:"flex",justifyContent:"flex-end"},floatRight:{float:"right"},tabs:{padding:e.spacing(0,4)},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},dividerMarginNeg:{margin:e.spacing(0,-4,0,-4)},containerMarginNeg:{margin:e.spacing(0,-4,-4,-4),width:`calc(100% + ${e.spacing(8)})`},relativeContainer:{position:"relative"},svgIcon:{width:24,heigth:24},svgChipIcon:{width:20,heigth:20,padding:4},textError:{color:e.palette.error.main,display:"flex",alignItems:"center"},popperFixed:{position:"fixed !important"},iconButton:{padding:0},linkButton:{color:"inherit",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",height:e.spacing(6),width:e.spacing(6)},capitalize:{display:"inline-block","&:first-letter":{textTransform:"uppercase"}}}),Be=e=>({popup:{"& .leaflet-popup-content-wrapper":{padding:0},"& .leaflet-popup-content":{margin:0,minHeight:100,width:"360px !important","& p.MuiTypography-root":{margin:0,fontSize:12},"& .MuiGrid-root > div":{top:1}},"& a.leaflet-popup-close-button":{color:"white",backgroundColor:e.palette.primary.main,padding:"1px 0 0 0",top:"8px",right:"8px",borderRadius:"20px",height:"18px"},"& a.leaflet-popup-close-button:hover":{color:e.palette.primary.main,backgroundColor:"white",border:`1px solid ${e.palette.primary.main}`}},popupListItemLabel:{textAlign:"right",fontWeight:"bold",display:"inline-block",paddingRight:e.spacing(1)/2},popuplistItem:{textAlign:"left"},popupCard:{height:"100%",width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"none"},popupCardMedia:{height:180},popupCardContent:{margin:e.spacing(3,2,2,2),overflow:"hidden",wordBreak:"break-all",padding:"0 !important"}}),Re=require("@material-ui/icons/Add");var Le=e.n(Re);const Ne=(0,be.defineMessages)({create:{id:"blsq.button.label.create",defaultMessage:"Create"}});function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fe({classes:e,onClick:t,message:r,id:n,dataTestId:a,size:o}){const l=xe();return s().createElement(d.Button,{variant:"contained",className:e.button,color:"primary",onClick:t,id:n,"data-test":a,size:o},s().createElement(Le(),{className:e.buttonIcon}),l.formatMessage(r))}Fe.defaultProps={message:Ne.create,id:"",dataTestId:"",size:"medium"},Fe.propTypes={classes:m().object.isRequired,onClick:m().func.isRequired,message:m().object,id:m().string,dataTestId:m().string,size:m().string};const ze=(0,d.withStyles)((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},De(e))))(Fe),Ve=require("@material-ui/icons/CallMade");var _e=e.n(Ve);const He=(0,be.defineMessages)({export:{id:"blsq.button.label.export",defaultMessage:"Export"}});function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We({classes:e,intl:t,onClick:r,message:n,isDisabled:a,batchExport:o,id:l}){return o?s().createElement(d.Button,{variant:"contained",className:e.button,color:"primary",onClick:r,disabled:a,id:l},s().createElement(_e(),{className:e.buttonIcon}),t.formatMessage(n)):s().createElement(_e(),{onClick:r,disabled:a})}We.defaultProps={message:He.export,isDisabled:!1,id:""},We.propTypes={intl:m().object.isRequired,classes:m().object.isRequired,onClick:m().func.isRequired,isDisabled:m().bool,batchExport:m().bool.isRequired,message:m().object,id:m().string};const Ue=(0,d.withStyles)((e=>Ge(Ge({},De(e)),{},{button:{marginLeft:e.spacing(2),"& svg, & i":{marginRight:e.spacing(1)}}})))(Ee(We)),Ke=require("@material-ui/icons/Delete");var Ye=e.n(Ke);const Je=require("@material-ui/icons/FilterList");var Ze=e.n(Je);const Qe=require("@material-ui/icons/CallMerge");var Xe=e.n(Qe);const et=require("@material-ui/icons/RemoveRedEye");var tt=e.n(et);const rt=require("@material-ui/icons/Settings");var nt=e.n(rt);const at=require("@material-ui/icons/History");var ot=e.n(at);const lt=require("@material-ui/icons/Map");var it=e.n(lt);const st=require("@material-ui/icons/CachedRounded");var ct=e.n(st);const ut=require("@material-ui/icons/StopRounded");var dt=e.n(ut);const pt=require("@material-ui/icons/GetApp");var mt=e.n(pt);const gt=require("@material-ui/icons/RestoreFromTrash");var bt=e.n(gt);const ft=require("@material-ui/icons/Public");var ht=e.n(ft);const yt=require("@material-ui/icons/Clear");var Ot=e.n(yt);const vt=require("@material-ui/icons/ClearAll");var wt=e.n(vt);const Et=require("@babel/runtime/helpers/objectWithoutProperties");var xt=e.n(Et);const Pt=["href"],Ct=["href"];function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const jt=e=>(e=>({__forwardRef__:(0,i.forwardRef)(e)}))((e=>(t,r)=>{let{href:n}=t;return((e,t,r)=>{let{href:n}=e,a=xt()(e,Pt);return s().createElement(r,ge()({ref:t,to:n},a))})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({href:n},xt()(t,Ct)),r,e)})(e)),kt=(0,i.createContext)({}),St=e=>{const{linkComponent:t}=e,r=jt(t),n=(0,i.useMemo)((()=>({Link:r})),[r]);return s().createElement(kt.Provider,{value:n},e.children)};St.propTypes={children:p.any.isRequired,linkComponent:p.any.isRequired};const Tt=()=>(0,i.useContext)(kt).Link.__forwardRef__,Mt=e=>e=>{const t=(0,i.useContext)(kt).Link.__forwardRef__;return s().createElement("component",ge()({},e,{linkComponent:t}))};function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Bt={delete:Ye(),"filter-list":Ze(),"call-merge":Xe(),"remove-red-eye":tt(),"restore-from-trash":bt(),edit:nt(),history:ot(),map:it(),xml:Y,dhis:k,orgUnit:B,refresh:ct(),stop:dt(),xls:M,download:mt(),globe:ht(),clear:Ot(),clearAll:wt()},Rt=({icon:e,color:t,onClick:r,disabled:n,fontSize:a})=>{if(void 0===e)return"wrong icon";const o=null!==r?{onClick:r}:{},l={color:"white"===t?t:void 0,opacity:n?.5:1};return s().createElement(e,ge()({},o,{color:"white"===t?"inherit":t,style:l,fontSize:a}))};function Lt({classes:e,disabled:t,onClick:r,url:n,icon:a,overrideIcon:o,tooltipMessage:l,color:i,size:c,id:u,dataTestId:p,iconSize:m}){null===r==(null===n)&&console.error("IconButtonComponent needs either the onClick or the url property"),a||o||console.error("IconButtonComponent has to be provided with an icon");const g=Tt(),b=null!=o?o:Bt[a];return s().createElement(d.Tooltip,{classes:{popper:e.popperFixed},disableFocusListener:t,disableHoverListener:t,disableTouchListener:t,placement:"bottom",title:s().createElement(be.FormattedMessage,l)},s().createElement("span",{id:u},s().createElement(d.IconButton,{className:n&&e.iconButton,disabled:t,onClick:r,size:c,"data-test":p},n?s().createElement(g,{to:n,className:e.linkButton},s().createElement(Rt,{icon:b,color:i,disabled:t,fontSize:m})):s().createElement(Rt,{icon:b,color:i,disabled:t,fontSize:m}))))}Rt.defaultProps={onClick:null,disabled:!1,fontSize:"medium"},Rt.propTypes={onClick:m().func,icon:m().oneOfType([m().object,m().func]).isRequired,color:m().string.isRequired,disabled:m().bool,fontSize:m().oneOf(["small","medium","large","default","inherit"])},Lt.defaultProps={disabled:!1,url:null,onClick:null,color:"action",size:"medium",overrideIcon:null,icon:null,id:"",dataTestId:"",iconSize:"medium"},Lt.propTypes={size:m().string,classes:m().object.isRequired,onClick:m().func,url:m().string,disabled:m().bool,icon:m().oneOf(Object.keys(Bt)),color:m().string,overrideIcon:m().any,tooltipMessage:m().object.isRequired,id:m().string,dataTestId:m().string,iconSize:m().oneOf(["small","medium","large","default","inherit"])};const Nt=(0,d.withStyles)((e=>Dt(Dt({},De(e)),{},{white:{color:"white"},popperFixed:Dt(Dt({},De(e).popperFixed),{},{marginTop:e.spacing(1)})})))(Lt),At=require("color");var Ft=e.n(At);function zt(e){return JSON.parse(JSON.stringify(e))}function Vt(e,t,r=!1){if("object"!=typeof e)return e===t;let n,a,o=Object.keys(e),l=Object.keys(t);if(r&&(o=o.filter((t=>null!=e[t])),l=l.filter((e=>null!=t[e]))),o.length!==l.length)return!1;for(o.sort(),l.sort(),a=o.length-1;a>=0;a-=1)if(o[a]!==l[a])return!1;for(a=o.length-1;a>=0;a-=1)if(n=o[a],!Vt(e[n],t[n],r))return!1;return!0}function _t(e,t,r=(e=>e)){return JSON.parse(JSON.stringify(e,((e,n)=>{if("string"==typeof n){const e=n.match(/\$\{([a-zA-Z0-9_-]+)\}/);if(e){const a=e[1];if(t.hasOwnProperty(a))return r(t[a]);console.warn("Cannot find match in substitudes for value:",n)}}return n})))}const Ht=(e,t=!1)=>e.split(" ").map((e=>e.slice(0,1).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase()))).join(" "),$t=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",Gt=(e,t)=>e.length>t?`${e.substring(0,t-4)}...   `:`${e}   `,Wt=e=>{const t=[];return e&&e.forEach(((e,r)=>{t.push({value:e,position:r})})),t},Ut=e=>{const t=[];return e&&e.forEach((e=>{t.push(e.value)})),t};function Kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kt(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Jt extends i.Component{constructor(e){super(e),this.state={tabIndex:parseInt(e.params[e.tabParamKey],10)||0,tabsWidth:[]}}handleAddTab(){const{params:e,defaultItem:t,paramKey:r,tabParamKey:n,onTabsAdded:a}=this.props,o=Yt({},this.state),l=JSON.parse(e[r]);o.tabIndex=l.length,l.push(t);const i=Yt({},e);i[n]=o.tabIndex.toString(),i[r]=JSON.stringify(l),this.setState(o),a(i)}handleDeleteTab(e){const{params:t,paramKey:r,tabParamKey:n,onTabsDeleted:a}=this.props,o=JSON.parse(t[r]);o.splice(e,1);const l=Yt({},t);l[r]=JSON.stringify(o),this.state.tabIndex>o.length-1&&(l[n]=(o.length-1).toString(),this.setState({tabIndex:o.length-1})),a(l)}handleTabChange(e){const{params:t,paramKey:r,tabParamKey:n,onTabChange:a}=this.props,o=Yt({},this.state),l=JSON.parse(t[r]);o.tabIndex=e;const i=Yt({},t);i[n]=o.tabIndex.toString(),i[r]=JSON.stringify(l),a(i),this.setState(o)}setTabsElement(e,t){const{tabsWidth:r}=this.state,n=e.getBoundingClientRect().width;if(n!==r[t]){const e=[...r];e[t]=n,this.setState({tabsWidth:e})}}render(){const{classes:e,baseLabel:t,params:r,paramKey:n,maxItems:a,displayCounts:o,counts:l,addMessage:i,deleteMessage:c}=this.props,{tabIndex:u,tabsWidth:p}=this.state,m=JSON.parse(r[n]);return s().createElement("section",{className:e.mainContainer},s().createElement("div",{className:e.tabsContainer},m.length>1&&s().createElement("ul",{className:e.removeContainer},m.map(((r,n)=>s().createElement("li",{className:e.removeContainerItem,key:n,style:{width:`${p[n]}px`}},s().createElement(d.Tooltip,{size:"small",title:s().createElement(s().Fragment,null,s().createElement(be.FormattedMessage,c),` ${t.toLowerCase()}`)},s().createElement(d.IconButton,{onClick:()=>this.handleDeleteTab(n),className:e.removeIconButton,size:"small"},s().createElement(Ot(),null))))))),s().createElement(d.Tabs,{value:u,classes:{root:e.tabs,indicator:e.indicator},onChange:(e,t)=>this.handleTabChange(t)},m.map(((r,n)=>s().createElement(d.Tab,{ref:e=>{e&&this.setTabsElement(e,n)},key:n,value:n,label:s().createElement("span",{className:m.length>1?e.tabContent:e.tabContentAlone},s().createElement("span",{style:r.color?{backgroundColor:`#${r.color}`,border:`2px solid ${Ft()(`#${r.color}`).darken(.5)}`}:{},className:e.roundColor}),t,o&&l[n]&&` (${$t(l[n].count)})`)}))))),m.length<a&&s().createElement(d.Tooltip,{size:"small",title:s().createElement(s().Fragment,null,s().createElement(be.FormattedMessage,i),` ${t.toLowerCase()}`)},s().createElement(d.IconButton,{onClick:()=>this.handleAddTab(),className:e.iconButton,size:"small"},s().createElement(Le(),null))))}}Jt.defaultProps={baseLabel:"tab",maxItems:5,onTabsAdded:()=>({}),onTabsDeleted:()=>({}),onTabChange:()=>({}),displayCounts:!1,counts:[]},Jt.propTypes={classes:m().object.isRequired,baseLabel:m().string,params:m().object.isRequired,defaultItem:m().object.isRequired,paramKey:m().string.isRequired,tabParamKey:m().string.isRequired,baseUrl:m().string.isRequired,redirectTo:m().func.isRequired,maxItems:m().number,onTabsAdded:m().func,onTabsDeleted:m().func,onTabChange:m().func,displayCounts:m().bool,counts:m().array,deleteMessage:m().object.isRequired,addMessage:m().object.isRequired};const Zt=(0,d.withStyles)((e=>Yt(Yt({},De(e)),{},{tabs:Yt(Yt({},De(e).tabs),{},{paddingRight:0}),mainContainer:{display:"flex",position:"relative"},tabsContainer:{position:"relative"},iconButton:{color:"white !important",height:30,position:"relative",top:8},removeIconButton:{color:"white !important",position:"relative",top:19,right:15,height:20,"& svg":{width:14,height:14}},removeContainer:{padding:0,margin:0,position:"absolute",left:e.spacing(4),top:-5,minHeight:0,height:1,width:`calc(100% - ${e.spacing(4)}px)`,display:"flex",listStyleType:"none",zIndex:1e5},removeContainerItem:{display:"inline-flex",justifyContent:"flex-end",minWidth:160,fontSize:5},roundColor:{display:"inline-block",width:15,height:15,borderRadius:15,position:"absolute",top:16,left:e.spacing(2)},tabContentAlone:{paddingRight:e.spacing(2),paddingLeft:e.spacing(4)},tabContent:{paddingRight:e.spacing(6),paddingLeft:e.spacing(6)}})))(Jt),Qt=require("@material-ui/pickers"),Xt=require("@material-ui/icons/Event");var er=e.n(Xt);const tr=require("@material-ui/core/FormControl");var rr=e.n(tr);function nr({classes:e,children:t,errors:r,id:n,hideError:a}){const o={};return n&&(o.id=n),s().createElement(rr(),ge()({className:e.formControl,variant:"outlined"},o),t,r.length>0&&!a&&s().createElement(d.Box,{className:e.errorContainer},r.filter((e=>!!e)).map((t=>s().createElement(d.Typography,{key:t,className:e.error},t)))))}nr.defaultProps={errors:[],id:null,hideError:!1},nr.propTypes={classes:m().object.isRequired,children:m().node.isRequired,errors:m().arrayOf(m().string.isRequired),id:m().oneOfType([m().object,m().string]),hideError:m().bool};const ar=(0,d.withStyles)((e=>({formControl:{width:"100%","& fieldset":{borderWidth:"1px !important"},"&:hover fieldset":{borderColor:`${e.palette.primary.main}`},"&:focused label":{color:`${e.palette.primary.main}`},zIndex:"auto"},errorContainer:{paddingLeft:e.spacing(2),paddingTop:e.spacing(1)},error:{color:e.palette.error.main,fontSize:14,padding:0}})))(nr);function or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?or(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ir=(0,d.makeStyles)((e=>lr(lr({},De(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}}))),sr=({label:e,onChange:t,currentDate:r,clearMessage:n,required:a,errors:o,hideError:l,disabled:c,clearable:u})=>{const d=ir(),[p,m]=(0,i.useState)(null),g=o.length>0||Boolean(p);return s().createElement(ar,{errors:o,hideError:l},s().createElement(Qt.KeyboardDatePicker,{autoOk:!0,disableToolbar:!0,inputVariant:"outlined",required:a,disabled:c,InputLabelProps:{className:d.label,shrink:Boolean(r),error:g},KeyboardButtonProps:{size:"small"},keyboardIcon:s().createElement(er(),{size:"small"}),InputProps:{error:g},helperText:null,format:"DD/MM/YYYY",label:`${e}`,value:r,onChange:t,onError:e=>m(e)}),u&&n&&r&&s().createElement("span",{className:d.clearDateButton},s().createElement(Nt,{disabled:c,size:"small",icon:"clear",tooltipMessage:n,onClick:()=>t(null)})))};sr.defaultProps={currentDate:null,required:!1,errors:[],hideError:!1,disabled:!1,clearMessage:void 0,clearable:!0},sr.propTypes={label:m().string.isRequired,onChange:m().func.isRequired,currentDate:m().oneOfType([m().string,m().object]),errors:m().array,clearMessage:m().object,required:m().bool,hideError:m().bool,disabled:m().bool,clearable:m().bool};const cr=require("@material-ui/core/ListItem");var ur=e.n(cr);const dr=require("@material-ui/core/OutlinedInput");var pr=e.n(dr);const mr=require("@material-ui/core/Fab");var gr=e.n(mr);function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class hr extends i.Component{constructor(e){super(e),this.state={fieldList:Wt(e.fieldList)}}UNSAFE_componentWillReceiveProps(e){this.setState({fieldList:Wt(e.fieldList)})}updateField(e,t){const r=this.state.fieldList.slice();r[t].value=e,this.props.updateList(Ut(r))}addField(){const e=this.state.fieldList.slice();e.push({value:"",position:this.state.fieldList.length}),this.props.updateList(Ut(e))}removeField(e){const t=this.state.fieldList.slice();t.splice(e,1),this.props.updateList(Ut(t))}render(){const{baseId:e,label:t,classes:r,autoComplete:n}=this.props,{fieldList:a}=this.state,o=a.length>0&&""===a[a.length-1].value;return s().createElement(d.Grid,{container:!0,spacing:0,className:r.marginTop},s().createElement(d.Grid,{item:!0,xs:1},s().createElement("span",{className:r.label},t,":")),s().createElement(d.Grid,{item:!0,xs:11},s().createElement(d.Box,{id:`array-input-field-list-${e}`},s().createElement(d.List,{className:r.list},a.map(((t,a)=>s().createElement(ur(),{key:t.position,className:r.listItem},s().createElement(pr(),{autoComplete:n,className:r.input,id:`${e}-${t.position}`,value:t.value||"",onChange:e=>this.updateField(e.currentTarget.value,a)}),s().createElement(d.IconButton,{className:r.deleteIcon,color:"inherit",onClick:()=>this.removeField(a)},s().createElement(Ye(),null))))),s().createElement(ur(),{className:r.addListItem},s().createElement(gr(),{disabled:o,className:r.Fab,size:"small",color:"primary","aria-label":"add",onClick:()=>this.addField()},s().createElement(Le(),null)))))))}}hr.defaultProps={fieldList:[],label:"",autoComplete:"off"},hr.propTypes={fieldList:m().array,baseId:m().string.isRequired,updateList:m().func.isRequired,classes:m().object.isRequired,label:m().string,autoComplete:m().string};const yr=(0,d.withStyles)((e=>fr(fr({},De(e)),{},{label:{top:e.spacing(2),position:"relative",color:e.textColor,fontSize:16},list:{width:"100%",padding:"0"},listItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",padding:"0",marginBottom:e.spacing(1)},addListItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0",marginBottom:e.spacing(2)},input:{width:"95%",marginLeft:"5%"},deleteIcon:{position:"absolute",right:e.spacing(1)}})))(hr),Or=({value:e,disabled:t,label:r,onChange:n,keyValue:a})=>s().createElement(d.FormControlLabel,{disabled:t,control:s().createElement(d.Checkbox,{id:`check-box-${a}`,color:"primary",checked:!0===e,onChange:e=>n(e.target.checked),value:"checked",disabled:t}),label:r});Or.defaultProps={value:!1,disabled:!1,onChange:()=>{},label:""},Or.propTypes={value:m().bool,disabled:m().bool,label:m().string,onChange:m().func,keyValue:m().string.isRequired};const vr=require("@material-ui/icons/Info");var wr=e.n(vr);const Er=require("@material-ui/core/InputLabel");var xr=e.n(Er);const Pr=(0,Ce.makeStyles)((e=>({inputLabel:{color:"rgba(0, 0, 0, 0.4)",paddingLeft:3,paddingRight:3,transition:e.transitions.create(["all"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},shrink:{fontSize:20,marginTop:-2,backgroundColor:"white"},popupIndicator:{marginRight:"6px !important",marginLeft:"6px !important"},clearIndicator:{marginTop:-2},hasClearIcon:{"& .MuiAutocomplete-inputRoot":{paddingRight:"85px !important"}}})));function Cr({htmlFor:e,label:t,required:r,shrink:n,error:a}){const o=Pr();return s().createElement(xr(),{name:e.replace("input-text-",""),htmlFor:e,classes:{shrink:o.shrink},className:o.inputLabel,shrink:n,error:a},t,r&&s().createElement("sup",null," *"))}Cr.defaultProps={shrink:!0,error:!1,label:""},Cr.propTypes={htmlFor:m().string.isRequired,label:m().string,required:m().bool.isRequired,shrink:m().bool,error:m().bool};const qr=(0,be.defineMessages)({min:{id:"blsq.input.label.min",defaultMessage:"Minimum"},max:{id:"blsq.input.label.max",defaultMessage:"Maximum"}}),jr=(e,t,r,n="")=>{if("number"==typeof e)return e;if(void 0===e||null==e)return"";const a=e.split(""),o=a.filter((e=>"."===e));if(1===o.length&&"."===a[a.length-1]&&!Number.isNaN(parseInt(a[a.length-2],10)))return e;if(1===o.length&&"."===a[a.length-2]&&Number.isNaN(parseInt(a[a.length-1],10)))return a.pop(),a.join("");const l=parseFloat(e);return Number.isNaN(l)?"":t&&l<t||r&&l>r?n:l},kr=({keyValue:e,label:t,errors:r,required:n,value:a,disabled:o,onChange:l,multiline:c,autoComplete:u,min:p=-1/0,max:m=1/0})=>{const g=r.length>=1,[b,f]=(0,i.useState)(jr(a,p,m));(0,i.useEffect)((()=>{const e=jr(a,p,m,b);e!==b&&e>p&&e<m&&f(e)}),[a,b]);const h=((e,t)=>{const{formatMessage:r}=xe();let n="";return!e&&0!==e||e===-1/0||(n=`${r(qr.min)}: ${e}`,t&&t!==1/0&&(n+=" - ")),!t&&0!==t||t===1/0||(n+=`${r(qr.max)}: ${t}`),n})(p,m);return s().createElement(ar,{errors:r},s().createElement(Cr,{htmlFor:`input-text-${e}`,label:t,required:n,error:g,shrink:""!==a}),s().createElement(d.OutlinedInput,{autoComplete:u,size:"small",multiline:c,disabled:o,id:`input-text-${e}`,value:b,type:"text",endAdornment:""!==h&&s().createElement(d.Tooltip,{title:h},s().createElement(wr(),{color:"action"})),onChange:e=>{const t=jr(e.target.value,p,m,b);t!==b&&(f(t),l(t))},error:g}))};kr.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off",min:void 0,max:void 0},kr.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().oneOfType([m().string,m().number]),onChange:m().func,autoComplete:m().string,min:m().number,max:m().number};const Sr=require("@material-ui/icons/Edit");var Tr=e.n(Sr);const Mr=(0,be.defineMessages)({displayPassword:{id:"blsq.button.label.displayPassword",defaultMessage:"Display the pasword"}}),Ir=({keyValue:e,label:t,errors:r,required:n,value:a,disabled:o,onChange:l,multiline:c,displayPassword:u,classes:p,autoComplete:m})=>{const g=r.length>=1,[b,f]=(0,i.useState)(u),h=xe();return s().createElement(ar,{errors:r},s().createElement(Cr,{htmlFor:`input-text-${e}`,label:t,required:n,error:g,shrink:""!==a}),s().createElement(d.OutlinedInput,{size:"small",autoComplete:m,multiline:c,disabled:o,id:`input-text-${e}`,value:a,type:b?"text":"password",onChange:e=>l(e.target.value),error:g,className:p.passwordInput}),s().createElement(d.Tooltip,{className:p.displayPassword,disableFocusListener:o,disableHoverListener:o,disableTouchListener:o,placement:"bottom",title:h.formatMessage(Mr.displayPassword)},s().createElement("span",null,s().createElement(d.IconButton,{color:b?"primary":"inherit",onClick:()=>{f((e=>!e))}},s().createElement(Tr(),null)))))};Ir.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},displayPassword:!1,label:"",autoComplete:"new-password"},Ir.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().string,onChange:m().func,displayPassword:m().bool,classes:m().object.isRequired,autoComplete:m().string};const Dr=(0,d.withStyles)((e=>({displayPassword:{position:"absolute",top:4,right:e.spacing(2)},passwordInput:{paddingRight:e.spacing(8)}})))(Ir),Br=({options:e,name:t,onChange:r,value:n,label:a,errors:o,className:l})=>s().createElement(d.FormControl,{component:"fieldset",error:o.length>0,variant:"outlined"},s().createElement(d.FormLabel,{component:"legend",style:{fontSize:12}},a),s().createElement(d.RadioGroup,{className:l,name:t,value:n,onChange:e=>{r(e.target.value)}},e.map((e=>s().createElement(d.FormControlLabel,{key:e.value,value:e.value,control:s().createElement(d.Radio,{color:"primary"}),label:e.label,disabled:e.disabled})))));Br.defaultProps={options:[],onChange:()=>{},value:"",label:"",errors:[],className:""},Br.propTypes={options:m().array,name:m().string.isRequired,onChange:m().func,value:(0,p.oneOfType)([m().string,m().bool]),label:m().string,errors:m().arrayOf(m().string),className:m().string};const Rr=require("@material-ui/icons/Search");var Lr=e.n(Rr);const Nr=(0,Ce.makeStyles)((e=>({icon:{right:e.spacing(2)},search:{position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit",display:"flex",alignItems:"center"},inputInput:{paddingRight:e.spacing(7),width:"100%"},searchIconWrapper:{width:e.spacing(3),height:e.spacing(3)}}))),Ar=['"',"?","/","%","&"],Fr=(0,be.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"},search:{id:"blsq.table.filter.search",defaultMessage:"search"},forbiddenChars:{id:"iaso.label.forbiddenChars",defaultMessage:'Forbidden characters: "&", "/","?"," "" " and "%"'}}),zr=({uid:e,label:t,required:r=!1,keyValue:n,disabled:a=!1,clearable:o=!1,value:l="",onEnterPressed:c,onChange:u,onErrorChange:p=(()=>null),errors:m=[],autoComplete:g,blockForbiddenChars:b=!1})=>{const f=m.length>=1,[h,y]=(0,i.useState)(l),O=(0,i.useMemo)((()=>""!==l),[l]),[v,w]=(0,i.useState)([]),[E,x]=(0,i.useState)(!1),P=Nr(),{formatMessage:C}=xe(),q=(0,i.useCallback)((()=>{E||c()}),[E,c]);return Pe((()=>{u(h)}),[h]),Pe((()=>{l!==h&&y(l)}),[l]),(0,i.useEffect)((()=>{if(b){const e=((e,t=Ar)=>{for(let r=0;r<e.length;r+=1)if(t.includes(e[r]))return!0;return!1})(h);x(e);const t=e?[C(Fr.forbiddenChars)]:[];w(t)}}),[h,C,b]),(0,i.useEffect)((()=>{p(E)}),[E,p]),s().createElement(ar,{errors:v},s().createElement(Cr,{htmlFor:`search-${n}`,label:t,required:r,shrink:null!=l&&""!==l,error:f||E}),s().createElement(d.OutlinedInput,{autoComplete:g,disabled:a,error:f||E,id:e?`search-${e}`:`search-${n}`,value:h,placeholder:"",onKeyPress:e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||q()},classes:{root:P.inputRoot,input:P.inputInput},endAdornment:s().createElement(s().Fragment,null,o&&O&&s().createElement(Nt,{size:"small",onClick:()=>{y("")},icon:"clear",tooltipMessage:Fr.clear}),s().createElement("div",{className:P.searchIconWrapper,tabIndex:0,role:"button",onClick:()=>q()},s().createElement(Lr(),null))),inputProps:{"aria-label":"search"},onChange:e=>y(e.target.value)}))},Vr=require("@material-ui/core/Box");var _r=e.n(Vr);const Hr=require("@material-ui/lab/Autocomplete");var $r=e.n(Hr);const Gr=(0,be.defineMessages)({noOptions:{id:"blsq.button.label.noOptions",defaultMessage:"No results found"},valueNotFound:{id:"blsq.button.label.valueNotFound",defaultMessage:"Value not found in possible options"},oneValueNotFound:{id:"blsq.button.label.oneValueNotFound",defaultMessage:'Value "{value}" not found in possible options'},loadingOptions:{id:"blsq.select.label.loadingText",defaultMessage:"Loading..."}}),Wr=require("@material-ui/core/Chip");var Ur=e.n(Wr);const Kr=e=>(t,r)=>t.map(((t,n)=>s().createElement(Ur(),ge()({color:"secondary",style:{backgroundColor:t.color,color:"white"},label:e(t)},r({index:n}))))),Yr=(e,t,r)=>{const n={getOptionLabel:e||(e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:e.toString()}),getOptionSelected:t||((e,t)=>null!=t&&t.value?`${e.value}`==`${t.value}`:!!t&&`${e.value}`==`${t}`)};return r&&(n.renderOption=r),n},Jr=(e,t)=>t.find((t=>`${t.value}`==`${e}`)),Zr=require("@material-ui/core/TextField");var Qr=e.n(Zr);function Xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const tn=({params:e,renderOption:t,disabled:r,label:n,required:a,onBlur:o,errors:l,helperText:i,loading:c,autoComplete:u})=>{const p=Pr(),m=en({},e);let g={};return t&&e.inputProps.value&&(g={startAdornment:s().createElement("div",{className:p.startAdornment},t({label:e.inputProps.value})),style:{color:"transparent"}},m.inputProps.value=""),s().createElement(ar,{errors:l},s().createElement(Qr(),ge()({},m,{variant:"outlined",disabled:r,label:`${n}${a?"*":""}`,onBlur:o,error:l.length>0,InputLabelProps:{classes:{shrink:p.shrink},className:p.inputLabel},helperText:i,InputProps:en(en({},e.InputProps),{},{autoComplete:u,endAdornment:s().createElement(s().Fragment,null,c?s().createElement(d.CircularProgress,{color:"inherit",size:20}):null,e.InputProps.endAdornment)},g)})))};tn.defaultProps={helperText:null,renderOption:null,autoComplete:"off"},tn.propTypes={renderOption:m().oneOfType([m().object,m().func]),params:m().object.isRequired,disabled:m().bool.isRequired,label:m().string.isRequired,required:m().bool.isRequired,onBlur:m().func.isRequired,errors:m().array.isRequired,helperText:m().oneOfType([m().object,m().string]),loading:m().bool.isRequired,autoComplete:m().string};const rn=({value:e,keyValue:t,label:r,errors:n,onChange:a,options:o,onBlur:l,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:m,getOptionSelected:g,loading:b,loadingText:f,renderOption:h,renderTags:y,returnFullObject:O,helperText:v})=>{const{formatMessage:w}=xe(),E=Pr(),x=(0,i.useMemo)((()=>{const t=[...n],r=!Jr(e,o);return e&&!b&&r&&t.push(w(Gr.valueNotFound)),t}),[e,o,n,b]),P=(0,i.useMemo)((()=>{var t;return e?null!==(t=Jr(e,o))&&void 0!==t?t:e:null}),[e,o]),C=(0,i.useCallback)(((e,t)=>{var r;return a(null!==(r=null==t?void 0:t.value)&&void 0!==r?r:null)}),[a,O]),q=Yr(m,g,h);return s().createElement(_r(),null,s().createElement($r(),ge()({disabled:c,noOptionsText:w(p),multiple:!1,id:t,disableClearable:!u,options:o,value:P,onChange:C,loading:b,loadingText:w(f),closeIcon:s().createElement(Ot(),null),renderTags:y,renderInput:e=>s().createElement(tn,{params:e,renderOption:h,disabled:c,label:r,required:d,onBlur:l,errors:x,helperText:v,loading:b}),classes:{popupIndicator:E.popupIndicator,clearIndicator:E.clearIndicator,hasClearIcon:E.hasClearIcon}},q)))};rn.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,noOptionsText:Gr.noOptions,loadingText:Gr.loadingOptions,helperText:void 0,renderTags:Kr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},rn.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,clearable:m().bool,value:m().any,onBlur:m().func,loadingText:m().oneOfType([m().object,m().string]),noOptionsText:m().oneOfType([m().object,m().string]),helperText:m().oneOfType([m().object,m().string]),options:m().array,loading:m().bool,onChange:m().func.isRequired,getOptionLabel:m().oneOfType([m().object,m().func]),getOptionSelected:m().oneOfType([m().object,m().func]),renderOption:m().oneOfType([m().object,m().func]),renderTags:m().func,returnFullObject:m().bool};const nn=e=>{const[t,r]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const t=(t,n)=>{t.key===e&&r(n)},n=e=>{t(e,!0)},a=e=>{t(e,!1)};return document.addEventListener("keydown",n),document.addEventListener("keyup",a),document.addEventListener("blur",a),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",a),document.removeEventListener("blur",a)}}),[t]),t},an=({value:e,keyValue:t,label:r,errors:n,onChange:a,options:o,onBlur:l,disabled:c,clearable:u,required:d,noOptionsText:p,getOptionLabel:m,getOptionSelected:g,loading:b,renderOption:f,renderTags:h,returnFullObject:y,helperText:O,loadingText:v})=>{const{formatMessage:w}=xe(),E=Pr(),x=nn("Shift"),P=(0,i.useMemo)((()=>e?Array.isArray(e)?e:e.split(","):[]),[e]),C=Yr(m,g,f),q=(0,i.useMemo)((()=>{const t=[...n];return e&&!b&&P.forEach((e=>{const r=!((e,t,r)=>t.find((t=>r(t,e))))(e,o,C.getOptionSelected);r&&t.push(w(Gr.oneValueNotFound,{value:`${C.getOptionLabel(e)}`}))})),t}),[e,o,n,b]),j=(0,i.useMemo)((()=>e?y?P:P.map((e=>Jr(e,o))).filter((e=>e)):[]),[e,o]),k=(0,i.useCallback)(((e,t)=>0===t.length?a(null):a(y?t:t.map((e=>null==e?void 0:e.value)).join(","))),[a,y]);return s().createElement(_r(),null,s().createElement($r(),ge()({disabled:c,noOptionsText:w(p),multiple:!0,disableCloseOnSelect:x,id:t,disableClearable:!u,options:o,value:j,onChange:k,loading:b,loadingText:w(v),closeIcon:s().createElement(Ot(),null),renderTags:h,renderInput:e=>s().createElement(tn,{params:e,renderOption:f,disabled:c,label:r,required:d,onBlur:l,errors:q,helperText:O,loading:b}),classes:{popupIndicator:E.popupIndicator,clearIndicator:E.clearIndicator,hasClearIcon:E.hasClearIcon}},C)))};an.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,loadingText:Gr.loadingOptions,noOptionsText:Gr.noOptions,helperText:void 0,renderTags:Kr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},an.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,clearable:m().bool,value:m().any,onBlur:m().func,loadingText:m().oneOfType([m().object,m().string]),noOptionsText:m().oneOfType([m().object,m().string]),helperText:m().oneOfType([m().object,m().string]),options:m().array,loading:m().bool,onChange:m().func.isRequired,getOptionLabel:m().oneOfType([m().object,m().func]),getOptionSelected:m().oneOfType([m().object,m().func]),renderOption:m().oneOfType([m().object,m().func]),renderTags:m().func,returnFullObject:m().bool};const on=e=>e.multi?s().createElement(an,e):s().createElement(rn,e);on.defaultProps={multi:!1},on.propTypes={multi:m().bool};const ln=({keyValue:e,label:t,errors:r,required:n,value:a,disabled:o,onChange:l,multiline:i,autoComplete:c})=>{const u=r.length>=1;return s().createElement(ar,{errors:r},s().createElement(Cr,{htmlFor:`input-text-${e}`,label:t,required:n,error:u,shrink:""!==a}),s().createElement(d.OutlinedInput,{size:"small",autoComplete:c,multiline:i,disabled:o,id:`input-text-${e}`,value:a,type:"text",onChange:e=>l(e.target.value),error:u}))};ln.defaultProps={value:"",errors:[],multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:"",autoComplete:"off"},ln.propTypes={errors:m().arrayOf(m().string),keyValue:m().string.isRequired,label:m().string,required:m().bool,disabled:m().bool,multiline:m().bool,value:m().string,onChange:m().func,autoComplete:m().string};class sn extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("BOUNDARY ERROR",e,t)}render(){return this.state.hasError?this.props.message?s().createElement("h1",{style:this.props.className?{}:{textAlign:"center"},className:this.props.className},this.props.message):s().createElement("h1",null,"An exception occurred: ",this.state.error.toString()):this.props.children}}sn.propTypes={children:m().node.isRequired,message:m().string,className:m().string},sn.defaultProps={message:null,className:null};const cn=({classes:e,width:t})=>s().createElement("div",{className:e.placeholder,style:{width:t}});cn.defaultProps={width:"50%"},cn.propTypes={classes:m().object.isRequired,width:m().string};const un=(0,d.withStyles)((e=>({placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"}})))(cn),dn=require("react-intersection-observer"),pn=require("@material-ui/icons/Close");var mn=e.n(pn);const gn=require("@material-ui/icons/ArrowBack");var bn=e.n(gn);const fn=(0,be.defineMessages)({search:{id:"blsq.table.label.search",defaultMessage:"Search"},close:{id:"blsq.table.label.close",defaultMessage:"Close"},resetSearch:{id:"blsq.table.label.resetSearch",defaultMessage:"Empty search"},columnSelectTooltip:{id:"blsq.table.columnSelect.tooltip",defaultMessage:"Select visible columns"}});function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wn=({classes:e,options:t,setOptions:r,minColumns:n,intl:{formatMessage:a}})=>{const[o,l]=s().useState({open:!1,searchString:""}),i=e=>()=>{l(vn(vn({},o),{},{open:e}))},c=e=>t=>{l(vn(vn({},o),{},{searchString:e?"":t.target.value}))},u=t.filter((e=>e.active)).length,p=((e,t)=>{let r=[...t];if(r=r.map(((e,t)=>vn(vn({},e),{},{index:t}))),""!==e){const t=e.toLowerCase();r=r.filter((e=>e.key&&e.key.toLowerCase().includes(t)||e.label&&e.label.toLowerCase().includes(t)))}return r})(o.searchString,t);return s().createElement(s().Fragment,null,s().createElement(Nt,{onClick:i(!0),icon:"filter-list",color:"white",tooltipMessage:fn.columnSelectTooltip}),s().createElement(d.Drawer,{anchor:"right",open:o.open,onClose:i(!1)},s().createElement("div",{className:e.root},s().createElement("div",{className:e.toolbar},s().createElement(d.Tooltip,{title:a(fn.close)},s().createElement(d.IconButton,{onClick:i(!1)},s().createElement(bn(),null))),s().createElement("div",{className:e.search},s().createElement(d.InputBase,{value:o.searchString,onChange:c(),className:e.input,placeholder:a(fn.search),inputProps:{"aria-label":a(fn.search),className:e.input}})),""!==o.searchString&&s().createElement(d.Tooltip,{title:a(fn.resetSearch)},s().createElement(d.IconButton,{onClick:c(!0)},s().createElement(mn(),null)))),s().createElement(d.Divider,null),s().createElement("div",{className:e.list},s().createElement(d.List,null,p.map((a=>s().createElement(dn.InView,{key:a.key},(({inView:o,ref:l})=>{return s().createElement("div",{ref:l,id:a.key},s().createElement(d.ListItem,{className:e.listItem},o&&s().createElement(s().Fragment,null,s().createElement(d.Switch,{disabled:u===n&&a.active,size:"small",checked:a.active,onChange:(i=a.index,e=>{const n=[...t];n[i]=vn(vn({},n[i]),{},{active:e.target.checked}),r(n)}),color:"primary",inputProps:{"aria-label":a.label},className:e.switch}),s().createElement(d.ListItemText,{primary:a.label||a.key})),!o&&s().createElement(s().Fragment,null,s().createElement(un,{width:"30px"}),s().createElement(un,null))));var i})))))))))};wn.defaultProps={minColumns:2},wn.propTypes={classes:m().object.isRequired,options:m().array.isRequired,setOptions:m().func.isRequired,minColumns:m().number,intl:m().object.isRequired};const En=(0,d.withStyles)((e=>({root:{width:400,overflow:"hidden"},toolbar:yn(yn({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:e.spacing(8)}),search:{marginLeft:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},list:{height:`calc(100vh - ${e.spacing(8)}px)`,overflowY:"auto",overflowX:"hidden"},listItem:{height:e.spacing(6)},switch:{marginRight:e.spacing(1)},placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"},input:{width:"100%",padding:0}})))(Ee(wn));function xn({IconComponent:e,title:t,classes:r}){return s().createElement("div",{className:r.root},s().createElement(d.Tooltip,{title:t},s().createElement(e,null)))}xn.propTypes={title:m().string.isRequired,classes:m().object.isRequired,IconComponent:m().object.isRequired};const Pn=(0,d.withStyles)((()=>({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})))(xn);function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const jn=(0,d.makeStyles)((e=>qn(qn({},De(e)),{},{root:{position:"absolute",height:"100%",width:"100%",top:0,left:0,overflow:"hidden"},icon:{cursor:"pointer",position:"relative",top:-1}}))),kn=({message:e,children:t})=>{const r=jn();return s().createElement(d.Box,{className:r.root,display:"flex",justifyContent:"center",alignItems:"center"},s().createElement(d.Box,{display:"inline",mr:1},t),s().createElement(d.Tooltip,{classes:{popper:r.popperFixed},placement:"bottom",title:e},s().createElement(wr(),{fontSize:"small",color:"primary",className:r.icon})))};kn.propTypes={message:m().string.isRequired,children:m().oneOfType([m().node,m().string]).isRequired};const Sn=require("@material-ui/lab"),Tn=require("@material-ui/icons/CheckBox");var Mn=e.n(Tn);const In=(0,Ce.makeStyles)((e=>({speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}))),Dn=({hidden:e,actions:t,selection:r,reset:n,actionMessage:a})=>{const o=In(),[l,i]=s().useState(!1),c=t.filter((e=>!e.disabled));return s().createElement(d.ClickAwayListener,{onClickAway:()=>{i(!1)}},s().createElement(Sn.SpeedDial,{ariaLabel:a,className:o.speedDial,hidden:e,icon:s().createElement(Mn(),null),onOpen:()=>{i(!0)},open:l,direction:"up"},c.map((e=>s().createElement(Sn.SpeedDialAction,{key:e.label,icon:"function"==typeof e.icon?e.icon(r,n):e.icon,tooltipTitle:e.label,onClick:()=>e.onClick?e.onClick(r):()=>null})))))};Dn.defaultProps={hidden:!1,actions:[],reset:()=>null},Dn.propTypes={hidden:m().bool,actions:m().array,selection:m().object.isRequired,reset:m().func,actionMessage:m().string.isRequired};const Bn=require("@material-ui/core/Table");var Rn=e.n(Bn);const Ln=require("@material-ui/core/Paper");var Nn=e.n(Ln);const An=require("@material-ui/core/TableContainer");var Fn=e.n(An);const zn=require("lodash/isEqual");var Vn=e.n(zn);const _n=require("react-table"),Hn="-created_at",$n=[5,10,20,30,40,50],Gn=require("@material-ui/icons/Remove");var Wn=e.n(Gn);function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Yn=(e,t,r=!1,n="csv",a=!1,o=!1)=>{let l=`/api/${e}/?`;const i=Kn({},t);r&&(i[n]=!0),a&&(i.asLocation=!0,i.limit=i.locationLimit,delete i.page),o&&(i.limit=i.locationLimit,delete i.page),delete i.locationLimit;const s=[];return Object.keys(i).forEach((e=>{const t=i[e];t&&!s.includes(e)&&(s.push(e),l+=`&${e}=${t}`)})),l},Jn=e=>{let t;return e.forEach(((e,r)=>{var n;t=`${t||""}${r>0?",":""}${n=e,n.desc?`-${n.id}`:n.id}`})),t},Zn=e=>e.split(",").map((e=>({id:e.replace("-",""),desc:-1!==e.indexOf("-")}))),Qn=e=>e.map((e=>e.columns?{id:e.accessor,columns:Qn(e.columns)}:{id:e.accessor})),Xn=(e,t,r)=>[{icon:s().createElement(Le(),null),label:r({id:"iaso.label.selectAll",defaultMessage:"Select all"}),onClick:()=>e()},{icon:s().createElement(Wn(),null),label:r({id:"iaso.label.unSelectAll",defaultMessage:"Unselect all"}),onClick:()=>t()}],ea={selectedItems:[],unSelectedItems:[],selectAll:!1,selectCount:0},ta=(e,t,r=[],n=0)=>{switch(t){case"select":return Kn(Kn({},e),{},{selectedItems:r,selectCount:r.length});case"unselect":return Kn(Kn({},e),{},{unSelectedItems:r,selectCount:n-r.length});case"selectAll":return Kn(Kn({},e),{},{selectAll:!0,selectedItems:[],unSelectedItems:[],selectCount:n});case"reset":return ea;default:return Kn({},e)}},ra=(e,t)=>""===e?t:`${e}${Ht(t,!0)}`,na=(e,t,r,n,a=[{id:"name",desc:!1}],o=10)=>{const l=Kn(Kn({},n),{},{limit:parseInt(e[ra(t,"pageSize")],10)||o,page:parseInt(e[ra(t,"page")],10)||0,order:Jn(e[ra(t,"order")]?Zn(e[ra(t,"order")]):a)});return r.forEach((t=>{var r;l[t.apiUrlKey]=null!==(r=e[t.urlKey])&&void 0!==r?r:t.defaultValue})),l},aa={data:[],pages:0,count:0},oa=e=>{const t=[...e];return e.forEach(((e,r)=>{e.headerInfo&&(t[r]=Kn(Kn({},t[r]),{},{Header:s().createElement(kn,{message:e.headerInfo},t[r].Header)}))})),t},la=require("@material-ui/core/TableHead");var ia=e.n(la);const sa=require("@material-ui/core/TableRow");var ca=e.n(sa);const ua=require("@material-ui/core/TableCell");var da=e.n(ua);const pa=require("@material-ui/core/TableSortLabel");var ma=e.n(pa);const ga=(0,be.defineMessages)({previousText:{defaultMessage:"Previous",id:"blsq.table.previous"},nextText:{defaultMessage:"Next",id:"blsq.table.next"},lastText:{defaultMessage:"Last page",id:"blsq.table.last"},firstText:{defaultMessage:"First page",id:"blsq.table.first"},noDataText:{defaultMessage:"No result",id:"blsq.table.noResult"},pageText:{defaultMessage:"Page",id:"blsq.table.page"},ofText:{defaultMessage:"of",id:"blsq.table.of"},rowsText:{defaultMessage:"results",id:"blsq.table.results"},selectionAction:{defaultMessage:"With",id:"blsq.table.labels.selectionAction"},results:{id:"blsq.table.label.resultsLower",defaultMessage:"result(s)"},selection:{id:"blsq.table.label.selection",defaultMessage:"Selection"},selected:{id:"blsq.table.label.selected",defaultMessage:"selected"},loading:{id:"blsq.table.loading",defaultMessage:"Loading..."},details:{defaultMessage:"Details",id:"blsq.table.details"},sortAsc:{defaultMessage:"Sort ascending",id:"blsq.table.sortAsc"},sortDesc:{defaultMessage:"Sort descending",id:"blsq.table.sortDesc"},unSort:{defaultMessage:"Remove sort",id:"blsq.table.unSort"},renderError:{id:"blsq.table.label.renderError",defaultMessage:"Error rendering value"}});function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const fa=(0,Ce.makeStyles)((e=>({resizer:{display:"inline-block",width:"15px",height:"100%",position:"absolute",right:0,top:0,transform:"translateX(50%)",zIndex:1,touchAction:"none",cursor:"col-resize"},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortLabel:{display:"inline-block",width:"80%"},icon:{color:`${e.palette.primary.main}!important`,position:"absolute",left:"100%",top:3},cell:{cursor:"default"}}))),ha=({column:e,columnsProps:t,setSortBy:r,multiSortEnabled:n,sortBy:a,isLastCell:o})=>{var i;const c=fa(),{formatMessage:u}=xe(),d=!1!==e.sortable&&!e.isResizing;let p,m=ga.sortAsc;e.isSorted&&(e.isSortedDesc?p="desc":(p="asc",m=ga.sortDesc));const g={width:null!==(i=e.width)&&void 0!==i?i:"auto"},f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.getSortByToggleProps());return f.onClick=()=>{let t=[];const o={desc:"asc"===p,id:e.id};n?t=[...a.filter((t=>t.id!==e.id)),o]:t.push(o),r(t)},s().createElement(da(),ge()({},t,{style:g,className:b()(c.headerCell,o&&c.lastHeaderCell),key:t.key}),d&&s().createElement("div",f,s().createElement(ma(),{active:e.isSorted,direction:p,title:u(m),classes:{root:c.sortLabel,icon:c.icon}},e.render("Header"))),!d&&s().createElement("div",{className:c.cell},e.render("Header")),!1!==e.resizable&&s().createElement("div",ge()({},e.getResizerProps(),{className:c.resizer})))};ha.propTypes={column:m().object.isRequired,columnsProps:m().object.isRequired,setSortBy:m().func.isRequired,multiSortEnabled:m().bool.isRequired,sortBy:m().array.isRequired,isLastCell:m().bool.isRequired};const ya=({headerGroups:e,setSortBy:t,multiSortEnabled:r,sortBy:n})=>s().createElement(ia(),null,e.map((e=>{const a=e.getHeaderGroupProps();return s().createElement(ca(),ge()({},a,{key:a.key}),e.headers.map(((a,o)=>{const l=a.getHeaderProps();return s().createElement(ha,{column:a,key:a.id,columnsProps:l,setSortBy:t,multiSortEnabled:r,sortBy:n,isLastCell:o+1===e.headers.length})})))})));ya.defaultProps={headerGroups:[],sortBy:[],setSortBy:()=>null},ya.propTypes={headerGroups:m().array,setSortBy:m().func,sortBy:m().array,multiSortEnabled:m().bool.isRequired};const Oa=require("@material-ui/core/TableBody");var va=e.n(Oa);class wa extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error(e),{hasError:!0,error:e}}render(){const{value:e,children:t,classes:r,intl:{formatMessage:n}}=this.props;return this.state.hasError?s().createElement(d.Box,{className:r.errorContainer,title:`${this.state.error}`},n(ga.renderError),":",s().createElement("pre",null,`${JSON.stringify(e)}`)):t}}wa.defaultProps={value:void 0},wa.propTypes={value:m().any,intl:m().object.isRequired,classes:m().object.isRequired,children:m().any.isRequired};const Ea=(0,d.withStyles)((e=>({errorContainer:{backgroundColor:e.palette.error.background,margin:0,padding:0}})))(Ee(wa)),xa=(0,Ce.makeStyles)((e=>({row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.gray.background},"&:nth-of-type(even)":{backgroundColor:"transparent"}},rowClickable:{cursor:"pointer","&:hover":{"&:nth-of-type(odd)":{backgroundColor:e.palette.grey[300]},"&:nth-of-type(even)":{backgroundColor:e.palette.grey[300]}}},cell:{padding:e.spacing(1,2)}}))),Pa=({row:e,rowProps:t,subComponent:r,sortBy:n,onRowClick:a,cellProps:o})=>{var l;const c=xa(),[u,d]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{d(!1)}),[n]),s().createElement(s().Fragment,null,s().createElement(ca(),ge()({},t,{onClick:t=>a?a(e.original,t):null,className:b()(c.row,Boolean(a)&&c.rowClickable,null!==(l=t.className)&&void 0!==l?l:""),key:t.key}),e.cells.map((e=>{var t;const r=e.getCellProps(o(e)),n=e.column.align||"center";return s().createElement(da(),ge()({},r,{key:r.key,className:b()(c.cell,null!==(t=r.className)&&void 0!==t?t:""),align:"actions"===e.column.id?"center":n}),s().createElement(Ea,{value:e.value},!e.column.expander&&e.render("Cell"),e.column.expander&&e.render("Expander",{isExpanded:u,setIsExpanded:d})))}))),u&&r&&s().createElement(ca(),ge()({},t,{key:`${t.key}-expand`,className:c.row}),s().createElement(da(),{colSpan:e.cells.length},r(e.original))))};Pa.defaultProps={subComponent:void 0,sortBy:[],onRowClick:void 0,cellProps:()=>{}},Pa.propTypes={sortBy:m().array,row:m().object.isRequired,rowProps:m().object.isRequired,subComponent:m().oneOfType([m().object,m().func]),onRowClick:m().oneOfType([m().func,m().object]),cellProps:m().func};const Ca=({page:e,getTableBodyProps:t,prepareRow:r,subComponent:n,sortBy:a,onRowClick:o,rowProps:l,cellProps:i})=>s().createElement(va(),t,e.map((e=>{r(e);const t=e.getRowProps(l(e));return s().createElement(Pa,{row:e,rowProps:t,key:t.key,subComponent:n,sortBy:a,onRowClick:o,cellProps:i})})));Ca.defaultProps={page:[],sortBy:[],rowsPerPage:10,subComponent:void 0,onRowClick:void 0,rowProps:()=>{},cellProps:()=>{}},Ca.propTypes={page:m().array,sortBy:m().array,getTableBodyProps:m().func.isRequired,prepareRow:m().func.isRequired,rowsPerPage:m().number,subComponent:m().oneOfType([m().object,m().func]),onRowClick:m().oneOfType([m().func,m().object]),rowProps:m().func,cellProps:m().func};const qa=require("@material-ui/core/TableFooter");var ja=e.n(qa);const ka=(0,Ce.makeStyles)((e=>({cell:{padding:e.spacing(1,2)}}))),Sa=({footerGroups:e})=>{const t=ka();return s().createElement(ja(),null,e.map((e=>{const r=e.getFooterGroupProps();return s().createElement(ca(),ge()({},r,{key:r.key}),e.headers.map((e=>{const r=e.getFooterProps(),n=e.align||"center";return e.Footer&&!e.placeholderOf?s().createElement(da(),ge()({},r,{className:t.cell,key:r.key,align:n}),e.render("Footer")):null})))})))};Sa.defaultProps={footerGroups:[]},Sa.propTypes={footerGroups:m().array};const Ta=require("@material-ui/core/Checkbox");var Ma=e.n(Ta);const Ia=(e,t,r="id")=>{const{selectedItems:n,unSelectedItems:a,selectAll:o}=t;return o?!a.find((t=>t[r]===e[r])):Boolean(n.find((t=>t[r]===e[r])))},Da=({count:e,multiSelect:t,selectionActions:r,setTableSelection:n,selection:a,selectionActionMessage:o})=>{const{formatMessage:l}=xe();let i=[...Xn((()=>n("selectAll",[],e)),(()=>n("reset")),l)];return i=i.concat(r),s().createElement(Dn,{selection:a,hidden:!t,actions:i,reset:()=>n("reset"),actionMessage:null!=o?o:l(ga.selectionAction)})};Da.defaultProps={count:0,multiSelect:!1,selectionActions:[],selection:ea,setTableSelection:()=>null,selectionActionMessage:null},Da.propTypes={count:m().number,multiSelect:m().bool,selectionActions:m().array,setTableSelection:m().func,selection:m().object,selectionActionMessage:m().string};const Ba=(0,Ce.makeStyles)((e=>({box:{width:"100%",height:e.spacing(10),backgroundColor:e.palette.gray.background}}))),Ra=({loading:e})=>{const t=Ba();return s().createElement(_r(),{className:t.box,alignItems:"center",justifyContent:"center",display:"flex"},!e&&s().createElement(be.FormattedMessage,ga.noDataText))};Ra.defaultProps={loading:!1},Ra.propTypes={loading:m().bool};const La=({count:e,selectCount:t})=>s().createElement(_r(),{py:2,display:"flex",justifyContent:"flex-end",className:"pagination-count"},t>0&&s().createElement(s().Fragment,null,s().createElement(_r(),{display:"inline-block",mr:1},`${$t(t)} `,s().createElement(be.FormattedMessage,ga.selected)),"-"),e>0&&s().createElement(_r(),{display:"inline-block",ml:1},`${$t(e)} `,s().createElement(be.FormattedMessage,ga.results)));La.defaultProps={count:0,selectCount:0},La.propTypes={count:m().number,selectCount:m().number};const Na=require("@material-ui/core/TablePagination");var Aa=e.n(Na);const Fa=require("@material-ui/core/IconButton");var za=e.n(Fa);const Va=require("@material-ui/icons/FirstPage");var _a=e.n(Va);const Ha=require("@material-ui/icons/KeyboardArrowLeft");var $a=e.n(Ha);const Ga=require("@material-ui/icons/KeyboardArrowRight");var Wa=e.n(Ga);const Ua=require("@material-ui/icons/LastPage");var Ka=e.n(Ua);const Ya=(0,Ce.makeStyles)((()=>({input:{width:80},mediumInput:{width:90},largeInput:{width:100},XLInput:{width:110}}))),Ja=({pageIndex:e,pages:t,onPageChange:r})=>{const n=Ya(),[a,o]=(0,i.useState)(e);return s().createElement(_r(),{display:"inline-flex",justifyContent:"center",alignItems:"center",ml:8},s().createElement(_r(),{display:"inline-block",mr:1},s().createElement(be.FormattedMessage,ga.pageText)),s().createElement(Qr(),{className:b()(n[(l=a,l<=999?"input":l<=9999?"mediumInput":l<=99999?"largeInput":"XLInput")],"pagination-page-select"),size:"small",label:"",type:"number",value:a,disabled:t<2,variant:"outlined",onChange:e=>{o((e=>{const t=parseInt(e,10);return Number.isNaN(t)?"":t})(e.currentTarget.value))},onKeyPress:e=>{"Enter"===e.key&&r(a)}}),s().createElement(_r(),{display:"inline-block",ml:1},s().createElement(be.FormattedMessage,ga.ofText)),s().createElement(_r(),{display:"inline-block",ml:1},t));var l};Ja.defaultProps={pages:0,pageIndex:0},Ja.propTypes={pages:m().number,pageIndex:m().number,onPageChange:m().func.isRequired};const Za=require("@material-ui/core/MenuItem");var Qa=e.n(Za);const Xa=require("@material-ui/core/Select");var eo=e.n(Xa);const to=(0,Ce.makeStyles)((e=>({select:{height:40,marginLeft:e.spacing(10)}}))),ro=({rowsPerPage:e,rowsPerPageOptions:t,selectRowsPerPage:r})=>{const n=to(),{formatMessage:a}=xe();return s().createElement(_r(),{display:"inline-flex",justifyContent:"center",alignItems:"center",mr:8},s().createElement(rr(),{variant:"outlined"},s().createElement(eo(),{className:b()(n.select,"pagination-row-select"),value:e,onChange:e=>{r(e.target.value)}},t.map((e=>s().createElement(Qa(),{key:e,value:e,className:`row-option-${e}`},`${e} ${a(ga.rowsText)}`))))))};ro.propTypes={rowsPerPage:m().number.isRequired,rowsPerPageOptions:m().array.isRequired,selectRowsPerPage:m().func.isRequired};const no=(0,Ce.makeStyles)((e=>({root:{width:"100%",position:"relative"},withCount:{marginRight:"130px"},count:{position:"absolute",right:e.spacing(2)}}))),ao=({count:e,pageIndex:t,rowsPerPage:r,onPageChange:n,pages:a,rowsPerPageOptions:o,selectRowsPerPage:l,countOnTop:i,selectCount:c})=>{const u=no(),{formatMessage:d}=xe(),p=0===t,m=t>=Math.ceil(e/r)-1;return s().createElement(_r(),{py:2,display:"flex",justifyContent:"center",alignItems:"center",className:u.root},s().createElement(za(),{className:"pagination-first",variant:"outlined",onClick:()=>{n(1)},disabled:p,"aria-label":d(ga.firstText)},s().createElement(_a(),{color:p?"inherit":"primary"})),s().createElement(za(),{className:"pagination-previous",variant:"outlined",onClick:()=>{n(t)},disabled:p,"aria-label":d(ga.previousText)},s().createElement($a(),{color:p?"inherit":"primary"})),s().createElement(Ja,{pages:a,pageIndex:t+1,onPageChange:e=>{n(e)}}),s().createElement(ro,{rowsPerPage:r,rowsPerPageOptions:o,selectRowsPerPage:l}),s().createElement(za(),{className:"pagination-next",variant:"outlined",onClick:()=>{n(t+2)},disabled:m,"aria-label":d(ga.nextText)},s().createElement(Wa(),{color:m?"inherit":"primary"})),s().createElement(za(),{variant:"outlined",onClick:()=>{n(Math.max(0,Math.ceil(e/r)))},disabled:m,"aria-label":d(ga.lastText),className:b()(!i&&u.withCount,"pagination-last")},s().createElement(Ka(),{color:m?"inherit":"primary"})),!i&&s().createElement("div",{className:u.count},s().createElement(La,{count:e,selectCount:c})))};ao.propTypes={pages:m().number.isRequired,count:m().number.isRequired,onPageChange:m().func.isRequired,pageIndex:m().number.isRequired,rowsPerPage:m().number.isRequired,rowsPerPageOptions:m().array.isRequired,selectRowsPerPage:m().func.isRequired,countOnTop:m().bool.isRequired,selectCount:m().number.isRequired};const oo=(0,Ce.makeStyles)((()=>({spacer:{display:"none"},caption:{display:"none"},input:{display:"none"}}))),lo=({count:e,rowsPerPage:t,pageIndex:r,onTableParamsChange:n,pages:a,countOnTop:o,selectCount:l})=>{const i=oo(),c=r+1>a?a-1:r;return s().createElement(Aa(),{classes:{spacer:i.spacer,caption:i.caption,input:i.input},rowsPerPageOptions:$n,component:"div",count:e,rowsPerPage:t,page:c,onPageChange:(e,t)=>{n("page",t+1)},onRowsPerPageChange:e=>{n("pageSize",e.target.value)},ActionsComponent:()=>s().createElement(ao,{rowsPerPageOptions:$n,count:e,rowsPerPage:t,onPageChange:e=>{n("page",e)},selectRowsPerPage:e=>n("pageSize",e),pageIndex:c,pages:a,countOnTop:o,selectCount:l}),labelDisplayedRows:()=>null})};function io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?io(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}lo.defaultProps={count:0,rowsPerPage:0,pageIndex:0,pages:0,selectCount:0},lo.propTypes={count:m().number,rowsPerPage:m().number,pageIndex:m().number,pages:m().number,onTableParamsChange:m().func.isRequired,countOnTop:m().bool.isRequired,selectCount:m().number};const co=(0,Ce.makeStyles)((()=>({tableContainer:{overflowY:"hidden"},paper:{position:"relative"}}))),uo=e=>{const{params:t={pageSize:10,page:1,order:"-created_at"},count:r=0,extraProps:n={loading:!1},paramsPrefix:a="",redirectTo:o,baseUrl:l="",pages:c=0,countOnTop:u=!0,marginTop:d=!0,marginBottom:p=!0,multiSelect:m=!1,selectionActions:g=[],setTableSelection:b=(()=>null),selection:f=ea,selectionActionMessage:h=null,showPagination:y=!0,showFooter:O=!1,onTableParamsChange:w=(()=>null),defaultSorted:E=Zn(Hn),resetPageToOne:x="",elevation:P=3,onRowClick:C,rowProps:q=(()=>({})),cellProps:j=(()=>({}))}=e,{formatMessage:k}=xe(),S=co(),T=nn("Shift"),M=(0,i.useMemo)((()=>{const t=[...e.columns];return m&&!e.columns.find((e=>"selected"===e.accessor))&&t.push(((e,t,r,n)=>({Header:n(ga.selection),accessor:"selected",width:100,sortable:!1,Cell:n=>s().createElement(Ma(),{color:"primary",checked:Ia(n.cell.row.original,e),onChange:a=>(({isSelected:e,item:t,selection:r,setTableSelection:n,count:a})=>{const o=[...r.selectedItems],l=[...r.unSelectedItems],{selectAll:i}=r;if(i){if(e){const e=l.findIndex((e=>Vn()(e,t)));-1!==e&&l.splice(e,1)}else l.push(t);n("unselect",l,a)}else{if(e)o.push(t);else{const e=o.findIndex((e=>Vn()(e,t)));o.splice(e,1)}n("select",o)}})({isSelected:a.target.checked,item:n.cell.row.original,selection:e,setTableSelection:t,count:r})})}))(f,b,r,k)),oa(t)}),[e.columns,m,f]),I=(0,i.useMemo)((()=>e.data),[e.data]),D=t[ra(a,"order")],B=t[ra(a,"page")],R=t[ra(a,"pageSize")],{loading:L}=n,N=(0,i.useMemo)((()=>{const e=parseInt(R,10),t=D&&Zn(D);return{pageIndex:B?parseInt(B,10)-1:0,pageSize:e||(null==n?void 0:n.defaultPageSize)||10,sortBy:t||E}}),[]),{getTableProps:A,getTableBodyProps:F,headerGroups:z,footerGroups:V,prepareRow:_,gotoPage:H,setPageSize:$,setSortBy:G,page:W,state:{pageSize:U,pageIndex:K,sortBy:Y}}=(0,_n.useTable)({columns:M,data:I,initialState:N,disableMultiSort:!0,manualPagination:!0,manualSortBy:!0,pageCount:c,autoResetPage:!1},_n.useSortBy,_n.useResizeColumns,_n.usePagination),J=(e,r)=>{const n=so({},t);"order"===e&&r.length>0?(G(r),n[ra(a,"order")]=Jn(r)):"order"!==e&&(n[ra(a,e)]=r),"pageSize"===e&&(n[ra(a,"page")]=1,$(r)),"page"===e&&H(r-1),o&&o(l,n),w(n)},Z=so(so({},A()),{},{size:"small"});Pe((()=>{H(0)}),[x]),Pe((()=>{D&&Jn(Y)!==D&&G(Zn(D))}),[D]),Pe((()=>{R!==U&&$(R)}),[R]),Pe((()=>{const e=parseInt(B,10)-1;Number.isNaN(e)||K===e||H(e)}),[B]);const Q=parseInt(U,10);return s().createElement(_r(),{mt:d?4:0,mb:p?4:0},s().createElement(Da,{count:r,multiSelect:m,selectionActions:g,selection:f,setTableSelection:b,selectionActionMessage:h}),u&&s().createElement(La,{count:r,selectCount:f.selectCount}),s().createElement(Nn(),{elevation:P,className:S.paper},L&&s().createElement(v,{absolute:!0}),s().createElement(Fn(),{className:S.tableContainer},s().createElement(Rn(),so(so({},Z),{},{stickyHeader:!0}),s().createElement(ya,{headerGroups:z,setSortBy:e=>J("order",e),multiSortEnabled:T,sortBy:Y}),s().createElement(Ca,{page:W,getTableBodyProps:F,prepareRow:_,subComponent:n.SubComponent,sortBy:Y,onRowClick:C,rowProps:q,cellProps:j}),O&&s().createElement(Sa,{footerGroups:V}))),0===(null==W?void 0:W.length)&&s().createElement(Ra,{loading:L}),(null==W?void 0:W.length)>0&&y&&s().createElement(lo,{count:r,rowsPerPage:Q,pageIndex:K,onTableParamsChange:J,pages:c,countOnTop:u,selectCount:f.selectCount})))},po=s().memo(uo,((e,t)=>{var r,n,a,o,l,i;const s=Qn(e.columns),c=Qn(t.columns);return!!(Vn()(e.data,t.data)&&Vn()(s,c)&&Vn()(null===(r=e.selection)||void 0===r?void 0:r.selectedItems,null===(n=t.selection)||void 0===n?void 0:n.selectedItems)&&Vn()(null===(a=e.selection)||void 0===a?void 0:a.selectAll,null===(o=t.selection)||void 0===o?void 0:o.selectAll)&&Vn()(null===(l=e.selection)||void 0===l?void 0:l.unSelectedItems,null===(i=t.selection)||void 0===i?void 0:i.unSelectedItems)&&Vn()(e.extraProps,t.extraProps))})),mo=require("@material-ui/icons/Visibility");var go=e.n(mo);const bo=require("@material-ui/icons/VisibilityOff");var fo=e.n(bo);const ho=({isExpanded:e,setIsExpanded:t})=>{const{formatMessage:r}=xe();return e?s().createElement(d.IconButton,{onClick:()=>t(!e)},s().createElement(fo(),null)):s().createElement(d.Tooltip,{title:r(ga.details)},s().createElement(d.IconButton,{onClick:()=>t(!e)},s().createElement(go(),null)))};ho.defaultProps={isExpanded:!1,setIsExpanded:()=>null},ho.propTypes={isExpanded:m().bool,setIsExpanded:m().func};const yo=e=>{const{formatMessage:t}=xe();return s().createElement(sn,{message:t(e.message)},e.children)};function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wo=(0,d.makeStyles)((e=>vo(vo({},De(e)),{},{paper:{overflow:"visible"},title:{paddingBottom:0},content:{overflow:"visible",paddingBottom:e.spacing(2)},action:{paddingBottom:e.spacing(2),paddingRight:e.spacing(2)}}))),Eo=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:a,titleMessage:o,children:l,closeDialog:i,buttons:c})=>{const u=wo();return s().createElement(s().Fragment,null,s().createElement(d.Dialog,{fullWidth:!0,maxWidth:t,open:e,classes:{paper:u.paper},onClose:r,scroll:"body",id:n,"data-test":a},o&&s().createElement(d.DialogTitle,{className:u.title},(p=o)?p.id?s().createElement(be.FormattedMessage,vo({},p)):p:""),s().createElement(d.DialogContent,{className:u.content},l),s().createElement(d.DialogActions,{className:u.action},c({closeDialog:i}))));var p},xo=(0,Ce.makeStyles)((e=>({textStyle:{fontSize:"16px",fontWeight:400,lineHeight:1,paddingTop:.5,paddingBottom:.5,flex:"1",marginLeft:e.spacing(1.5)}}))),Po=(0,Ce.makeStyles)((e=>({placeholder:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"14px",cursor:"default",color:"transparent",paddingTop:.5,paddingBottom:.5},treeviews:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"10px"},paper:{display:"flex",alignItems:"center",border:"1px solid rgba(0,0,0,0.23)"},paperWithIcon:{paddingTop:16,paddingBottom:16,paddingRight:e.spacing(2)},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main,paddingLeft:"1px"},shrinkInputLabel:{fontSize:"20px"},enabled:{"&:hover":{border:"1px solid rgba(0,0,0,0.87)"}},pointer:{cursor:"pointer"},clearButton:{marginRight:5},error:{"&:hover":{border:`1px solid ${e.palette.error.main}`},border:`1px solid ${e.palette.error.main}`},errorLabel:{color:e.palette.error.main}}))),Co=()=>null,qo=({text:e,disabled:t=!1})=>{const r=Po(),n=t?r.placeholder:`${r.placeholder} ${r.pointer}`;return s().createElement(d.Box,{className:n},e)},jo=({placeholder:e,disabled:t=!1,required:r=!1,errors:n=[],children:a,onClick:o=Co,icon:l})=>{const i=Po(),c=n.length>0,u=c&&!t?i.error:"",p=c&&!t?i.errorLabel:"",m=t?"":i.enabled,g=l?i.paperWithIcon:"MuiOutlinedInput-multiline";return s().createElement(ar,{errors:n},s().createElement(d.InputLabel,{shrink:Boolean(a),required:r,className:`${b()(i.inputLabel,Boolean(a)&&i.shrinkInputLabel,"input-label")} ${p}`},e),s().createElement(d.Paper,{variant:"outlined",elevation:0,className:b()(i.paper,m,u,g),onClick:t?Co:o},!a&&s().createElement(qo,{text:e,disabled:t}),a,l))},ko=require("react-dropzone"),So=require("@material-ui/icons/Attachment");var To=e.n(So);const Mo=(0,be.defineMessages)({clickOrDragFile:{id:"blsq.label.clickOrDragFile",defaultMessage:"Drag files or click to select"},clicktoOpenFileSelect:{id:"blsq.label.clicktoOpenFileSelect",defaultMessage:"Click to open file selection"},files:{id:"blsq.label.Files",defaultMessage:"Files"},dropHere:{id:"blsq.label.dropHere",defaultMessage:"Drop files here"}});function Io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Io(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Bo=s().createElement(d.Tooltip,{title:s().createElement(be.FormattedMessage,Do({},Mo.clickOrDragFile))},s().createElement(To(),{color:"action"})),Ro=(0,d.makeStyles)((e=>({outlined:{border:`2px dashed ${e.palette.mediumGray.main}`,height:"100px",backgroundColor:e.palette.ligthGray.main},text:{color:e.palette.mediumGray.main}}))),Lo=()=>{const{formatMessage:e}=xe(),t=Ro();return s().createElement(d.Paper,{elevation:0,variant:"outlined",classes:{outlined:t.outlined}},s().createElement(d.Grid,{container:!0,item:!0,justifyContent:"center",alignItems:"center",style:{height:"100%"}},s().createElement(d.Typography,{className:t.text},e(Mo.dropHere))))},No=({placeholder:e,multi:t=!0,onFilesSelect:r=(()=>null),files:n=[],required:a=!1,errors:o=[]})=>{const[l,c]=(0,i.useState)(!1),{getRootProps:u,getInputProps:p}=(0,ko.useDropzone)({onDrop:r,multiple:t,onDragLeave:()=>{c(!1)},onDragEnter:()=>{c(!0)},onDropAccepted:()=>{c(!1)}}),{formatMessage:m}=xe(),g=null!=e?e:m(Mo.files),b=xo();return s().createElement("div",Do({},u()),s().createElement("input",Do({},p())),!l&&s().createElement(jo,{placeholder:g,icon:Bo,required:a,errors:o},n.length>0&&s().createElement(d.Box,{className:b.textStyle},`${n.length} files selected`)),l&&s().createElement(Lo,null))};function Ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ao(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const zo=({closeDialog:e,allowConfirm:t=!0,onConfirm:r,confirmMessage:n,onCancel:a,cancelMessage:o,additionalButton:l=!1,additionalMessage:i,onAdditionalButtonClick:c,allowConfirmAdditionalButton:u=!0})=>s().createElement(s().Fragment,null,s().createElement(d.Button,{onClick:()=>{a(),e()},color:"primary","data-test":"cancel-button"},s().createElement(be.FormattedMessage,Fo({},o))),s().createElement(d.Button,{"data-test":"confirm-button",onClick:()=>{r(),e()},disabled:!t,color:"primary",autoFocus:!0},s().createElement(be.FormattedMessage,Fo({},n))),l&&i&&c&&s().createElement(d.Button,{"data-test":"additional-button",onClick:()=>{c(),e()},color:"primary",disabled:null!=u?!u:!t},s().createElement(be.FormattedMessage,Fo({},i)))),Vo=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:a,titleMessage:o,children:l,closeDialog:i,allowConfirm:c=!0,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g=!1,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h=!0})=>s().createElement(Eo,{open:e,maxWidth:t,onClose:r,id:n,dataTestId:a,titleMessage:o,closeDialog:i,buttons:({closeDialog:e})=>s().createElement(zo,{closeDialog:e,allowConfirm:c,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:h})},l),_o=["iconProps","defaultOpen"];function Ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ho(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ho(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Go=(e,t)=>r=>{const{iconProps:n,defaultOpen:a}=r,o=xt()(r,_o),[l,c]=(0,i.useState)(null!=a&&a);return s().createElement(s().Fragment,null,s().createElement(t,$o({},$o($o({},n),{},{onClick:()=>c(!0)}))),l&&s().createElement(e,$o({},$o($o({},o),{},{closeDialog:()=>c(!1),isOpen:l}))))},Wo=(0,be.defineMessages)({reply:{id:"blsq.comment.button.reply",defaultMessage:"Reply"}});function Uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Yo=(0,Ce.makeStyles)((e=>{var t,r;return Ko(Ko({},De(e)),{},{commentRoot:{padding:"10px 20px",margin:"0px 5px 5px 5px"},commentAuthor:{margin:0,textAlign:"left"},commentPostingTime:{textAlign:"end",color:null!==(t=null===(r=e.mediumGray)||void 0===r?void 0:r.main)&&void 0!==t?t:"#A2A2A2"},commentGrid:{justifyContent:"left",padding:"0px 10px"},replyToComment:{textAlign:"end"},commentText:{textAlign:"justify",marginTop:"10px"},toggleCommentText:{alignSelf:"end",cursor:"default",color:"#3f51b5","&:hover":{textDecoration:"underline"}},expandThread:{textAlign:"end"},button:{backgroundColor:"#fff",color:"#3f51b5"},childComment:{paddingLeft:"20px"}})})),Jo=(0,be.defineMessages)({textAreaPlaceholder:{id:"blsq.comment.textArea.placeholder",defaultMessage:"Leave a comment here"},confirmComment:{id:"blsq.comment.confirmComment",defaultMessage:"Confirm"}});function Zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zo(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Xo=(0,Ce.makeStyles)((e=>Qo(Qo({},De(e)),{},{textAreaContainer:{width:"100%",marginTop:"20px"},textArea:{width:"100%",borderRadius:"6px",borderColor:"#A2A2A2",padding:"8px",resize:"vertical"},left:{textAlign:"left"},right:{textAlign:"right"},center:{textAlign:"center"},commentConfirmButton:{marginBottom:"20px",marginLeft:"auto"},button:{color:"#fff",backgroundColor:"#3f51b5"}}))),el=({placeholder:e,minRows:t,maxRows:r,onChange:n,className:a,buttonText:o,onConfirm:l,position:c,inline:u})=>{const[p,m]=(0,i.useState)(""),g=Xo(),b=xe(),f=(0,i.useCallback)((()=>{l(p),m("")}),[p]);return s().createElement(d.Grid,{container:!0,direction:u?"row":"column",alignItems:"center",spacing:2,className:c?g[c]:null},s().createElement(d.Grid,{item:!0,className:g.textAreaContainer},s().createElement(d.TextareaAutosize,{className:null!=a?a:g.textArea,minRows:t,maxRows:r,"aria-label":"write comment here",placeholder:null!=e?e:b.formatMessage(Jo.textAreaPlaceholder),onChange:e=>{m(e.target.value),n(e.target.value)},value:p,autoFocus:!0})),s().createElement(d.Grid,{item:!0,className:g.commentConfirmButton},s().createElement(d.Button,{onClick:f,variant:"contained",color:"primary"},null!=o?o:b.formatMessage(Jo.confirmComment))))};el.propTypes={placeholder:m().string,className:m().string,minRows:m().number,maxRows:m().number,onChange:m().func,onConfirm:m().func,buttonText:m().string,position:m().string,inline:m().bool},el.defaultProps={placeholder:null,minRows:3,maxRows:5,onChange:()=>{},className:null,buttonText:null,onConfirm:()=>{},position:"",inline:!0};const tl=require("moment");var rl=e.n(tl);const nl=(0,be.defineMessages)({textExpand:{id:"blsq.comment.button.textExpand",defaultMessage:"See more"},textCollapse:{id:"blsq.comment.button.textCollapse",defaultMessage:"See less"},postingTime:{id:"blsq.comment.postingTime",defaultMessage:"Posted:"}}),al=({text:e,hideOverflow:t,toggle:r,maxLength:n,textExpand:a,textCollapse:o})=>{const l=Yo(),i=xe();return s().createElement("div",{className:l.commentText},s().createElement("p",null,t&&e.length>n?Gt(e,150):e," "),t&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=a?a:i.formatMessage(nl.textExpand)),!t&&e.length>n&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=o?o:i.formatMessage(nl.textCollapse)))};al.propTypes={text:m().string.isRequired,hideOverflow:m().bool.isRequired,toggle:m().func.isRequired,maxLength:m().number.isRequired,textExpand:m().string,textCollapse:m().string},al.defaultProps={textExpand:null,textCollapse:null};const ol=({avatar:e,author:t,content:r,postingTime:n,classNames:a})=>{const o=xe(),l=Yo(),[c,u]=(0,i.useState)(r.length>150),p=(0,i.useCallback)((()=>u(!c)),[c]),m=null!=a?a:l,g=`${o.formatMessage(nl.postingTime)}  ${rl()(n).fromNow()}`;return s().createElement(d.Grid,{container:!0,wrap:"nowrap",spacing:4},s().createElement(d.Grid,{item:!0},s().createElement(d.Avatar,{alt:t,src:e})),s().createElement(d.Grid,{className:m.commentGrid,item:!0,xs:!0,zeroMinWidth:!0},s().createElement("h4",{className:m.commentAuthor},t),s().createElement(al,{text:r,hideOverflow:c,toggle:p,maxLength:150}),s().createElement(d.Typography,{variant:"body2",className:m.commentPostingTime,component:"div"},g)))};ol.propTypes={avatar:m().string,author:m().string.isRequired,content:m().string.isRequired,postingTime:m().string,classNames:m().arrayOf(m().string)},ol.defaultProps={avatar:null,postingTime:"",classNames:null};const ll=({avatar:e,author:t,content:r,postingTime:n,classNames:a,actionText:o,onAddComment:l,id:c})=>{const u=xe(),p=Yo(),[m,g]=(0,i.useState)(!1),b=null!=a?a:p,f=(0,i.useCallback)((e=>{g(!1),l(e,c)}),[c,l]);return s().createElement(d.Paper,{variant:"outlined",className:b.commentRoot},s().createElement(ol,{avatar:e,author:t,postingTime:n,content:r}),!m&&s().createElement("div",{className:b.replyToComment},s().createElement(d.Button,{className:b.button,size:"small",onClick:()=>{g(!0)}},null!=o?o:u.formatMessage(Wo.reply))),m&&s().createElement(el,{position:"right",onConfirm:f}))};ll.propTypes={avatar:m().string,author:m().string.isRequired,content:m().string.isRequired,postingTime:m().string,classNames:m().arrayOf(m().string),actionText:m().string,onAddComment:m().func,id:m().number},ll.defaultProps={avatar:null,postingTime:"",classNames:null,actionText:null,onAddComment:()=>{},id:null};const il=(0,be.defineMessages)({collapse:{id:"blsq.comment.button.label.collapse",defaultMessage:"Hide thread"},expand:{id:"blsq.comment.button.label.expand",defaultMessage:"Show thread"},addReply:{id:"blsq.comment.button.label.addReply",defaultMessage:"Add reply"}}),sl=({comments:e,actionText:t,onAddComment:r,parentId:n})=>{const a=Yo(),o=xe(),[l,c]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),m=(0,i.useCallback)((()=>{u&&c(!1),p(!u)}),[u]),g=()=>{c(!0),p(!0)},b=(0,i.useCallback)((e=>{c(!1),r(e,n)}),[r,n]),f=(0,i.useCallback)(((e,t)=>{c(!1),p(!0),r(e,t)}),[r]);return 1===e.length?s().createElement(ll,{onAddComment:f,author:e[0].author,content:e[0].comment,postingTime:e[0].dateTime,id:e[0].id}):s().createElement(d.Paper,{className:a.commentRoot,variant:"outlined",elevation:1},((h=u?e:[e[0]]).length,h.map(((r,n)=>{var i,c;return s().createElement("div",{key:null!==(i=`Fragment${r.author}${r.dateTime}${r.id}`)&&void 0!==i?i:"",className:0===n?"":a.childComment},s().createElement(ol,{avatar:r.avatar,author:r.author,postingTime:r.dateTime,content:r.comment}),0===n&&s().createElement("div",{className:a.expandThread},s().createElement(d.Button,{onClick:m,className:a.button,size:"small"},o.formatMessage(u?il.collapse:il.expand))),!l&&s().createElement("div",{className:a.replyToComment},s().createElement(d.Button,{className:a.button,size:"small",onClick:g},null!=t?t:o.formatMessage(il.addReply))),n===e.length-1&&l&&s().createElement(el,{onConfirm:b}),n<e.length-1&&u&&s().createElement(d.Divider,{variant:"fullWidth",style:{margin:"30px 0"},key:null!==(c=`divider${r.author}${r.dateTime}${r.id}`)&&void 0!==c?c:""}))}))));var h};sl.propTypes={comments:m().array,actionText:m().string,onAddComment:m().func,parentId:m().number},sl.defaultProps={comments:[],actionText:null,onAddComment:()=>{},parentId:null};const cl=require("@material-ui/icons/InfoOutlined");var ul=e.n(cl);const dl=(0,be.defineMessages)({loading:{id:"blsq.treeview.loading",defaultMessage:"Loading"},confirm:{id:"blsq.treeview.search.confirm",defaultMessage:"Confirm"},cancel:{id:"blsq.treeview.search.cancel",defaultMessage:"Cancel"},selectSingle:{id:"blsq.treeview.label.selectSingle",defaultMessage:"Select an org unit"},selectMultiple:{id:"blsq.treeview.label.selectMultiple",defaultMessage:"Select org unit(s)"},display:{id:"blsq.treeview.search.results.label.display",defaultMessage:"Display"},resultsLower:{id:"blsq.treeview.search.results.label.resultsLower",defaultMessage:"result(s)"},noOptions:{id:"blsq.treeview.search.options.label.noOptions",defaultMessage:"No result found"},clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"Clear"},search:{id:"blsq.treeview.search.inputLabelObject",defaultMessage:"Enter search term"}}),pl=require("react-query");function ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ml(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ml(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const bl=[5,10,20,30,40,50],fl=({resultsCount:e,handleSelect:t,countOptions:r})=>s().createElement(ro,{rowsPerPageOptions:r,rowsPerPage:e,selectRowsPerPage:t});fl.propTypes={countOptions:(0,p.arrayOf)(p.number),resultsCount:p.number,handleSelect:p.func},fl.defaultProps={countOptions:bl,handleSelect:()=>null,resultsCount:bl[2]};const hl=({classes:e,onSelect:t,minResultCount:r,inputLabelObject:n,withSearchButton:a,request:o,makeDropDownText:l,toolTip:c})=>{const{formatMessage:u}=xe(),[p,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(r),[f,h]=(0,i.useState)(!1),[y,O]=(0,i.useState)(!1),[w,E]=(0,i.useState)(!1),{data:x,isLoading:P,isFetching:C}=(({request:e,searchValue:t,resultsCount:r,options:n})=>(0,pl.useQuery)(["TreeviewSearch",e,t,r],(async()=>await e(t,r)),gl(gl({initialData:[],retry:!1},n),{},{keepPreviousData:!0})))({request:o,searchValue:p,resultsCount:g,options:{enabled:f&&y}}),q=(0,i.useCallback)((()=>{""!==p&&O(!0)}),[p]),j=s().createElement(ul(),{fontSize:"small",style:{color:qe.palette.mediumGray.main}});return s().createElement(d.Box,{className:e.root},s().createElement(d.ClickAwayListener,{onClickAway:()=>{w||h(!1)}},s().createElement(d.Box,{className:e.container,onFocus:()=>h(!0)},s().createElement(d.Box,{className:e.searchBar},s().createElement(zr,{disabled:P,keyValue:"orgUnitSearch",onChange:e=>{m(e),O(!1)},value:p,type:"search",label:u(n),onEnterPressed:()=>q()}),a&&s().createElement(d.Button,{variant:"contained",className:e.searchButton,color:"primary",onClick:q},s().createElement(be.FormattedMessage,dl.search))),P&&s().createElement("div",{className:e.loadingContainer},s().createElement(v,{fixed:!1,transparent:!0,padding:4,size:25})),0===x.length&&f&&y&&!C&&s().createElement(d.Typography,{variant:"body2",align:"center",className:e.noResult},s().createElement(be.FormattedMessage,dl.noOptions)),x.length>0&&f&&s().createElement(d.Box,{className:e.listContainer},s().createElement(d.List,{className:e.list},x.map((e=>s().createElement(d.ListItem,{key:e.id,button:!0,onClick:()=>(e=>{t(e),h(!1)})(e),className:"org-unit-item"},s().createElement(d.ListItemText,{primary:s().createElement(d.Typography,{type:"body2"},l(e))}),c&&c(e,j))))),s().createElement(d.Divider,null),s().createElement(d.Box,{className:e.resultInfos},s().createElement(d.ClickAwayListener,{onClickAway:()=>E(!1)},s().createElement("div",{className:e.countContainer,onFocus:()=>E(!0)},s().createElement(fl,{handleSelect:e=>{b(parseInt(e,10))},resultsCount:g}))))))))};hl.defaultProps={minResultCount:50,inputLabelObject:dl.search,withSearchButton:!1,toolTip:null,onSelect:()=>{}},hl.propTypes={classes:m().object.isRequired,onSelect:m().func,minResultCount:m().number,inputLabelObject:m().object,withSearchButton:m().bool,request:m().func.isRequired,makeDropDownText:m().func.isRequired,toolTip:m().func};const yl=(0,d.withStyles)((e=>({root:{height:e.spacing(9),overflow:"visible"},container:{position:"relative",zIndex:1e3},loadingContainer:{position:"absolute",top:"0",left:"0",width:"100%",zIndex:10,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)"},listContainer:{border:`1px solid ${e.palette.ligthGray.border}`,backgroundColor:"white",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden"},list:{maxHeight:"50vh",overflow:"auto"},noResult:{backgroundColor:"white",border:`1px solid ${e.palette.ligthGray.border}`,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,color:e.palette.error.main,height:e.spacing(9),display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)"},resultInfos:{fontSize:12,height:e.spacing(6),display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,4)},countContainer:{marginTop:"7px"},iconButton:{height:25,marginLeft:e.spacing(1)},resultsCountInput:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"center"},searchBar:{display:"flex",alignItems:"center"},searchButton:{marginLeft:"10px"}})))(hl),Ol=require("@material-ui/icons/ArrowRight");var vl=e.n(Ol);const wl=require("@material-ui/icons/ArrowDropDown");var El=e.n(wl);const xl=require("@material-ui/icons/CheckBoxOutlineBlankOutlined");var Pl=e.n(xl);const Cl=require("@material-ui/icons/IndeterminateCheckBox");var ql=e.n(Cl);function jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Sl=(0,Ce.makeStyles)((e=>({treeItem:{"&.MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:e.palette.primary.background,alignItems:"center",color:e.palette.primary.main}},unselectableTreeItem:{"&.MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{alignItems:"center",color:e.palette.mediumGray.main}},checkbox:{color:e.palette.mediumGray.main,fontSize:"16px",marginRight:"5px"}}))),Tl=({label:e,id:t,fetchChildrenData:r,expanded:n,toggleOnLabelClick:a,onLabelClick:o,data:l,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:m,queryOptions:g={}})=>{const b=Sl(),f=n.includes(t),h=u.includes(t),y=d.includes(t),O=m(l),{data:v,isLoading:w}=(({request:e,id:t,options:r})=>(0,pl.useQuery)(["getChildrenData",e,t],(async()=>e(t)),gl({retry:!1},r)))({request:r,id:t,options:kl(kl({},g),{},{enabled:f})}),E=(0,i.useRef)(),x=l.has_children,P=(e,t,r,n)=>s().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},((e,t,r)=>e?t?s().createElement(Mn(),{className:b.checkbox}):r?s().createElement(ql(),{className:b.checkbox}):s().createElement(Pl(),{className:b.checkbox}):null)(t,r,n),e),C=(0,i.useCallback)((e=>{a||e.preventDefault(),o(t,l,O)}),[l,t,o,a,O]);return(0,i.useEffect)((()=>{p===t&&E.current.scrollIntoView()}),[p,t,E]),f&&w?s().createElement(Sn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h,y),nodeId:t,icon:s().createElement(El(),{style:{fontSize:"large"}})}):x?s().createElement("div",{style:{display:"flex"}},s().createElement(Sn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h,y),nodeId:t,collapseIcon:s().createElement(El(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(vl(),{style:{fontSize:"24px"}}),onLabelClick:C},v&&f&&((q=v)?q.map((t=>s().createElement(Tl,{key:`TreeItem ${t.id}`,label:e,id:t.id,fetchChildrenData:r,expanded:n,toggleOnLabelClick:a,onLabelClick:o,data:t,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:m,queryOptions:g}))):null),!f&&s().createElement("div",null))):x||O?s().createElement("div",{style:{display:"flex"}},s().createElement(Sn.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:E,label:P(e(l),c,h),nodeId:t,collapseIcon:s().createElement(El(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(vl(),{style:{fontSize:"24px"}}),onLabelClick:C})):null;var q};Tl.propTypes={label:p.func.isRequired,id:p.string.isRequired,fetchChildrenData:p.func,expanded:(0,p.arrayOf)(p.string),toggleOnLabelClick:p.bool,data:p.object.isRequired,onLabelClick:p.func,withCheckbox:p.bool,ticked:(0,p.oneOfType)([p.string,p.array]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object},Tl.defaultProps={fetchChildrenData:()=>{},expanded:[],toggleOnLabelClick:!0,onLabelClick:()=>{},withCheckbox:!1,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{}};const Ml=(0,Ce.makeStyles)((e=>({root:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"},isFetching:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"}}))),Il=({getChildrenData:e,getRootData:t,label:r,multiselect:n,expanded:a,selected:o,onToggle:l,toggleOnLabelClick:c,onSelect:u,onCheckBoxClick:p,onLabelClick:m,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:y={},childrenQueryOptions:O={}})=>{const v=Ml(),w=(0,i.useCallback)(e,[e]),{data:E,isFetching:x}=((e,t={})=>(0,pl.useQuery)(["getRootData",e],(async()=>e()),gl(gl({retry:!1},t),{},{keepPreviousData:!1})))(t,y),P=(0,i.useCallback)((e=>e?e.map((e=>s().createElement(Tl,{label:r,id:e.id,data:e,key:`RootTreeItem ${e.id}`,fetchChildrenData:w,expanded:a,selected:o,toggleOnLabelClick:c,onCheckBoxClick:p,onLabelClick:m,withCheckbox:n,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:O}))):null),[r,w,a,o,c,p,m,n,g,b,f]);return s().createElement(Sn.TreeView,{classes:x?{root:v.isFetching}:{root:v.root},expanded:a,selected:o,multiSelect:n,onNodeSelect:(e,t)=>{u(t)},onNodeToggle:(e,t)=>{l(t)}},!x&&E&&P(E),x&&s().createElement(d.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},s().createElement(d.CircularProgress,null)))};Il.propTypes={getChildrenData:p.func,getRootData:p.func,label:p.func.isRequired,multiselect:p.bool,toggleOnLabelClick:p.bool,expanded:(0,p.arrayOf)(p.string).isRequired,onToggle:p.func.isRequired,onSelect:p.func,onCheckBoxClick:p.func,onLabelClick:p.func,selected:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),ticked:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object,childrenQueryOptions:p.object},Il.defaultProps={getChildrenData:()=>{},getRootData:()=>{},multiselect:!1,toggleOnLabelClick:!0,onSelect:()=>{},onCheckBoxClick:()=>{},onLabelClick:()=>{},selected:void 0,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{},childrenQueryOptions:{}};const Dl=e=>e?Array.from(e.entries()).map((e=>Array.from(e[1].keys()))).map((e=>e.map((e=>e.toString())).filter(((e,t,r)=>e!==r[r.length-1])))).flat():null,Bl=({label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,onSelect:a,minResultCount:o,inputLabelObject:l,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p,parseNodeIds:m,onUpdate:g,multiselect:b,preselected:f,preexpanded:h,selectedData:y,allowSelection:O})=>{var v;const[w,E]=(0,i.useState)((e=>e?Array.isArray(e)?e:[e]:[])(y)),[x,P]=(0,i.useState)(f||(b?[]:"")),[C,q]=(0,i.useState)(null!==(v=Dl(h))&&void 0!==v?v:[]),[j,k]=(0,i.useState)(null!=f?f:[]),[S,T]=(0,i.useState)(null!=h?h:new Map),[M,I]=(0,i.useState)(Array.isArray(f)?null:f),D=(0,i.useCallback)((e=>{P(e),b&&a(e)}),[a,b]),B=(0,i.useCallback)(((e,t,r)=>{let n,a,o;var l;r&&(n=b?j.includes(e)?j.filter((t=>t!==e)):[...j,e]:[e],k(n)),a=b?new Map(S):new Map,S.has(e)?(a.delete(e),o=null!==(l=null==w?void 0:w.filter((t=>t.id!==parseInt(e,10))))&&void 0!==l?l:[]):(a.set(e,m(t)),o=b?n.includes(t.id)?[...w,t]:w.filter((e=>e.id!==parseInt(t.id,10))):[t]),g(n,a,o),T(a),E(o)}),[g,j,S,b,w,m]),R=(0,i.useCallback)((e=>{const t=m(e),r=Array.from(t.keys()).map((e=>e.toString())),n=r[r.length-1];if(r.pop(),b){q([...C,...r]);const e=[...x,n];D(e)}else{q(r);const a=new Map;a.set(n,t),D(n),E([e]),g(n,a,[e])}I(n)}),[m,D,x,g,C,b]);return s().createElement(s().Fragment,null,s().createElement(yl,{onSelect:R,minResultCount:o,inputLabelObject:l,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p}),s().createElement(Il,{label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,selected:x,onSelect:D,expanded:C,onToggle:q,onLabelClick:B,multiselect:b,ticked:j,parentsTicked:Dl(S),scrollIntoView:M,allowSelection:O}))};function Rl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Bl.propTypes={getChildrenData:p.func,getRootData:p.func,toggleOnLabelClick:p.bool,onSelect:p.func,minResultCount:p.number,inputLabelObject:p.object,withSearchButton:p.bool,request:p.func.isRequired,makeDropDownText:p.func.isRequired,toolTip:p.func,parseNodeIds:p.func.isRequired,onUpdate:p.func,multiselect:p.bool,preselected:(0,p.oneOfType)([p.string,p.array]),preexpanded:p.any,selectedData:(0,p.oneOfType)([p.object,p.array]),label:p.func.isRequired,allowSelection:p.func},Bl.defaultProps={getChildrenData:()=>{},getRootData:()=>{},toggleOnLabelClick:!0,onSelect:()=>{},minResultCount:50,inputLabelObject:dl.search,withSearchButton:!1,toolTip:null,onUpdate:()=>{},multiselect:!1,preselected:null,preexpanded:null,selectedData:[],allowSelection:()=>!0};const Nl={display:"flex",alignItems:"center"},Al={"&.MuiTreeItem-root:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}},Fl=Ll({"& .MuiTreeItem-label":Ll(Ll({},Nl),{},{paddingLeft:"0px"})},Al),zl=(0,Ce.makeStyles)((e=>({truncatedTreeview:{color:e.palette.mediumGray.main},singleTreeItem:Ll(Ll({},Fl),{},{color:e.palette.gray.main}),truncatedTreeviewItem:Ll(Ll({},Fl),{},{color:e.palette.mediumGray.main}),lastTreeItem:Ll(Ll({"& .MuiTreeItem-label":Ll({},Nl)},Al),{},{color:e.palette.gray.main}),removeIconContainer:{paddingLeft:"5px","& .MuiTreeItem-iconContainer":{display:"none"}}}))),Vl=({selectedItems:e,label:t,redirect:r})=>{var n;const a=zl(),o=(0,i.useRef)(),l=(e,n)=>{if(0===e.size)return null;const i=new Map(e),c=i.entries().next().value;i.delete(c[0]);const u=((e,t,r)=>1===e.size?r.singleTreeItem:0===t.size?r.lastTreeItem:r.truncatedTreeviewItem)(n,i,a);return s().createElement(Sn.TreeItem,{key:c[0].toString()+i.size.toString(),className:u,onIconClick:e=>e.preventDefault(),onLabelClick:(d=c[0],e=>{e.preventDefault(),new Date-o.current<150&&r(d)}),collapseIcon:s().createElement(El(),{style:{fontSize:"large"}}),expandIcon:s().createElement(vl(),{style:{fontSize:"large"}}),label:t(c[1]),nodeId:c[0],disabled:!0},e.size>=1?l(i,n):null);var d},c=null!==(n=Array.from(e.keys()).map((e=>e.toString())))&&void 0!==n?n:[];return s().createElement(Sn.TreeView,{onMouseDown:()=>{o.current=new Date},disableSelection:!0,expanded:c,classes:{root:1===c.length&&a.removeIconContainer},className:a.truncatedTreeview},l(e,e))};Vl.propTypes={selectedItems:p.any,label:p.func.isRequired,redirect:p.func},Vl.defaultProps={selectedItems:null,redirect:()=>null};const _l=e.p+"locale/en.json",Hl=e.p+"locale/fr.json",$l=require("react-visibility-sensor");var Gl=e.n($l);class Wl extends i.Component{constructor(e){super(e),this.image=null,this.state={image:e.placeholder,isVisible:!1,loading:!0},this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this)}componentDidUpdate(e){const{src:t,placeholder:r}=this.props;t!==e.src&&(this.state.isVisible?this.loadImage(t):this.setState({image:r,loading:!0}))}componentWillUnmount(){this.image&&(this.image.onload=null,this.image.onerror=null)}handleVisibilityChange(e){this.setState({isVisible:e},(()=>{this.state.loading&&this.state.isVisible&&this.loadImage(this.props.src)}))}onLoad(){this.setState({image:this.image.src,loading:!1})}onError(e){const{onError:t}=this.props;t&&t(e)}loadImage(e){this.image&&(this.image.onload=null,this.image.onerror=null);const t=new Image;this.image=t,t.onload=this.onLoad,t.onerror=this.onError,t.src=e}render(){const{image:e,loading:t,isVisible:r}=this.state,{children:n,visibilitySensorProps:a}=this.props;if(!n||"function"!=typeof n)throw new Error("LazyProgressiveImage requires a function as its only child");return s().createElement(Gl(),ge()({},a,{onChange:this.handleVisibilityChange}),n(e,t,r))}}Wl.propTypes={children:m().func,onError:m().func,placeholder:m().string,src:m().string,visibilitySensorProps:m().any},Wl.defaultProps={children:void 0,onError:void 0,placeholder:void 0,src:void 0,visibilitySensorProps:void 0};const Ul=require("react-awesome-query-builder"),Kl=require("react-awesome-query-builder/lib/config/material");var Yl=e.n(Kl);function Jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ql=(0,d.makeStyles)((e=>Zl(Zl({},De(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}}))),Xl=({label:e,onChange:t,currentDate:r,clearMessage:n,required:a,errors:o,hideError:l,disabled:c,clearable:u})=>{const d=Ql(),[p,m]=(0,i.useState)(null),g=o.length>0||Boolean(p);return s().createElement(ar,{errors:o,hideError:l},s().createElement(Qt.KeyboardDateTimePicker,{autoOk:!0,disableToolbar:!0,inputVariant:"outlined",required:a,disabled:c,InputLabelProps:{className:d.label,shrink:Boolean(r),error:g},KeyboardButtonProps:{size:"small"},keyboardIcon:s().createElement(er(),{size:"small"}),InputProps:{error:g},helperText:null,format:"DD/MM/YYYY HH:mm",label:`${e}`,value:r,onChange:t,onError:e=>m(e)}),u&&n&&r&&s().createElement("span",{className:d.clearDateButton},s().createElement(Nt,{disabled:c,size:"small",icon:"clear",tooltipMessage:n,onClick:()=>t(null)})))};Xl.defaultProps={currentDate:null,required:!1,errors:[],hideError:!1,disabled:!1,clearMessage:void 0,clearable:!0},Xl.propTypes={label:m().string.isRequired,onChange:m().func.isRequired,currentDate:m().oneOfType([m().string,m().object]),errors:m().array,clearMessage:m().object,required:m().bool,hideError:m().bool,disabled:m().bool,clearable:m().bool};const ei=(0,be.defineMessages)({and:{id:"blsq.queryBuilder.and",defaultMessage:"And"},or:{id:"blsq.queryBuilder.or",defaultMessage:"Or"},contains:{id:"blsq.queryBuilder.contains",defaultMessage:"Contains"},notLike:{id:"blsq.queryBuilder.notLike",defaultMessage:"Not contains"},startsWith:{id:"blsq.queryBuilder.startsWith",defaultMessage:"Starts with"},endsWith:{id:"blsq.queryBuilder.endsWith",defaultMessage:"Ends with"},between:{id:"blsq.queryBuilder.between",defaultMessage:"Between"},notBetween:{id:"blsq.queryBuilder.notBetween",defaultMessage:"Not between"},isEmpty:{id:"blsq.queryBuilder.isEmpty",defaultMessage:"Is empty"},isNotEmpty:{id:"blsq.queryBuilder.isNotEmpty",defaultMessage:"Is not empty"},isNull:{id:"blsq.queryBuilder.isNull",defaultMessage:"Is null"},isNotNull:{id:"blsq.queryBuilder.isNotNull",defaultMessage:"Is not null"},anyIn:{id:"blsq.queryBuilder.anyIn",defaultMessage:"Any in"},notAnyIn:{id:"blsq.queryBuilder.notAnyIn",defaultMessage:"Not in"},equals:{id:"blsq.queryBuilder.equals",defaultMessage:"Equals"},notEquals:{id:"blsq.queryBuilder.notEquals",defaultMessage:"Not equals"},proximity:{id:"blsq.queryBuilder.proximity",defaultMessage:"Proximity search"},proximityValueLabel1:{id:"blsq.queryBuilder.proximityValueLabel1",defaultMessage:"Word 1"},proximityValuePLaceholder1:{id:"blsq.queryBuilder.proximityValuePLaceholder1",defaultMessage:"Enter first word"},proximityValueLabel2:{id:"blsq.queryBuilder.proximityValueLabel2",defaultMessage:"Word 2"},proximityValuePLaceholder2:{id:"blsq.queryBuilder.proximityValuePLaceholder2",defaultMessage:"Enter second word"},proximityOptionsLabel:{id:"blsq.queryBuilder.proximityOptionsLabel",defaultMessage:"Near"},proximityOptionsPlaceholder:{id:"blsq.queryBuilder.proximityOptionsPlaceholder",defaultMessage:"Select words between"},some:{id:"blsq.queryBuilder.some",defaultMessage:"Some"},all:{id:"blsq.queryBuilder.all",defaultMessage:"All"},none:{id:"blsq.queryBuilder.none",defaultMessage:"None"},textLabel:{id:"blsq.queryBuilder.textLabel",defaultMessage:"String"},textPlaceholder:{id:"blsq.queryBuilder.textPlaceholder",defaultMessage:"Enter string"},texareaLabel:{id:"blsq.queryBuilder.texareaLabel",defaultMessage:"Text"},textareaPlaceholder:{id:"blsq.queryBuilder.textareaPlaceholder",defaultMessage:"Enter text"},numberLabel:{id:"blsq.queryBuilder.numberLabel",defaultMessage:"Number"},numberPlaceholder:{id:"blsq.queryBuilder.numberPlaceholder",defaultMessage:"Enter number"},numberFromLabel:{id:"blsq.queryBuilder.numberFromLabel",defaultMessage:"Number from"},numberFromPlaceholder:{id:"blsq.queryBuilder.numberFromPlaceholder",defaultMessage:"Enter number from"},numberToLabel:{id:"blsq.queryBuilder.numberToLabel",defaultMessage:"Number to"},numberToPlaceholder:{id:"blsq.queryBuilder.numberToPlaceholder",defaultMessage:"Enter number to"},sliderPlaceholder:{id:"blsq.queryBuilder.sliderPlaceholder",defaultMessage:"Enter number or move slider"},date:{id:"blsq.queryBuilder.date",defaultMessage:"Date"},datePlaceholder:{id:"blsq.queryBuilder.datePlaceholder",defaultMessage:"Enter date"},dateFrom:{id:"blsq.queryBuilder.dateFrom",defaultMessage:"Date from"},dateFromPlaceholder:{id:"blsq.queryBuilder.dateFromPlaceholder",defaultMessage:"Enter date from"},dateTo:{id:"blsq.queryBuilder.dateTo",defaultMessage:"Date to"},dateToPlaceholder:{id:"blsq.queryBuilder.dateToPlaceholder",defaultMessage:"Enter date to"},time:{id:"blsq.queryBuilder.time",defaultMessage:"Time"},timePlaceholder:{id:"blsq.queryBuilder.timePlaceholder",defaultMessage:"Enter time"},timeFrom:{id:"blsq.queryBuilder.timeFrom",defaultMessage:"Time from"},timeFromPlaceholder:{id:"blsq.queryBuilder.timeFromPlaceholder",defaultMessage:"Enter time from"},timeTo:{id:"blsq.queryBuilder.timeTo",defaultMessage:"Time to"},timeToPlaceholder:{id:"blsq.queryBuilder.timeToPlaceholder",defaultMessage:"Enter time to"},datetime:{id:"blsq.queryBuilder.datetime",defaultMessage:"Datetime"},datetimePlaceholder:{id:"blsq.queryBuilder.datetimePlaceholder",defaultMessage:"Enter datetime"},datetimeFrom:{id:"blsq.queryBuilder.datetimeFrom",defaultMessage:"Datetime from"},datetimeFromPlaceholder:{id:"blsq.queryBuilder.datetimeFromPlaceholder",defaultMessage:"Enter datetime from"},datetimeTo:{id:"blsq.queryBuilder.datetimeTo",defaultMessage:"Datetime to"},datetimeToPlaceholder:{id:"blsq.queryBuilder.datetimeToPlaceholder",defaultMessage:"Enter datetime to"},yes:{id:"blsq.queryBuilder.yes",defaultMessage:"Yes"},no:{id:"blsq.queryBuilder.no",defaultMessage:"No"},fieldCompare:{id:"blsq.queryBuilder.fieldCompare",defaultMessage:"Field to compare"},fieldPlaceholder:{id:"blsq.queryBuilder.fieldPlaceholder",defaultMessage:"Select field to compare"},range:{id:"blsq.queryBuilder.range",defaultMessage:"Range"},rangePlaceholder:{id:"blsq.queryBuilder.rangePlaceholder",defaultMessage:"Select range"},rangeFrom:{id:"blsq.queryBuilder.rangeFrom",defaultMessage:"Number from"},rangeFromPlaceholder:{id:"blsq.queryBuilder.rangeFromPlaceholder",defaultMessage:"Enter number from"},rangeTo:{id:"blsq.queryBuilder.rangeTo",defaultMessage:"Number to"},rangeToPlaceholder:{id:"blsq.queryBuilder.rangeToPlaceholder",defaultMessage:"Enter number to"},countEqual:{id:"blsq.queryBuilder.countEqual",defaultMessage:"Count =="},countNotEqual:{id:"blsq.queryBuilder.countNotEqual",defaultMessage:"Count !="},countLess:{id:"blsq.queryBuilder.countLess",defaultMessage:"Count <"},countLessOrEqual:{id:"blsq.queryBuilder.countLessOrEqual",defaultMessage:"Count <="},countGreater:{id:"blsq.queryBuilder.countGreater",defaultMessage:"Count >"},countGreaterOrEqual:{id:"blsq.queryBuilder.countGreaterOrEqual",defaultMessage:"Count >="},countBetween:{id:"blsq.queryBuilder.countBetween",defaultMessage:"Count between"},countNotBetween:{id:"blsq.queryBuilder.countNotBetween",defaultMessage:"Count not between"},selectValue:{id:"blsq.queryBuilder.selectValue",defaultMessage:"Select value"},values:{id:"blsq.queryBuilder.values",defaultMessage:"Values"},selectValues:{id:"blsq.queryBuilder.selectValues",defaultMessage:"Select values"},value:{id:"blsq.queryBuilder.value",defaultMessage:"Value"},field:{id:"blsq.queryBuilder.field",defaultMessage:"Field"},function:{id:"blsq.queryBuilder.function",defaultMessage:"Function"},operator:{id:"blsq.queryBuilder.operator",defaultMessage:"Operator"},selectField:{id:"blsq.queryBuilder.selectField",defaultMessage:"Select field"},selectFunction:{id:"blsq.queryBuilder.selectFunction",defaultMessage:"Select function"},selectOperator:{id:"blsq.queryBuilder.selectOperator",defaultMessage:"Select operator"},lock:{id:"blsq.queryBuilder.lock",defaultMessage:"Lock"},locked:{id:"blsq.queryBuilder.locked",defaultMessage:"Locked"},addGroup:{id:"blsq.queryBuilder.addGroup",defaultMessage:"Add group"},addCondition:{id:"blsq.queryBuilder.addCondition",defaultMessage:"Add condition"},addDefaultCase:{id:"blsq.queryBuilder.addDefaultCase",defaultMessage:"Add default condition"},defaultCase:{id:"blsq.queryBuilder.defaultCase",defaultMessage:"Default:"},addRule:{id:"blsq.queryBuilder.addRule",defaultMessage:"Add rule"},addSubRule:{id:"blsq.queryBuilder.addSubRule",defaultMessage:"Add sub rule"},not:{id:"blsq.queryBuilder.not",defaultMessage:"Not"},valueSourcesPopupTitle:{id:"blsq.queryBuilder.valueSourcesPopupTitle",defaultMessage:"Select value source"},cancel:{id:"blsq.queryBuilder.cancel",defaultMessage:"Cancel"},confirm:{id:"blsq.queryBuilder.confirm",defaultMessage:"Confirm"},queryTab:{id:"blsq.queryBuilder.queryTab",defaultMessage:"Query"},jsonTab:{id:"blsq.queryBuilder.jsonTab",defaultMessage:"Json"},apply:{id:"blsq.queryBuilder.apply",defaultMessage:"Apply"},invalidJson:{id:"blsq.queryBuilder.invalidJson",defaultMessage:"Invalid JSON"},clear:{id:"iaso.label.clear",defaultMessage:"Clear"},currentDate:{id:"blsq.queryBuilder.currentDate",defaultMessage:"Current date"},currentDateTime:{id:"blsq.queryBuilder.currentDateTime",defaultMessage:"Current date time"}}),ti="YYYY-MM-DD",ri=({setValue:e,dateValue:t,withTime:r=!1,disabled:n=!1})=>s().createElement(s().Fragment,null,r&&s().createElement(Xl,{onChange:t=>{e(rl()(t).format("YYYY-MM-DD HH:mm"))},label:"",currentDate:t,clearMessage:ei.clear,clearable:!1,disabled:n}),!r&&s().createElement(sr,{onChange:t=>{e(rl()(t).format(ti))},label:"",currentDate:t,clearMessage:ei.clear,clearable:!1,disabled:n})),ni=(0,Ce.makeStyles)((e=>({root:{"& .query-builder-container":{padding:"0 !important"},"& .qb-drag-handler, .qb-draggable, .query-builder":{WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"& .rule--header:after":{content:'""',display:"table",clear:"both"},"& .group--header,\n.group--footer":{display:"flex",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px",marginBottom:"10px"},"& .query-builder":{overflow:"hidden",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:1.25,margin:0},"& .query-builder *, .query-builder *::before, .query-builder *::after":{boxSizing:"border-box"},"& .query-builder .widget--valuesrc":{opacity:"1 !important"},"& body.qb-dragging .ant-tooltip":{display:"none"},"& .query-builder.qb-dragging":{cursor:["-webkit-grabbing !important","grabbing !important"]},"& .query-builder.qb-dragging button":{pointerEvents:"none"},"& .group":{background:e.palette.gray.background,border:`1px solid ${e.palette.border.main}`},"& .rule":{backgroundColor:"white",border:"1px solid transparent",padding:"10px",flex:1,display:"flex"},"& .rule-with-error .rule":{border:"1px solid #e0a1a1"},"& .rule--body--wrapper":{flex:1,display:"flex",flexDirection:"column"},"& .rule--error":{color:"red",marginBottom:"-5px",marginTop:"5px"},"& .group-or-rule":{borderRadius:"5px",position:"relative"},"& .rule_group":{background:"rgba(255, 252, 242, 0.5)",border:"1px solid #f9f1dd",display:"flex",paddingLeft:"10px"},"& .qb-draggable":{pointerEvents:"none",position:"absolute",opacity:.7,zIndex:1e3},"& .qb-placeholder":{border:"1px dashed gray"},"& .locked":{border:"1px dashed red"},"& .ant-tooltip-inner":{minHeight:"18px"},"& .ant-slider":{marginBottom:"4px",marginTop:"4px"},"& .ant-slider-with-marks":{marginBottom:"10px",marginTop:"4px"},"& .ant-slider-track":{visibility:"visible !important"},"& .ant-select-tree-dropdown > div[role=listbox]":{outline:"none"},"& ul.ant-select-selection__rendered":{marginRight:"11px"},"& .ant-select-item":{minHeight:"22px"},"& .group--children":{paddingLeft:"24px",marginTop:"10px",marginBottom:"10px"},"& .group--children > .group-or-rule-container > .group-or-rule:before":{top:"-4px",borderWidth:"0 0 2px 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::after":{top:"50%",borderWidth:"0 0 0 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::before, .group--children > .group-or-rule-container > .group-or-rule::after":{content:'""',position:"absolute",left:"-14px",width:"14px",height:"calc(50% + 8px)",borderColor:"#CCC",borderStyle:"solid",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children > .group-or-rule-container:first-child > .group-or-rule::before":{top:"-12px",height:"calc(50% + 14px)"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::before":{borderRadius:"0 0 0 4px"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::after":{display:"none"},"& .group--children.hide--line > .group-or-rule-container > .group-or-rule::before, .group--children.hide--line > .group-or-rule-container > .group-or-rule::after":{borderColor:"rgba(128, 128, 128, 0.1)"},"& .qb-draggable::before, .qb-draggable::after":{display:"none"},"& .qb-drag-handler":{cursor:["-webkit-grabbing","grabbing"]},"& .group--drag-handler":{marginRight:"8px",position:"relative",top:"3px"},"& .group--conjunctions .group--drag-handler":{marginLeft:"10px"},"& .group--conjunctions.hide--conj":{opacity:.3},"& .group--actions":{marginLeft:"10px",flex:1,display:"flex"},"& .group--actions--tl, .group--actions--bl":{justifyContent:"flex-start"},"& .group--actions--tl":{marginLeft:"20px"},"& .group--actions--tc, .group--actions--bc":{justifyContent:"center"},"& .group--actions--tr, .group--actions--br":{justifyContent:"flex-end"},"& .group--actions .action--DELETE":{marginTop:"-1px"},"& .case_group":{borderWidth:"2px"},"& .switch_group > .group--children > .group-or-rule-container > .group-or-rule::before, .switch_group > .group--children > .group-or-rule-container > .group-or-rule::after":{height:"calc(50% + 12px)"},"& .case_group--body":{display:"flex",flexDirection:"row",marginTop:"10px",marginBottom:"10px"},"& .case_group--body .case_group--children":{flex:"auto",marginTop:"0 !important",marginBottom:"0 !important"},"& .case_group--body .case_group--value":{marginTop:"0",marginBottom:"0",marginRight:"10px"},"& .rule_group .group--drag-handler":{alignSelf:"center"},"& .rule_group .group--field":{alignSelf:"center"},"& .rule_group .group--actions":{alignSelf:"center",flex:0},"& .rule_group .rule_group--children":{flex:1,marginTop:"5px",marginBottom:"5px",paddingLeft:"18px"},"& .rule_group .rule_group--children .group-or-rule-container":{marginBottom:"5px",marginTop:"5px",paddingRight:"5px"},"& .rule_group .rule_group--children.one--child":{paddingLeft:"10px"},"& .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::before, .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::after":{left:"-10px",width:"10px",height:"calc(50% + 8px)"},"& .group--header.hide--drag.with--conjs > .group--field--count--rule":{marginLeft:"20px"},"& .rule--header":{marginLeft:"auto",display:"flex",alignItems:"center",paddingLeft:"10px"},"& .rule--drag-handler":{display:"flex",alignItems:"center",marginRight:"8px"},"& .rule--field, .group--field, .rule--operator, .rule--value, .rule--operator-options, .rule--widget, .widget--widget, .widget--valuesrc, .widget--sep, .operator--options--sep, .rule--before-widget, .rule--after-widget":{display:"inline-block"},"& .mui .widget--sep, .mui .operator--options--sep, .mui .rule--func--bracket-before, .mui .rule--func--bracket-after, .mui .rule--func--arg-sep":{verticalAlign:"bottom",alignSelf:"flex-end",marginBottom:"8px"},"& .mui .rule--operator-options":{verticalAlign:"bottom"},"& .mui .widget--valuesrc":{verticalAlign:"bottom"},"& .rule--operator, .widget--widget, .widget--valuesrc, .widget--sep":{marginLeft:"10px"},"& .widget--valuesrc":{marginRight:"-8px"},"& .widget--valuesrc span i":{transform:"rotate(90deg)"},"& .operator--options--sep":{marginRight:"10px"},"& div.tooltip-inner":{maxWidth:"500px"},"& .rule--field label, .group--field label, .rule--operator label, .widget--widget label":{display:"block",fontWeight:"bold"},"& .conjunction":{display:"inline-block"},"& .conjunction label":{display:"inline-block",border:"1px solid",cursor:"pointer",color:"white",textTransform:"uppercase",padding:"0.2rem 0.4rem"},"& .conjunction input":{display:"none"},"& .conjunction[data-state=active] label":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction[data-state=inactive] label":{backgroundColor:"#428bca",borderColor:"#357ebd"},"& .conjunction[data-state=inactive] label:hover":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction:first-child label":{borderRadius:"3px 0 0 3px"},"& .conjunction:last-child label":{borderRadius:"0 3px 3px 0"},"& .conjunction:first-child:last-child":{borderRadius:"3px"},"& .rule--func--wrapper, .rule--func, .rule--func--args, .rule--func--arg, .rule--func--arg-value, .rule--func--bracket-before, .rule--func--bracket-after, .rule--func--arg-sep, .rule--func--arg-label, .rule--func--arg-label-sep":{display:"inline-block"},"& .rule--func--bracket-before, .rule--func--bracket-after":{marginLeft:"3px",marginRight:"3px"},"& .rule--func--bracket-before":{marginLeft:"5px"},"& .rule--func--arg-value > .rule--widget":{marginLeft:"-10px"},"& .rule--func--arg-sep":{marginLeft:"3px",marginRight:"6px"},"& .rule--func--arg-label-sep":{marginLeft:"1px",marginRight:"6px"},"& .qb-lite .group--drag-handler, .qb-lite .group--actions":{transition:"opacity 0.2s"},"& .qb-lite .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .rule_group_ext--drag-handler":{transition:"padding 0.2s"},"& .qb-lite .group--header:hover .group--header .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .group--header:hover .group--header .rule_group_ext--drag-handler,\n.qb-lite .group--header:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .group--header:not(:hover) .rule_group_ext--drag-handler,\n.qb-lite .rule_group:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .rule_group:not(:hover) .rule_group_ext--drag-handler":{width:"0",padding:"0",overflow:"hidden",opacity:0},"& .qb-lite .widget--valuesrc, .qb-lite .rule--drag-handler, .qb-lite .rule--header":{transition:"opacity 0.2s"},"& .qb-lite .rule:hover .rule .widget--valuesrc, .qb-lite .rule:hover .rule .rule--drag-handler, .qb-lite .rule:hover .rule .rule--header,\n.qb-lite .rule:not(:hover) .widget--valuesrc,\n.qb-lite .rule:not(:hover) .rule--drag-handler,\n.qb-lite .rule:not(:hover) .rule--header":{opacity:0},"& .qb-lite.qb-dragging .widget--valuesrc, .qb-lite.qb-dragging .rule--drag-handler, .qb-lite.qb-dragging .rule--header, .qb-lite.qb-dragging .group--drag-handler, .qb-lite.qb-dragging .group--actions":{opacity:"0 !important"},"& .qb-lite.qb-dragging .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite.qb-dragging .rule_group_ext--drag-handler":{width:"0 !important",padding:"0 !important",overflow:"hidden !important",opacity:"0 !important"},"& .group-or-rule-container":{marginTop:"10px",marginBottom:"10px",paddingRight:"10px"},"& .group-or-rule-container:first-child":{marginTop:"0px !important"},"& .group-or-rule-container:last-child":{marginBottom:"0px !important"},"& .rule--body.can--shrink--value":{display:"flex",alignItems:"center"},"& .rule--body.can--shrink--value .rule--value":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget":{display:"flex"},"& .rule--body.can--shrink--value .rule--value > .rule--widget .widget--widget":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget > .widget--valuesrc":{display:"flex",alignItems:"center"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon":{height:"100%"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon svg":{height:"100%"},"& .svg-inline--fa":{pointerEvents:"none"},"& .MuiFormControl-root fieldset legend":{fontSize:0,padding:0,width:0},"& .MuiFormControl-root .MuiSelect-select":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-inputRoot":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-endAdornment":{top:5},"& .MuiFormControl-root .MuiSelect-icon":{top:7},"& .MuiOutlinedInput-input":{padding:"17.5px 14px"},"& .MuiAutocomplete-root":{width:"300px !important",minWidth:"300px !important"},"& .rule--widget--CURRENTDATETIME .widget--valuesrc":{display:"none"}},radio:{position:"relative",top:4}}))),ai=({setValue:e,value:t,withCurrentDate:r=!1,withTime:n=!1,currentDateString:a})=>{const{formatMessage:o}=xe(),l=ni(),[c,u]=(0,i.useState)(t===a?"current":"default");return r?s().createElement(d.Box,{position:"relative",top:4},s().createElement(d.RadioGroup,{value:c,onChange:t=>{const r=t.target.value;u(r),e("current"===r&&a?a:"")}},s().createElement(d.FormControlLabel,{value:"default",control:s().createElement(d.Radio,{className:l.radio}),label:s().createElement(d.Box,{display:"inline-block"},s().createElement(ri,{setValue:e,dateValue:"current"!==c?t:void 0,withTime:n,disabled:"default"!==c}))}),s().createElement(d.FormControlLabel,{value:"current",control:s().createElement(d.Radio,{className:l.radio}),label:s().createElement(d.Box,{position:"relative",display:"inline-block",top:5},o(n?ei.currentDateTime:ei.currentDate))}))):s().createElement(ri,{setValue:e,dateValue:t||void 0,withTime:n})};function oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ii=(e,t)=>{const{formatMessage:r}=xe();return(0,i.useMemo)((()=>li(li({},Yl()),{},{conjunctions:li(li({},Yl().conjunctions),{},{AND:li(li({},Yl().conjunctions.AND),{},{label:"And"}),OR:li(li({},Yl().conjunctions.OR),{},{label:"Or"})}),operators:li(li({},Yl().operators),{},{like:li(li({},Yl().operators.like),{},{label:r(ei.contains)}),not_like:li(li({},Yl().operators.not_like),{},{label:r(ei.notLike)}),starts_with:li(li({},Yl().operators.starts_with),{},{label:r(ei.startsWith)}),ends_with:li(li({},Yl().operators.ends_with),{},{label:r(ei.endsWith)}),between:li(li({},Yl().operators.between),{},{label:r(ei.between)}),not_between:li(li({},Yl().operators.not_between),{},{label:r(ei.notBetween)}),is_empty:li(li({},Yl().operators.is_empty),{},{label:r(ei.isEmpty)}),is_not_empty:li(li({},Yl().operators.is_not_empty),{},{label:r(ei.isNotEmpty)}),is_null:li(li({},Yl().operators.is_null),{},{label:r(ei.isNull)}),is_not_null:li(li({},Yl().operators.is_not_null),{},{label:r(ei.isNotNull)}),select_any_in:li(li({},Yl().operators.select_any_in),{},{label:r(ei.anyIn)}),select_not_any_in:li(li({},Yl().operators.select_not_any_in),{},{label:r(ei.notAnyIn)}),multiselect_equals:li(li({},Yl().operators.multiselect_equals),{},{label:r(ei.equals)}),multiselect_not_equals:li(li({},Yl().operators.multiselect_not_equals),{},{label:r(ei.notEquals)}),proximity:li(li({},Yl().operators.proximity),{},{label:r(ei.proximity),valueLabels:[{label:r(ei.proximityValueLabel1),placeholder:r(ei.proximityValuePLaceholder1)},{label:r(ei.proximityValueLabel2),placeholder:r(ei.proximityValuePLaceholder2)}],options:li(li({},Yl().operators.proximity.options),{},{optionLabel:r(ei.proximityOptionsLabel),optionTextBefore:r(ei.proximityOptionsLabel),optionPlaceholder:r(ei.proximityOptionsPlaceholder)})}),some:li(li({},Yl().operators.some),{},{label:r(ei.some)}),all:li(li({},Yl().operators.all),{},{label:r(ei.all)}),none:li(li({},Yl().operators.none),{},{label:r(ei.none)})}),widgets:li(li({},Yl().widgets),{},{text:li(li({},Yl().widgets.text),{},{valueLabel:r(ei.textLabel),valuePlaceholder:r(ei.textPlaceholder)}),textarea:li(li({},Yl().widgets.textarea),{},{valueLabel:r(ei.texareaLabel),valuePlaceholder:r(ei.textareaPlaceholder)}),number:li(li({},Yl().widgets.number),{},{valueLabel:r(ei.numberLabel),valuePlaceholder:r(ei.numberPlaceholder),valueLabels:[{label:r(ei.numberFromLabel),placeholder:r(ei.numberFromPlaceholder)},{label:r(ei.numberToLabel),placeholder:r(ei.numberToPlaceholder)}]}),slider:li(li({},Yl().widgets.slider),{},{valueLabel:r(ei.numberLabel),valuePlaceholder:r(ei.sliderPlaceholder)}),select:li(li({},Yl().widgets.select),{},{valueLabel:r(ei.value),valuePlaceholder:r(ei.selectValue)}),multiselect:li(li({},Yl().widgets.multiselect),{},{valueLabel:r(ei.values),valuePlaceholder:r(ei.selectValues)}),date:li(li({},Yl().widgets.date),{},{factory:({setValue:e,value:t})=>s().createElement(ai,{setValue:e,value:t}),dateFormat:"DD.MM.YYYY",valueFormat:ti,valueLabel:r(ei.date),valuePlaceholder:r(ei.datePlaceholder),valueLabels:[{label:r(ei.dateFrom),placeholder:r(ei.dateFromPlaceholder)},{label:r(ei.dateTo),placeholder:r(ei.dateToPlaceholder)}]}),currentDate:li(li({},Yl().widgets.text),{},{factory:({setValue:t,value:r})=>s().createElement(ai,{setValue:t,value:r,withCurrentDate:!0,currentDateString:e}),valueLabel:r(ei.date),valuePlaceholder:r(ei.datePlaceholder)}),currentDatetime:li(li({},Yl().widgets.text),{},{factory:({setValue:e,value:r})=>s().createElement(ai,{setValue:e,value:r,withCurrentDate:!0,withTime:!0,currentDateString:t}),valueLabel:r(ei.date),valuePlaceholder:r(ei.datePlaceholder)}),time:li(li({},Yl().widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss",valueLabel:r(ei.time),valuePlaceholder:r(ei.timePlaceholder),valueLabels:[{label:r(ei.timeFrom),placeholder:r(ei.timeFromPlaceholder)},{label:r(ei.timeTo),placeholder:r(ei.timeToPlaceholder)}]}),datetime:li(li({},Yl().widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",factory:({setValue:e,value:t})=>s().createElement(ai,{setValue:e,value:t,withTime:!0}),valueLabel:r(ei.datetime),valuePlaceholder:r(ei.datetimePlaceholder),valueLabels:[{label:r(ei.datetimeFrom),placeholder:r(ei.datetimeFromPlaceholder)},{label:r(ei.datetimeTo),placeholder:r(ei.datetimeToPlaceholder)}]}),boolean:li(li({},Yl().widgets.boolean),{},{labelYes:r(ei.yes),labelNo:r(ei.no)}),field:li(li({},Yl().widgets.field),{},{valueLabel:r(ei.fieldCompare),valuePlaceholder:r(ei.fieldPlaceholder)}),func:li(li({},Yl().widgets.func),{},{valueLabel:r(ei.function),valuePlaceholder:r(ei.selectFunction)}),rangeslider:li(li({},Yl().widgets.rangeslider),{},{valueLabel:r(ei.function),valuePlaceholder:r(ei.selectFunction),valueLabels:[{label:r(ei.rangeFrom),placeholder:r(ei.rangeFromPlaceholder)},{label:r(ei.rangeTo),placeholder:r(ei.rangeToPlaceholder)}]})}),types:li(li({},Yl().types),{},{"!group":li(li({},Yl().types["!group"]),{},{widgets:li(li({},Yl().types["!group"].widgets),{},{number:li(li({},Yl().types["!group"].widgets.number),{},{opProps:{equal:{label:r(ei.countEqual)},not_equal:{label:r(ei.countNotEqual)},less:{label:r(ei.countLess)},less_or_equal:{label:r(ei.countLessOrEqual)},greater:{label:r(ei.countGreater)},greater_or_equal:{label:r(ei.countGreaterOrEqual)},between:{label:r(ei.countBetween)},not_between:{label:r(ei.countNotBetween)}}})})}),currentDate:{defaultOperator:"equal",mainWidget:"currentDate",widgets:{currentDate:{operators:["equal","not_equal","greater_or_equal","less_or_equal"],widgetProps:{},opProps:{}}}},currentDatetime:{defaultOperator:"equal",mainWidget:"currentDatetime",widgets:{currentDatetime:{operators:["equal","not_equal","greater_or_equal","less_or_equal"],widgetProps:{},opProps:{}}}}}),settings:li(li({},Yl().settings),{},{valueSourcesInfo:li(li({},Yl().settings.valueSourcesInfo),{},{value:{label:r(ei.value)},field:{label:r(ei.field),widget:"field"},func:{label:r(ei.function),widget:"func"}}),locale:li(li({},Yl().settings.locale),{},{moment:rl().locale()}),valueLabel:r(ei.value),valuePlaceholder:r(ei.value),fieldLabel:r(ei.field),operatorLabel:r(ei.operator),funcLabel:r(ei.function),fieldPlaceholder:r(ei.selectField),funcPlaceholder:r(ei.selectFunction),operatorPlaceholder:r(ei.selectOperator),lockLabel:r(ei.lock),lockedLabel:r(ei.locked),addGroupLabel:r(ei.addGroup),addCaseLabel:r(ei.addCondition),addDefaultCaseLabel:r(ei.addDefaultCase),defaultCaseLabel:r(ei.defaultCase),addRuleLabel:r(ei.addRule),addSubRuleLabel:r(ei.addSubRule),valueSourcesPopupTitle:r(ei.valueSourcesPopupTitle)})})),[r])};function si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?si(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ui={id:Ul.Utils.uuid(),type:"group"},di=({logic:e,fields:t,onChange:r,currentDateString:n,currentDateTimeString:a})=>{const o=ii(n,a),l=(0,i.useMemo)((()=>ci(ci({},o),{},{fields:t})),[t,o]),[c,u]=(0,i.useState)(Ul.Utils.checkTree(Ul.Utils.loadFromJsonLogic(e,l)||Ul.Utils.loadTree(ui),l)),d=(0,i.useCallback)(((e,t)=>{u(e),r(Ul.Utils.jsonLogicFormat(e,t))}),[r]),p=ni();return s().createElement("section",{className:p.root},s().createElement(Ul.Query,ci(ci({},l),{},{value:c,onChange:d,renderBuilder:e=>s().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},s().createElement("div",{className:"query-builder qb-lite"},s().createElement(Ul.Builder,ci({},e))))})))},pi=(0,be.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"}}),mi=(0,d.makeStyles)((e=>({input:{display:"flex",alignItems:"center",border:`1px solid ${e.palette.border.main}`,paddingTop:12,paddingBottom:12,paddingRight:e.spacing(2),paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,minHeight:54,cursor:"pointer","&:hover":{borderColor:e.palette.border.hover}},fixedHeightValue:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"92%"},value:{paddingRight:"8%"},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main},clear:{position:"absolute",right:e.spacing(2),top:"50%",transform:"translateY(-50%)"}}))),gi=({value:e,onClick:t,dataTestId:r,errors:n,required:a,label:o,onClear:l,fixedHeight:i=!0})=>{const c=mi();return s().createElement(d.Box,{mt:2},s().createElement(ar,{errors:n},s().createElement(d.InputLabel,{shrink:Boolean(e),required:a,className:c.inputLabel},o),s().createElement(d.Box,{className:c.input,onClick:t,"data-test":r},s().createElement(d.Typography,{className:b()(i&&c.fixedHeightValue,!i&&c.value),component:"span"},e)),e&&""!==e&&s().createElement(d.Box,{className:c.clear},s().createElement(Nt,{size:"small",onClick:l,icon:"clear",tooltipMessage:pi.clear}))))},bi=(0,Ce.makeStyles)((e=>({textArea:{width:"100%",minWidth:"100%",minHeight:"100px",padding:e.spacing(2),outline:"none"},textAreaError:{borderColor:`${e.palette.error.main} !important`}}))),fi=({initialLogic:e,changeLogic:t})=>{const{formatMessage:r}=xe(),n=bi(),[a,o]=(0,i.useState)(JSON.stringify(e)),[l,c]=(0,i.useState)([]);return s().createElement(d.Box,{mt:2,mb:-2},s().createElement(ar,{errors:l},s().createElement("textarea",{className:b()(n.textArea,l.length>0&&n.textAreaError),onChange:e=>{const{value:t}=e.target;o(t);try{JSON.parse(t),c([])}catch(e){c([r(ei.invalidJson)])}},value:a})),s().createElement(d.Box,{mt:2,display:"flex",justifyContent:"flex-end"},s().createElement(d.Button,{disabled:!a||l.length>0||a===JSON.stringify(e),onClick:()=>a&&t(JSON.parse(a)),color:"primary","data-test":"apply-button"},r(ei.apply))))},hi=Go((({label:e,closeDialog:t,isOpen:r,id:n,dataTestId:a,initialLogic:o,fields:l,onChange:c,InfoPopper:u})=>{const{formatMessage:p}=xe(),m=(0,d.useTheme)(),[g,b]=(0,i.useState)(o),[f,h]=(0,i.useState)("query");return s().createElement(Vo,{allowConfirm:!0,titleMessage:e,onConfirm:()=>{t(),c(g)},onCancel:()=>{t()},maxWidth:"md",cancelMessage:ei.cancel,confirmMessage:ei.confirm,open:r,closeDialog:t,dataTestId:a||"",id:n||"",onClose:()=>null},s().createElement(d.Box,{position:"relative"},u&&s().createElement(d.Box,{position:"absolute",top:m.spacing(-7),right:m.spacing(-3)},u),s().createElement(d.Tabs,{value:f,onChange:(e,t)=>{h(t)}},s().createElement(d.Tab,{value:"query",label:p(ei.queryTab)}),s().createElement(d.Tab,{value:"json",label:p(ei.jsonTab)})),"query"===f&&s().createElement(d.Box,{mt:2},s().createElement(di,{logic:g,fields:l,onChange:e=>{b(null==e?void 0:e.logic)}})),"json"===f&&s().createElement(fi,{initialLogic:g,changeLogic:e=>b(e)})))}),(({label:e,value:t,onClick:r,dataTestId:n,onClear:a})=>{const{formatMessage:o}=xe();return s().createElement(gi,{onClick:r,value:t,dataTestId:`open-query-builder-${n||"default"}`,label:o(e),onClear:a,fixedHeight:!1})})),yi=require("lodash/isEmpty");var Oi=e.n(yi);function vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ei={id:Ul.Utils.uuid(),type:"group"},xi=(e,t)=>{var r;return(null===(r=t.find((t=>t.items.some((t=>` ${t} `===e)))))||void 0===r?void 0:r.color)||"inherit"},Pi=(e,t)=>{const r=ii(),n=(0,i.useCallback)((n=>{if(Oi()(e)||!n)return"";const a=wi(wi({},r),{},{fields:e}),o=Ul.Utils.checkTree(Ul.Utils.loadFromJsonLogic(n,a)||Ul.Utils.loadTree(Ei),a),l=(e=>{let t="";return t=e?JSON.stringify(e,void 0,2):"",t=t.substring(1,t.length-1),"("===t.charAt(0)&&")"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t})(Ul.Utils.queryString(o,a,!0));return t&&l?((e,t)=>{const r=t.flatMap((e=>e.items.map((e=>`\\s${e}\\s`)))),n=new RegExp(`(${r.join("|")})`,"g");return e.split(n).map(((e,r)=>r%2==0?s().createElement(i.Fragment,{key:r},e):s().createElement("span",{style:{color:xi(`${e}`,t)},key:r},e)))})(l,t):l}),[e,t,r]);return n},Ci=require("@dnd-kit/core"),qi=require("@dnd-kit/sortable"),ji=require("@dnd-kit/modifiers"),ki=require("@dnd-kit/utilities");function Si(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Si(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Mi=(0,Ce.makeStyles)((e=>({item:{padding:e.spacing(1),backgroundColor:"white",border:`1px solid ${e.palette.grey[200]}`,borderRadius:5,marginBottom:e.spacing(1)},lastItem:{marginBottom:e.spacing(0)}}))),Ii=({id:e,handle:t,children:r,isLast:n=!1})=>{const a=Mi(),{attributes:o,listeners:l,setNodeRef:i,transform:c,transition:u}=(0,qi.useSortable)({id:e}),d={transform:ki.CSS.Transform.toString(c),transition:u},p=Ti(Ti({},o),l),m=t?void 0:p;return s().createElement("li",Ti({ref:i,style:d,className:b()(a.item,n&&a.lastItem)},m),r(t?p:void 0))},Di=(0,be.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),Bi=(0,Ce.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center",backgroundColor:e.palette.gray.background}}))),Ri=()=>{const{formatMessage:e}=xe(),t=Bi();return s().createElement(d.Box,{className:t.root},e(Di.noResult))},Li=(0,Ce.makeStyles)((e=>({list:{padding:e.spacing(1),margin:0,listStyleType:"none",backgroundColor:e.palette.gray.background},draggablelist:{padding:e.spacing(0),margin:0,listStyleType:"none"},draggableItem:{padding:e.spacing(1),backgroundColor:e.palette.grey[200],border:`1px solid ${e.palette.grey[400]}`,borderRadius:5,boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"}}))),Ni=e=>{const{items:t,onChange:r,handle:n=!1,disabled:a,RenderItem:o}=e,[l,c]=(0,i.useState)(),u=Li(),d=(0,Ci.useSensors)((0,Ci.useSensor)(Ci.PointerSensor),(0,Ci.useSensor)(Ci.KeyboardSensor,{coordinateGetter:qi.sortableKeyboardCoordinates})),p=(0,i.useCallback)((e=>{c(void 0);const{active:n,over:a}=e;if(a&&n.id!==(null==a?void 0:a.id)){const e=t.findIndex((e=>e.id===n.id)),o=t.findIndex((e=>e.id===a.id)),l=(0,qi.arrayMove)(t,e,o);r(l)}}),[t,r]);return s().createElement(s().Fragment,null,0===t.length&&s().createElement(Ri,null),t.length>0&&s().createElement(Ci.DndContext,{sensors:d,collisionDetection:Ci.closestCenter,onDragEnd:p,onDragStart:({active:e})=>{c(e)},modifiers:[ji.restrictToVerticalAxis]},s().createElement(qi.SortableContext,{disabled:a,items:t,strategy:qi.verticalListSortingStrategy},s().createElement("ul",{className:u.list},t.map(((e,r)=>s().createElement(Ii,{handle:n,key:e.id,id:e.id,isLast:r+1===t.length},(t=>s().createElement(o,{item:e,index:r,handleProps:t}))))))),s().createElement(Ci.DragOverlay,null,s().createElement("ul",{className:u.draggablelist},s().createElement("li",{className:u.draggableItem},s().createElement(o,{item:l,index:-1}))))))},Ai=require("@material-ui/icons/DragIndicator");var Fi=e.n(Ai);function zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _i=(0,Ce.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20}}))),Hi=e=>{const t=_i(),{attributes:r,listeners:n,setNodeRef:a,transform:o,transition:l}=(0,qi.useSortable)({id:e.id}),i={transform:ki.CSS.Transform.toString(o),transition:l};return s().createElement(d.TableRow,{ref:a,style:i},s().createElement(d.TableCell,{align:"center",className:t.sortCell},s().createElement(d.IconButton,Vi(Vi({size:"small",component:"span",disableRipple:!0},r),n),s().createElement(Fi(),null))),e.children)},$i=({columns:e,item:t})=>s().createElement(s().Fragment,null,e.map((e=>{const r=t[e.accessor];return e.Cell?s().createElement(d.TableCell,{key:e.accessor,align:"center"},s().createElement(s().Fragment,null,e.Cell({value:r}))):s().createElement(d.TableCell,{key:e.accessor,align:"center"},s().createElement(s().Fragment,null,r))}))),Gi=(0,Ce.makeStyles)((e=>({sortCell:{padding:e.spacing(1),width:20},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},hiddenRow:{visibility:"collapse"}}))),Wi=({columns:e,hidden:t})=>{const r=Gi();return s().createElement(d.TableHead,null,s().createElement(d.TableRow,{className:b()(t&&r.hiddenRow)},s().createElement(d.TableCell,{className:b()(r.headerCell,r.sortCell)}),e.map(((t,n)=>s().createElement(d.TableCell,{key:t.accessor,className:b()(r.headerCell,n+1===e.length&&r.lastHeaderCell)},t.Header)))))},Ui=(0,Ce.makeStyles)((e=>({draggableRow:{backgroundColor:e.palette.grey[200],boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"},hiddenRow:{visibility:"collapse"},sortCell:{padding:e.spacing(1),width:20}}))),Ki=({items:e,activeItem:t,columns:r})=>{const n=Ui();return s().createElement(d.Table,{size:"small"},s().createElement(Wi,{columns:r,hidden:!0}),s().createElement(d.TableBody,null,e.map((e=>s().createElement(d.TableRow,{key:e.id,className:b()(n.draggableRow,(null==t?void 0:t.id)!==e.id&&n.hiddenRow)},s().createElement(d.TableCell,{align:"center",className:n.sortCell},s().createElement(d.Box,{px:"3px",py:"6px"},s().createElement(Fi(),null))),s().createElement($i,{columns:r,item:e}))))))},Yi=(0,be.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),Ji=(0,Ce.makeStyles)((e=>({root:{padding:e.spacing(2),textAlign:"center"},cell:{padding:"0 !important"}}))),Zi=({colSpan:e})=>{const{formatMessage:t}=xe(),r=Ji();return s().createElement(d.TableRow,null,s().createElement(d.TableCell,{colSpan:e,className:r.cell},s().createElement(d.Box,{className:r.root},t(Yi.noResult))))},Qi=(0,Ce.makeStyles)((e=>({table:{"& tr":{backgroundColor:"rgba(244,244,244,1)"},"& tr:nth-of-type(even)":{backgroundColor:"white"}},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortCell:{padding:e.spacing(1),width:20}}))),Xi=e=>{const{items:t,onChange:r,disabled:n,columns:a}=e,[o,l]=(0,i.useState)(),c=Qi(),u=(0,Ci.useSensors)((0,Ci.useSensor)(Ci.PointerSensor),(0,Ci.useSensor)(Ci.KeyboardSensor,{coordinateGetter:qi.sortableKeyboardCoordinates})),p=(0,i.useCallback)((e=>{l(void 0);const{active:n,over:a}=e;if(a&&n.id!==(null==a?void 0:a.id)){const e=t.findIndex((e=>e.id===n.id)),o=t.findIndex((e=>e.id===a.id)),l=(0,qi.arrayMove)(t,e,o);r(l)}}),[t,r]);return s().createElement(Ci.DndContext,{sensors:u,collisionDetection:Ci.closestCenter,onDragEnd:p,onDragStart:({active:e})=>{l(e)},modifiers:[ji.restrictToVerticalAxis]},s().createElement(qi.SortableContext,{disabled:n,items:t,strategy:qi.verticalListSortingStrategy},s().createElement(d.Table,{size:"small",className:c.table},s().createElement(Wi,{columns:a}),s().createElement(d.TableBody,null,0===t.length&&s().createElement(Zi,{colSpan:a.length+1}),t.map((e=>s().createElement(Hi,{key:e.id,id:e.id},s().createElement($i,{columns:a,item:e}))))))),s().createElement(Ci.DragOverlay,null,s().createElement(Ki,{activeItem:o,columns:a,items:t})))};function es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ts(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?es(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const rs=(e,t)=>e.map((e=>"object"==typeof e.label&&"id"in e.label?ts(ts({},e),{},{label:t(e.label)}):e)),ns=e=>{const{formatMessage:t}=xe();return rs(e,t)},as=e=>rl().unix(e).format("LTS");function os(e,t="/charts"){return Object.keys(e).forEach((r=>{const n=e[r];null!=n&&""!==n&&(t+=`/${r}/${n}`)})),t}return t})()));
>>>>>>> main
//# sourceMappingURL=index.js.map