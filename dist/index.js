!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bluesquare-components",[],t):"object"==typeof exports?exports["bluesquare-components"]=t():e["bluesquare-components"]=t()}(self,(()=>(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.d(t,{default:()=>ml});var r={};e.r(r),e.d(r,{chipColors:()=>W,getChipColors:()=>J,getOtChipColors:()=>Q,otChipColors:()=>Y});var n={};e.r(n),e.d(n,{buttonReloadMessageKey:()=>re,error:()=>ae,formErrorMessageKey:()=>ee,formSuccessFullMessageKey:()=>X,formWarningMessageKey:()=>te,reloadPage:()=>ie,reloadPageMessageKey:()=>ne,success:()=>oe,warning:()=>le});var o={};e.r(o),e.d(o,{MENU_HEIGHT_WITHOUT_TABS:()=>ue,MENU_HEIGHT_WITH_TABS:()=>ce,SIDEBAR_WIDTH:()=>se,textPlaceholder:()=>pe});var a={};e.r(a),e.d(a,{AddButton:()=>ze,AddComment:()=>ha,ArrayFieldInput:()=>mr,BlockPlaceholder:()=>tn,Checkbox:()=>gr,ColumnsSelectDrawer:()=>gn,CommentWithThread:()=>Ca,CsvSvg:()=>j,DHIS2Svg:()=>T,DatePicker:()=>nr,DynamicSelect:()=>La,DynamicTabs:()=>Jt,EnrichedTreeItem:()=>Ua,ErrorBoundary:()=>Xr,ExcellSvg:()=>I,Expander:()=>sa,ExportButton:()=>Ke,FormControl:()=>yr,HeaderRowIcon:()=>fn,IasoChipColors:()=>r,IasoTreeView:()=>Wa,IasoUiConstants:()=>o,IconButton:()=>Bt,InfoHeader:()=>Pn,InputLabel:()=>Pr,LinkContext:()=>Tt,LinkProvider:()=>kt,LoadingSpinner:()=>h,MENU_HEIGHT_WITHOUT_TABS:()=>ue,MENU_HEIGHT_WITH_TABS:()=>ce,NumberInput:()=>jr,OrgUnitSvg:()=>D,PageRowSelect:()=>Zo,PasswordInput:()=>Tr,PdfSvg:()=>B,Radio:()=>kr,SIDEBAR_WIDTH:()=>se,SearchInput:()=>Rr,Select:()=>Yr,SelectionSpeedDials:()=>Tn,ShapeSvg:()=>z,SingleComment:()=>Ea,SnackBar:()=>n,Table:()=>na,TextInput:()=>Qr,TextSvg:()=>H,TreeViewResultsCountSelect:()=>Da,TreeViewWithSearch:()=>Ya,TruncatedTreeview:()=>ol,WordSvg:()=>_,XmlSvg:()=>Z,addPositionIndex:()=>_t,capitalize:()=>Ht,clone:()=>zt,commonStyles:()=>Re,createUrl:()=>dl,deepEqual:()=>Ft,defaultSelectionActions:()=>Kn,displayDateFromTimestamp:()=>pl,english:()=>al,formatThousand:()=>$t,french:()=>ll,getColumnsHeadersInfos:()=>Qn,getOrderArray:()=>Gn,getParamsKey:()=>Wn,getSimplifiedColumns:()=>_n,getSort:()=>$n,getTableParams:()=>Jn,getTableUrl:()=>Hn,injectIntl:()=>we,mapPopupStyles:()=>De,mapStyles:()=>Se,patchIntl:()=>he,rawTheme:()=>Ce,removePositionIndex:()=>Kt,renderTags:()=>Fr,selectionInitialState:()=>Un,setTableSelection:()=>Zn,substituteVars:()=>Vt,tableInitialResult:()=>Yn,testTS:()=>Te,textPlaceholder:()=>pe,theme:()=>xe,translateOptions:()=>cl,truncateText:()=>Gt,useKeyPressListener:()=>Wr,useLink:()=>St,useSafeIntl:()=>Pe,useSkipEffectOnMount:()=>Ee,useTranslatedOptions:()=>ul,withLink:()=>It});const l=require("react");var i=e.n(l);const s=require("@material-ui/core/CircularProgress");var c=e.n(s);const u=require("@material-ui/core"),p=require("prop-types");var d=e.n(p);const m=require("classnames");var g=e.n(m);const b={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.4)",top:0,left:0},f=e=>{const{classes:t,size:r,transparent:n,fixed:o,absolute:a,padding:l}=e;return i().createElement("div",{style:{padding:l},className:g()(o&&!a&&t.rootFixed,a&&t.rootAbsolute,!o&&!a&&t.root,n&&t.rootTransparent)},i().createElement(c(),{size:r}))};f.defaultProps={size:40,transparent:!1,fixed:!0,absolute:!1,padding:0},f.propTypes={size:d().number,transparent:d().bool,fixed:d().bool,absolute:d().bool,padding:d().number,classes:d().object.isRequired};const h=(0,u.withStyles)((()=>({rootFixed:Object.assign(Object.assign({},b),{position:"fixed",zIndex:"1000"}),rootAbsolute:Object.assign(Object.assign({},b),{position:"absolute",zIndex:"500"}),root:Object.assign(Object.assign({},b),{position:"relative",zIndex:"1"}),rootTransparent:{backgroundColor:"transparent"}})))(f),y=require("@babel/runtime/helpers/defineProperty");var O=e.n(y);const v=require("@material-ui/core/SvgIcon");var w=e.n(v);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e){const t=E(E({},e),{},{viewBox:"-7 -3 40 40"});return i().createElement(w(),t,i().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),i().createElement("g",null,i().createElement("path",{d:"M15.00336,19.0177a1.22617,1.22617,0,0,1,.42463-.23654,1.59576,1.59576,0,0,1,.48321-.07382,1.848,1.848,0,0,1,1.435.63421l.96642-1.16047a2.7286,2.7286,0,0,0-1.04652-.69533A3.96626,3.96626,0,0,0,15.85349,17.25a3.50467,3.50467,0,0,0-1.06891.16828,2.76253,2.76253,0,0,0-.94488.51991,2.61976,2.61976,0,0,0-.67357.88345,2.92663,2.92663,0,0,0-.25667,1.27557,2.76842,2.76842,0,0,0,.168,1.01839,2.42228,2.42228,0,0,0,.45393.74216,2.97378,2.97378,0,0,0,.65892.5469,6.79238,6.79238,0,0,0,.79845.41831,5.06844,5.06844,0,0,1,1.11285.6747,1.21326,1.21326,0,0,1,.43928.98505,1.301,1.301,0,0,1-.36607.98505,1.27774,1.27774,0,0,1-.92249.35085,2.34342,2.34342,0,0,1-.97417-.2159A2.40505,2.40505,0,0,1,13.465,25.009l-.95178,1.18746a3.36245,3.36245,0,0,0,1.17142.78265,4.04267,4.04267,0,0,0,1.59605.31036,3.43456,3.43456,0,0,0,1.14213-.18892,2.68383,2.68383,0,0,0,.94488-.56039,2.73792,2.73792,0,0,0,.64428-.91044,3.01091,3.01091,0,0,0,.242-1.24144,2.49319,2.49319,0,0,0-.205-1.05252,2.66131,2.66131,0,0,0-.52713-.76915,3.45085,3.45085,0,0,0-.71749-.55325q-.39536-.2298-.77607-.40482a4.64417,4.64417,0,0,1-1.03963-.62786,1.15284,1.15284,0,0,1-.39535-.93743,1.51791,1.51791,0,0,1,.11025-.60722A1.11837,1.11837,0,0,1,15.00336,19.0177Z",transform:"translate(-3.021)"}),i().createElement("path",{d:"M7.90166,19.78685a2.21091,2.21091,0,0,1,.65892-.74931,1.57,1.57,0,0,1,.92249-.27622,1.85887,1.85887,0,0,1,1.55212.79613L12.04554,18.424a2.7775,2.7775,0,0,0-1.0982-.87075A3.78071,3.78071,0,0,0,9.38057,17.25a3.35465,3.35465,0,0,0-1.57452.37069,3.54422,3.54422,0,0,0-1.20845,1.039A4.98612,4.98612,0,0,0,5.82929,20.252a7.6351,7.6351,0,0,0,0,4.02832,5.06146,5.06146,0,0,0,.76142,1.58514,3.527,3.527,0,0,0,1.2007,1.04617,3.33459,3.33459,0,0,0,1.58916.37783,3.28915,3.28915,0,0,0,1.60294-.35084A3.14362,3.14362,0,0,0,12.03,26.021l-1.01034-1.093a2.286,2.286,0,0,1-.62189.59373,1.58619,1.58619,0,0,1-.88545.24289,1.6258,1.6258,0,0,1-.94488-.277,2.17538,2.17538,0,0,1-.66667-.74851,3.85061,3.85061,0,0,1-.39535-1.11364,6.71546,6.71546,0,0,1-.13179-1.35574,6.80205,6.80205,0,0,1,.13179-1.37A3.90579,3.90579,0,0,1,7.90166,19.78685Z",transform:"translate(-3.021)"}),i().createElement("polygon",{points:"19.377 25.157 19.333 25.157 17.605 17.493 15.643 17.493 18.176 27.047 20.402 27.047 22.979 17.493 21.105 17.493 19.377 25.157"})))}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){const t=x(x({},e),{},{viewBox:"0 0 200 182"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M191.73,60,109,6.34a19.73,19.73,0,0,0-20.32,0L8.31,58.43a12,12,0,0,0-.25,20.63L88.6,134a19.37,19.37,0,0,0,20.37.25l82.76-53.65a11.88,11.88,0,0,0,0-20.59Zm-91,61.45a4.29,4.29,0,0,1-3.49-.05l-77-52.49L97,19.13a4.76,4.76,0,0,1,3.74,0L179.6,70.28Z"}),i().createElement("path",{d:"M88.66,47.82,45.1,76.06l13.61,9.33L97,60.61a4.76,4.76,0,0,1,3.74,0l39.37,25.52,14-9.06L109,47.82A19.76,19.76,0,0,0,88.66,47.82Z"}),i().createElement("path",{d:"M191.73,101.46l-8.62-5.59-14.05,9.06,10.53,6.83-78.91,51.15a4.37,4.37,0,0,1-3.49,0l-77-52.5,10-6.47L16.55,94.57,8.31,99.91a12,12,0,0,0-.25,20.63L88.6,175.46a19.34,19.34,0,0,0,20.37.24l82.75-53.65a11.88,11.88,0,0,0,0-20.59Z"})))}function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){const t=S(S({},e),{},{viewBox:"-7 -3 40 40"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M11.15,0L3.011,8.592v22.834h25.403V0H11.15z M10.434,3.613v3.808H6.826L10.434,3.613z M26.449,29.462H4.977V9.385h7.421 V1.964h14.053v27.498H26.449z"}),i().createElement("path",{d:"M15.004,14.766h0.491v-1.768H9.444v1.768h0.737c0.202,0,0.402,0.055,0.617,0.168c0.203,0.107,0.396,0.306,0.572,0.585 l2.919,4.738l-2.939,4.21c-0.16,0.229-0.306,0.421-0.438,0.576c-0.113,0.133-0.228,0.242-0.337,0.321 c-0.098,0.07-0.198,0.119-0.307,0.148c-0.127,0.034-0.282,0.051-0.462,0.051H9.198v1.769h5.438v-1.276l-0.055-0.49H14.09 c-0.449,0-0.643-0.057-0.724-0.094c0-0.053,0.01-0.115,0.028-0.186c0.024-0.088,0.055-0.176,0.095-0.264 c0.043-0.097,0.087-0.188,0.138-0.279c0.046-0.084,0.091-0.159,0.139-0.229l1.65-2.44l1.769,2.843 c0.068,0.114,0.123,0.209,0.159,0.289c0.036,0.077,0.05,0.121,0.054,0.139l0.013,0.108c0,0-0.112,0.113-0.625,0.113h-0.592v1.768 h6.033v-1.768h-0.729c-0.144,0-0.3-0.052-0.464-0.151c-0.133-0.08-0.35-0.259-0.616-0.613l-3.272-5.259l2.529-3.646 c0.164-0.238,0.314-0.437,0.452-0.594c0.125-0.142,0.246-0.26,0.362-0.349c0.092-0.069,0.182-0.116,0.272-0.142 c0.104-0.03,0.226-0.045,0.361-0.045h0.655v-1.768h-5.074v1.277l0.055,0.491h0.491c0.125,0,0.237,0.006,0.341,0.02 c0.091,0.011,0.145,0.029,0.173,0.029h0.001c0,0.1-0.027,0.213-0.085,0.336c-0.075,0.168-0.176,0.346-0.301,0.535l-1.349,2.051 l-1.287-2.08c-0.095-0.15-0.17-0.276-0.222-0.375c-0.047-0.09-0.083-0.168-0.107-0.231c-0.017-0.046-0.029-0.087-0.033-0.113 c-0.006-0.039-0.009-0.08-0.031-0.089c0.002-0.001,0.042-0.025,0.162-0.049C14.628,14.776,14.775,14.766,15.004,14.766z"})))}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){const t=R(R({},e),{},{viewBox:"0 0 85 85"});return i().createElement(w(),t,i().createElement("path",{d:"M17.518403,78.3591 C16.2139001,78.3570957 15.0595734,77.5172438 14.660803,76.28 L0.1493927,31.77603 C-0.249658449,30.5438778 0.191427305,29.1958057 1.242723,28.43453 L39.235803,0.93513 C40.2882476,0.175265921 41.7117584,0.175265921 42.764203,0.93513 L80.757302,28.43453 C81.8085865,29.1958138 82.2496596,30.5438843 81.850602,31.77603 L67.339202,76.28 C66.9404317,77.5172435 65.7861055,78.3570953 64.481603,78.3591 L17.518403,78.3591 L17.518403,78.3591 Z M19.705003,72.3692 L62.295003,72.3692 L75.464602,31.99883 L41.000003,7.07363 L6.535413,31.99883 L19.705003,72.3692 Z"}))}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){const t=L(L({},e),{},{viewBox:"-4 -3 40 40"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M13.2,12.3c0.2,1.8,0.3,5.1-1.1,7.8c-0.1,0.2-0.2,0.4-0.3,0.6c-2.3,0.7-4.8,2.1-5.2,3.6c-0.2,0.6,0,1.2,0.4,1.6 c0.4,0.5,1,0.7,1.6,0.7c1.4,0,2.9-1.4,4.6-4.2c0.6-0.1,4-0.6,4.7-0.6c2,2,3.6,3,4.9,3c0.8,0,1.5-0.4,1.9-1.1 c0.3-0.5,0.3-1.1,0-1.6c-0.8-1.5-4-2.1-5.9-2.2c-0.2-0.2-0.3-0.4-0.5-0.6c-2-2.2-2.8-5.5-3-7.2c0-0.4-0.1-0.7-0.1-1 c-0.1-0.9-0.7-1-1-1c-0.3,0-0.6,0.1-0.7,0.3c-0.3,0.3-0.3,0.7-0.2,1C13.1,11.7,13.1,12,13.2,12.3z M8.6,24.6 c0.2-0.2,0.6-0.5,1.1-0.8C9.2,24.3,8.8,24.5,8.6,24.6z M22.5,22.9c-0.2,0-0.5-0.1-1-0.4C22,22.6,22.3,22.7,22.5,22.9z M14.9,17.9 c0.4,0.7,0.8,1.4,1.2,2c-0.2,0-1.8,0.2-1.9,0.2C14.5,19.5,14.7,18.7,14.9,17.9z"}),i().createElement("path",{d:"M11.1,0L3,8.5v22.7h25.3V0H11.1z M10.4,3.6v3.8H6.8L10.4,3.6z M26.3,29.3H4.9v-20h7.4V2h14L26.3,29.3L26.3,29.3z"})))}function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e){const t=A(A({},e),{},{viewBox:"-5 -5 55 55"});return i().createElement(w(),t,i().createElement("path",{d:"M46,14V2H34V6H14V2H2V14H6V34H2V46H14V42H34v4H46V34H42V14ZM6,6h4v4H6Zm4,36H6V38h4Zm24-4H14V34H10V14h4V10H34v4h4V34H34Zm8,4H38V38h4ZM38,10V6h4v4Z"}))}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e){const t=V(V({},e),{},{viewBox:"-4 -3 40 40"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M11.2,0L3,8.6v22.9h25.5V0H11.2z M10.5,3.6v3.8H6.8L10.5,3.6z M26.5,29.5H5V9.4h7.4V2h14.1V29.5z"}),i().createElement("polygon",{points:"19.1,18.6 21,18.6 21,26.8 22.6,26.8 22.6,18.6 24.4,18.6 24.4,17.2 19.1,17.2 "}),i().createElement("polygon",{points:"7.1,18.6 9,18.6 9,26.8 10.6,26.8 10.6,18.6 12.4,18.6 12.4,17.2 7.1,17.2"}),i().createElement("polygon",{points:"18.9,17.2 17.2,17.2 15.8,20.5 14.3,17.2 12.6,17.2 14.8,21.8 12.4,26.8 14.1,26.8 15.7,23.1 17.3,26.8 19.1,26.8 16.7,21.8"})))}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e){const t=G(G({},e),{},{viewBox:"-7 -3 40 40"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),i().createElement("path",{d:"M13.5,15.211a1.02243,1.02243,0,0,1,.335.197,1.583,1.583,0,0,1,.278.351,4.63323,4.63323,0,0,1,.268.532l.62,1.764-1.68,4.828L11.214,16.88c-.135-.372-.235-.679-.296-.92a2.01149,2.01149,0,0,1-.085-.435.31193.31193,0,0,1,.127-.256.78111.78111,0,0,1,.506-.129h.59V14.061H6.701V15.14h.37a1.50644,1.50644,0,0,1,.688.125.85109.85109,0,0,1,.346.367c.039.072.158.363.502,1.32l3.794,10.6h.852l2.564-7.236,2.579,7.236h.891l3.564-10.303A10.633,10.633,0,0,1,23.4,15.78a1.97318,1.97318,0,0,1,.232-.336.927.927,0,0,1,.209-.179.81631.81631,0,0,1,.244-.095,1.82682,1.82682,0,0,1,.361-.032h.37V14.059H20.355v1.079h.368a2.06347,2.06347,0,0,1,.84.142.25379.25379,0,0,1,.169.271,5.512,5.512,0,0,1-.383,1.462l-2.028,5.868-2.035-5.779a5.26922,5.26922,0,0,1-.394-1.515.40192.40192,0,0,1,.115-.33c.046-.045.174-.117.508-.117h.7V14.061H12.62V15.14h.369A1.61981,1.61981,0,0,1,13.5,15.211Z",transform:"translate(-3.021)"})))}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e){const t=U(U({},e),{},{viewBox:"0 0 40 40"});return i().createElement(w(),t,i().createElement("g",null,i().createElement("path",{d:"M15.2,3L7,11.6v22.9h25.5V3H15.2z M14.5,6.6v3.8h-3.7L14.5,6.6z M30.5,32.5H9V12.4h7.4V5h14.1V32.5z"}),i().createElement("g",null,i().createElement("path",{d:"M12.4,28.1L10.7,31H9.4l2.4-4l-2.2-3.9h1.3l1.6,2.7l1.6-2.7h1.3L13,27l2.5,4h-1.3L12.4,28.1z"}),i().createElement("path",{d:"M16.4,23.1h1.1l2.2,5.2l2.2-5.2h1.1V31h-1.2v-4.9h0l-1.6,3.8h-1l-1.6-3.8h0V31h-1.2V23.1z"}),i().createElement("path",{d:"M25,23.1h1.2v6.8H30V31h-5V23.1z"}))))}const W=["#4dd0e1","#01579b","#607d8b","#ff7043","#e91e63","#9c27b0","#f44336","#2196f3","#009688"],J=(e,t=!1)=>{const r=t?W.reverse():W;return r[e%r.length]},Y=["#e91e63","#795548","#0277BD","#4CAF50","#607d8b","#ff7043","#01579b","#9E9D24","#9c27b0"],Q=e=>Y[e%Y.length],X="successful",ee="error",te="warning",re="reload",ne="reloadPage",oe=(e=X,t)=>({messageKey:e,messageObject:t,options:{variant:"success",persist:!1}}),ae=(e=ee,t,r)=>({messageKey:e,messageObject:t,options:{variant:"error",persist:Boolean(r)},errorLog:r,id:`${e}-${Date.now()}`}),le=(e=te,t,r)=>({messageKey:e,messageObject:t,options:{maxsnack:1,variant:"warning",persist:!0},id:r||e}),ie=(e=re,t=ne)=>({messageKey:t,type:"reload",options:{maxsnack:0,variant:"warning",persist:!0},buttonMessageKey:e,buttonAction:()=>window.location.reload(!0)}),se=350,ce=112,ue=65,pe="--",de=require("@babel/runtime/helpers/extends");var me=e.n(de);const ge=require("react-intl");function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const he=e=>fe(fe({},e),{},{formatMessage:(t,r)=>t&&t.id?e.formatMessage(t,r):(console.warn("Warning: Message object is not defined properly!",t),null)});function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ve=e=>{const t=Oe({},e),r=e.component,n=he((0,ge.useIntl)());return delete t.component,delete t.ref,i().createElement(r,me()({},t,{intl:n,forwardedRef:e.ref}))};ve.defaultProps={ref:void 0},ve.propTypes={component:d().any.isRequired,ref:d().object};const we=e=>i().forwardRef(((t,r)=>{const n=Oe(Oe({},t),{},{component:e,ref:r});return i().createElement(ve,n)})),Pe=()=>{const e=(0,ge.useIntl)();return(0,l.useMemo)((()=>he(e)),[e])},Ee=(e,t)=>{const r=(0,l.useRef)(!1);(0,l.useEffect)((()=>{r.current?e():r.current=!0}),t)},je=require("@material-ui/core/styles"),Ce={typography:{useNextVariants:!0},textColor:"#333",palette:{primary:{main:"#006699",secondary:"#0066cc",background:"#F5F5F5"},gray:{main:"#666",border:"rgba(0,0,0,0.02)",background:"rgba(0,0,0,0.03)"},mediumGray:{main:"#A2A2A2"},ligthGray:{main:"#F7F7F7",border:"rgba(0, 0, 0, 0.12)",background:"rgba(0, 0, 0, 0.012)"},error:{main:"rgb(215, 25, 28)",background:"rgba(215, 25, 28, 0.2)",backgroundHard:"rgba(215, 25, 28, 0.7)"},success:{main:"#4caf50",background:"rgba(#4caf50, 0.2)"}}},xe=(0,je.createTheme)(Ce),Te=(e,t)=>`${t}-${e.toString()}`,ke=require("@material-ui/core/styles/colorManipulator"),Se=e=>({mapContainer:{height:"62vh",marginBottom:e.spacing(2),"& .leaflet-container .leaflet-popup-content a":{color:e.palette.primary.main},"& .marker-cluster.color":{color:"white"},"& .marker-cluster.color div":{marginLeft:2,marginTop:2,display:"flex",justifyContent:"center",alignItems:"center"},"& .marker-cluster.color div .border":{position:"absolute",display:"block",height:"100%",width:"100%",top:-2,left:-2,borderRadius:"100%",zIndex:-1},"& .marker-cluster.primary":{backgroundColor:(0,ke.alpha)(e.palette.primary.main,.6)},"& .marker-cluster.primary > div":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .marker-custom":{zIndex:"500 !important"},"& .marker-custom.primary span":{position:"relative",display:"block",height:"100%",width:"100%"},"& .marker-custom .marker_bg, & .marker-custom.primary .marker_bg":{position:"absolute",display:"block",height:"10px",width:"10px",borderRadius:"10px",backgroundColor:"white",top:8,left:8},"& .marker-custom.color":{zIndex:"300 !important"},"& .marker-custom.color .svg-icon":{display:"block",height:"auto",width:16,position:"absolute",top:6,left:4,zIndex:200,borderRadius:"5px"},"& .marker-custom.color .marker_shadow":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none"},"& .marker-custom.color svg":{position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& .marker-custom.primary svg":{fill:e.palette.primary.main,position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& path.primary":{fill:(0,ke.alpha)(e.palette.primary.main,.6),stroke:e.palette.primary.main},"& path.secondary":{fill:(0,ke.alpha)(e.palette.secondary.main,.6),stroke:e.palette.secondary.main},"& path.no-pointer-event":{pointerEvents:"none !important"},"& .marker-custom.primary img":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none",width:"auto"},"& .leaflet-draw.leaflet-control":{display:"none"}}});function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Re=e=>qe(qe({},Se(e)),{},{containerFullHeight:{width:"100%",height:`calc(100vh - ${ce}px)`,margin:0,overflow:"auto",backgroundColor:"white"},containerFullHeightPadded:{width:"100%",height:`calc(100vh - ${ce}px)`,padding:e.spacing(4),margin:0,backgroundColor:"white",overflow:"auto"},containerFullHeightNoTabPadded:{width:"100%",height:`calc(100vh - ${ue}px)`,padding:e.spacing(4),margin:0,overflow:"auto",backgroundColor:"white"},indicator:{backgroundColor:"white"},buttonIcon:{marginRight:e.spacing(1),width:15,height:15},smallButtonIcon:{marginRight:e.spacing(1),width:15,height:15,position:"relative",top:-1},listitem:{width:"auto",paddingLeft:e.spacing(1)},marginY:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginBottomBig:{marginBottom:e.spacing(4)},paddingBottomBig:{marginBottom:e.spacing(4)},marginLeft:{marginLeft:e.spacing(2)},marginRight:{marginRight:e.spacing(2)},marginTop:{marginTop:e.spacing(2)},marginTopBig:{marginTop:e.spacing(4)},justifyFlexEnd:{display:"flex",justifyContent:"flex-end"},floatRight:{float:"right"},tabs:{padding:e.spacing(0,4)},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},dividerMarginNeg:{margin:e.spacing(0,-4,0,-4)},containerMarginNeg:{margin:e.spacing(0,-4,-4,-4),width:`calc(100% + ${e.spacing(8)})`},relativeContainer:{position:"relative"},svgIcon:{width:24,heigth:24},svgChipIcon:{width:20,heigth:20,padding:4},textError:{color:e.palette.error.main,display:"flex",alignItems:"center"},popperFixed:{position:"fixed !important"},linkButton:{color:"inherit",textDecoration:"none",display:"flex"},capitalize:{display:"inline-block","&:first-letter":{textTransform:"uppercase"}}}),De=e=>({popup:{"& .leaflet-popup-content-wrapper":{padding:0},"& .leaflet-popup-content":{margin:0,minHeight:100,width:"360px !important","& p.MuiTypography-root":{margin:0,fontSize:12},"& .MuiGrid-root > div":{top:1}},"& a.leaflet-popup-close-button":{color:"white",backgroundColor:e.palette.primary.main,padding:"1px 0 0 0",top:"8px",right:"8px",borderRadius:"20px",height:"18px"},"& a.leaflet-popup-close-button:hover":{color:e.palette.primary.main,backgroundColor:"white",border:`1px solid ${e.palette.primary.main}`}},popupListItemLabel:{textAlign:"right",fontWeight:"bold",display:"inline-block",paddingRight:e.spacing(1)/2},popuplistItem:{textAlign:"left"},popupCard:{height:"100%",width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"none"},popupCardMedia:{height:180},popupCardContent:{margin:e.spacing(3,2,2,2),overflow:"hidden",wordBreak:"break-all",padding:"0 !important"}}),Me=require("@material-ui/icons/Add");var Le=e.n(Me);const Be=(0,ge.defineMessages)({create:{id:"blsq.button.label.create",defaultMessage:"Create"}});function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ae({classes:e,onClick:t,message:r,id:n,dataTestId:o}){const a=Pe();return i().createElement(u.Button,{variant:"contained",className:e.button,color:"primary",onClick:t,id:n,"data-test":o},i().createElement(Le(),{className:e.buttonIcon}),a.formatMessage(r))}Ae.defaultProps={message:Be.create,id:"",dataTestId:""},Ae.propTypes={classes:d().object.isRequired,onClick:d().func.isRequired,message:d().object,id:d().string,dataTestId:d().string};const ze=(0,u.withStyles)((e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Re(e))))(Ae),Fe=require("@material-ui/icons/CallMade");var Ve=e.n(Fe);const He=(0,ge.defineMessages)({export:{id:"blsq.button.label.export",defaultMessage:"Export"}});function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _e({classes:e,intl:t,onClick:r,message:n,isDisabled:o,batchExport:a,id:l}){return a?i().createElement(u.Button,{variant:"contained",className:e.button,color:"primary",onClick:r,disabled:o,id:l},i().createElement(Ve(),{className:e.buttonIcon}),t.formatMessage(n)):i().createElement(Ve(),{onClick:r,disabled:o})}_e.defaultProps={message:He.export,isDisabled:!1,id:""},_e.propTypes={intl:d().object.isRequired,classes:d().object.isRequired,onClick:d().func.isRequired,isDisabled:d().bool,batchExport:d().bool.isRequired,message:d().object,id:d().string};const Ke=(0,u.withStyles)((e=>Ge(Ge({},Re(e)),{},{button:{marginLeft:e.spacing(2),"& svg, & i":{marginRight:e.spacing(1)}}})))(we(_e)),Ue=require("@material-ui/icons/Delete");var Ze=e.n(Ue);const We=require("@material-ui/icons/FilterList");var Je=e.n(We);const Ye=require("@material-ui/icons/CallMerge");var Qe=e.n(Ye);const Xe=require("@material-ui/icons/RemoveRedEye");var et=e.n(Xe);const tt=require("@material-ui/icons/Edit");var rt=e.n(tt);const nt=require("@material-ui/icons/History");var ot=e.n(nt);const at=require("@material-ui/icons/Map");var lt=e.n(at);const it=require("@material-ui/icons/CachedRounded");var st=e.n(it);const ct=require("@material-ui/icons/StopRounded");var ut=e.n(ct);const pt=require("@material-ui/icons/GetApp");var dt=e.n(pt);const mt=require("@material-ui/icons/RestoreFromTrash");var gt=e.n(mt);const bt=require("@material-ui/icons/Public");var ft=e.n(bt);const ht=require("@material-ui/icons/Clear");var yt=e.n(ht);const Ot=require("@material-ui/icons/ClearAll");var vt=e.n(Ot);const wt=require("@babel/runtime/helpers/objectWithoutProperties");var Pt=e.n(wt);const Et=["href"],jt=["href"];function Ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const xt=e=>(e=>({__forwardRef__:(0,l.forwardRef)(e)}))((e=>(t,r)=>{let{href:n}=t;return((e,t,r)=>{let{href:n}=e,o=Pt()(e,Et);return i().createElement(r,me()({ref:t,to:n},o))})(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({href:n},Pt()(t,jt)),r,e)})(e)),Tt=(0,l.createContext)({}),kt=e=>{const{linkComponent:t}=e,r=xt(t),n=(0,l.useMemo)((()=>({Link:r})),[r]);return i().createElement(Tt.Provider,{value:n},e.children)};kt.propTypes={children:p.any.isRequired,linkComponent:p.any.isRequired};const St=()=>(0,l.useContext)(Tt).Link.__forwardRef__,It=e=>e=>{const t=(0,l.useContext)(Tt).Link.__forwardRef__;return i().createElement("component",me()({},e,{linkComponent:t}))};function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Dt={delete:Ze(),"filter-list":Je(),"call-merge":Qe(),"remove-red-eye":et(),"restore-from-trash":gt(),edit:rt(),history:ot(),map:lt(),xml:Z,dhis:T,orgUnit:D,refresh:st(),stop:ut(),xls:I,download:dt(),globe:ft(),clear:yt(),clearAll:vt()},Mt=({icon:e,color:t,onClick:r,disabled:n})=>{if(void 0===e)return"wrong icon";const o=null!==r?{onClick:r}:{},a={color:"white"===t?t:void 0,opacity:n?.5:1};return i().createElement(e,me()({},o,{color:"white"===t?"inherit":t,style:a}))};function Lt({classes:e,disabled:t,onClick:r,url:n,icon:o,overrideIcon:a,tooltipMessage:l,color:s,size:c,id:p,dataTestId:d}){null===r==(null===n)&&console.error("IconButtonComponent needs either the onClick or the url property"),o||a||console.error("IconButtonComponent has to be provided with an icon");const m=St(),g=a??Dt[o];return i().createElement(u.Tooltip,{classes:{popper:e.popperFixed},disableFocusListener:t,disableHoverListener:t,disableTouchListener:t,placement:"bottom",title:i().createElement(ge.FormattedMessage,l)},i().createElement("span",{id:p},i().createElement(u.IconButton,{disabled:t,onClick:r,size:c,"data-test":d},n?i().createElement(m,{to:n,className:e.linkButton},i().createElement(Mt,{icon:g,color:s})):i().createElement(Mt,{icon:g,color:s,disabled:t}))))}Mt.defaultProps={onClick:null,disabled:!1},Mt.propTypes={onClick:d().func,icon:d().oneOfType([d().object,d().func]).isRequired,color:d().string.isRequired,disabled:d().bool},Lt.defaultProps={disabled:!1,url:null,onClick:null,color:"action",size:"medium",overrideIcon:null,icon:null,id:"",dataTestId:""},Lt.propTypes={size:d().string,classes:d().object.isRequired,onClick:d().func,url:d().string,disabled:d().bool,icon:d().oneOf(Object.keys(Dt)),color:d().string,overrideIcon:d().any,tooltipMessage:d().object.isRequired,id:d().string,dataTestId:d().string};const Bt=(0,u.withStyles)((e=>Rt(Rt({},Re(e)),{},{white:{color:"white"},popperFixed:Rt(Rt({},Re(e).popperFixed),{},{marginTop:e.spacing(1)})})))(Lt),Nt=require("color");var At=e.n(Nt);function zt(e){return JSON.parse(JSON.stringify(e))}function Ft(e,t,r=!1){if("object"!=typeof e)return e===t;let n,o,a=Object.keys(e),l=Object.keys(t);if(r&&(a=a.filter((t=>null!=e[t])),l=l.filter((e=>null!=t[e]))),a.length!==l.length)return!1;for(a.sort(),l.sort(),o=a.length-1;o>=0;o-=1)if(a[o]!==l[o])return!1;for(o=a.length-1;o>=0;o-=1)if(n=a[o],!Ft(e[n],t[n],r))return!1;return!0}function Vt(e,t,r=(e=>e)){return JSON.parse(JSON.stringify(e,((e,n)=>{if("string"==typeof n){const e=n.match(/\$\{([a-zA-Z0-9_-]+)\}/);if(e){const o=e[1];if(t.hasOwnProperty(o))return r(t[o]);console.warn("Cannot find match in substitudes for value:",n)}}return n})))}const Ht=(e,t=!1)=>e.split(" ").map((e=>e.slice(0,1).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase()))).join(" "),$t=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",Gt=(e,t)=>e.length>t?`${e.substring(0,t-4)}...   `:`${e}   `,_t=e=>{const t=[];return e&&e.forEach(((e,r)=>{t.push({value:e,position:r})})),t},Kt=e=>{const t=[];return e&&e.forEach((e=>{t.push(e.value)})),t};function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class Wt extends l.Component{constructor(e){super(e),this.state={tabIndex:parseInt(e.params[e.tabParamKey],10)||0,tabsWidth:[]}}handleAddTab(){const{params:e,defaultItem:t,paramKey:r,tabParamKey:n,onTabsUpdated:o}=this.props,a=Zt({},this.state),l=JSON.parse(e[r]);a.tabIndex=l.length,l.push(t);const i=Zt({},e);i[n]=a.tabIndex.toString(),i[r]=JSON.stringify(l),this.setState(a),o(i)}handleDeleteTab(e){const{params:t,paramKey:r,tabParamKey:n,onTabsDeleted:o}=this.props,a=JSON.parse(t[r]);a.splice(e,1);const l=Zt(Zt({},t),{},{searchActive:!1});l[r]=JSON.stringify(a),this.state.tabIndex>a.length-1&&(l[n]=(a.length-1).toString(),this.setState({tabIndex:a.length-1})),o(l)}handleTabChange(e){const{params:t,paramKey:r,tabParamKey:n,onTabChange:o}=this.props,a=Zt({},this.state),l=JSON.parse(t[r]);a.tabIndex=e;const i=Zt({},t);i[n]=a.tabIndex.toString(),i[r]=JSON.stringify(l),o(i),this.setState(a)}setTabsElement(e,t){const{tabsWidth:r}=this.state,n=e.getBoundingClientRect().width;if(n!==r[t]){const e=[...r];e[t]=n,this.setState({tabsWidth:e})}}render(){const{classes:e,baseLabel:t,params:r,paramKey:n,maxItems:o,displayCounts:a,counts:l,addMessage:s,deleteMessage:c}=this.props,{tabIndex:p,tabsWidth:d}=this.state,m=JSON.parse(r[n]);return i().createElement("section",{className:e.mainContainer},i().createElement("div",{className:e.tabsContainer},m.length>1&&i().createElement("ul",{className:e.removeContainer},m.map(((r,n)=>i().createElement("li",{className:e.removeContainerItem,key:n,style:{width:`${d[n]}px`}},i().createElement(u.Tooltip,{size:"small",title:i().createElement(i().Fragment,null,i().createElement(ge.FormattedMessage,c),` ${t.toLowerCase()}`)},i().createElement(u.IconButton,{onClick:()=>this.handleDeleteTab(n),className:e.removeIconButton,size:"small"},i().createElement(yt(),null))))))),i().createElement(u.Tabs,{value:p,classes:{root:e.tabs,indicator:e.indicator},onChange:(e,t)=>this.handleTabChange(t)},m.map(((r,n)=>i().createElement(u.Tab,{ref:e=>{e&&this.setTabsElement(e,n)},key:n,value:n,label:i().createElement("span",{className:m.length>1?e.tabContent:e.tabContentAlone},i().createElement("span",{style:r.color?{backgroundColor:`#${r.color}`,border:`2px solid ${At()(`#${r.color}`).darken(.5)}`}:{},className:e.roundColor}),t,a&&l[n]&&` (${$t(l[n].count)})`)}))))),m.length<o&&i().createElement(u.Tooltip,{size:"small",title:i().createElement(i().Fragment,null,i().createElement(ge.FormattedMessage,s),` ${t.toLowerCase()}`)},i().createElement(u.IconButton,{onClick:()=>this.handleAddTab(),className:e.iconButton,size:"small"},i().createElement(Le(),null))))}}Wt.defaultProps={baseLabel:"tab",maxItems:5,onTabsUpdated:()=>({}),onTabsDeleted:()=>({}),onTabChange:()=>({}),displayCounts:!1,counts:[]},Wt.propTypes={classes:d().object.isRequired,baseLabel:d().string,params:d().object.isRequired,defaultItem:d().object.isRequired,paramKey:d().string.isRequired,tabParamKey:d().string.isRequired,baseUrl:d().string.isRequired,redirectTo:d().func.isRequired,maxItems:d().number,onTabsUpdated:d().func,onTabsDeleted:d().func,onTabChange:d().func,displayCounts:d().bool,counts:d().array,deleteMessage:d().object.isRequired,addMessage:d().object.isRequired};const Jt=(0,u.withStyles)((e=>Zt(Zt({},Re(e)),{},{tabs:Zt(Zt({},Re(e).tabs),{},{paddingRight:0}),mainContainer:{display:"flex",position:"relative"},tabsContainer:{position:"relative"},iconButton:{color:"white !important",height:30,position:"relative",top:8},removeIconButton:{color:"white !important",position:"relative",top:19,right:15,height:20,"& svg":{width:14,height:14}},removeContainer:{padding:0,margin:0,position:"absolute",left:e.spacing(4),top:-5,minHeight:0,height:1,width:`calc(100% - ${e.spacing(4)}px)`,display:"flex",listStyleType:"none",zIndex:1e5},removeContainerItem:{display:"inline-flex",justifyContent:"flex-end",minWidth:160,fontSize:5},roundColor:{display:"inline-block",width:15,height:15,borderRadius:15,position:"absolute",top:16,left:e.spacing(2)},tabContentAlone:{paddingRight:e.spacing(2),paddingLeft:e.spacing(4)},tabContent:{paddingRight:e.spacing(6),paddingLeft:e.spacing(6)}})))(Wt),Yt=require("@material-ui/pickers"),Qt=require("@material-ui/icons/Event");var Xt=e.n(Qt);function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const rr=(0,u.makeStyles)((e=>tr(tr({},Re(e)),{},{formControl:{width:"100%"},clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13}}))),nr=({label:e,onChange:t,currentDate:r,hasError:n,clearMessage:o,helperText:a})=>{const s=rr(),[c,p]=(0,l.useState)(null);return i().createElement(u.FormControl,{className:s.formControl},i().createElement(Yt.KeyboardDatePicker,{autoOk:!0,disableToolbar:!0,inputVariant:"outlined",InputLabelProps:{className:s.label,shrink:Boolean(r),error:n||Boolean(c)},KeyboardButtonProps:{size:"small"},keyboardIcon:i().createElement(Xt(),{size:"small"}),InputProps:{error:n||Boolean(c)},format:"DD/MM/YYYY",label:e,helperText:a,value:r,onChange:t,onError:e=>p(e)}),r&&i().createElement("span",{className:s.clearDateButton},i().createElement(Bt,{size:"small",icon:"clear",tooltipMessage:o,onClick:()=>t(null)})))};nr.defaultProps={currentDate:null,helperText:""},nr.propTypes={label:d().string.isRequired,onChange:d().func.isRequired,currentDate:d().oneOfType([d().string,d().object]),hasError:d().bool.isRequired,clearMessage:d().object.isRequired,helperText:d().string};const or=require("@material-ui/core/ListItem");var ar=e.n(or);const lr=require("@material-ui/core/OutlinedInput");var ir=e.n(lr);const sr=require("@material-ui/core/Fab");var cr=e.n(sr);function ur(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ur(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ur(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}class dr extends l.Component{constructor(e){super(e),this.state={fieldList:_t(e.fieldList)}}UNSAFE_componentWillReceiveProps(e){this.setState({fieldList:_t(e.fieldList)})}updateField(e,t){const r=this.state.fieldList.slice();r[t].value=e,this.props.updateList(Kt(r))}addField(){const e=this.state.fieldList.slice();e.push({value:"",position:this.state.fieldList.length}),this.props.updateList(Kt(e))}removeField(e){const t=this.state.fieldList.slice();t.splice(e,1),this.props.updateList(Kt(t))}render(){const{baseId:e,label:t,classes:r}=this.props,{fieldList:n}=this.state,o=n.length>0&&""===n[n.length-1].value;return i().createElement(u.Grid,{container:!0,spacing:0,className:r.marginTop},i().createElement(u.Grid,{item:!0,xs:1},i().createElement("span",{className:r.label},t,":")),i().createElement(u.Grid,{item:!0,xs:11},i().createElement(u.Box,{id:`array-input-field-list-${e}`},i().createElement(u.List,{className:r.list},n.map(((t,n)=>i().createElement(ar(),{key:t.position,className:r.listItem},i().createElement(ir(),{className:r.input,id:`${e}-${t.position}`,value:t.value||"",onChange:e=>this.updateField(e.currentTarget.value,n)}),i().createElement(u.IconButton,{className:r.deleteIcon,color:"inherit",onClick:()=>this.removeField(n)},i().createElement(Ze(),null))))),i().createElement(ar(),{className:r.addListItem},i().createElement(cr(),{disabled:o,className:r.Fab,size:"small",color:"primary","aria-label":"add",onClick:()=>this.addField()},i().createElement(Le(),null)))))))}}dr.defaultProps={fieldList:[],label:""},dr.propTypes={fieldList:d().array,baseId:d().string.isRequired,updateList:d().func.isRequired,classes:d().object.isRequired,label:d().string};const mr=(0,u.withStyles)((e=>pr(pr({},Re(e)),{},{label:{top:e.spacing(2),position:"relative",color:e.textColor,fontSize:16},list:{width:"100%",padding:"0"},listItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",padding:"0",marginBottom:e.spacing(1)},addListItem:{height:55,width:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0",marginBottom:e.spacing(2)},input:{width:"95%",marginLeft:"5%"},deleteIcon:{position:"absolute",right:e.spacing(1)}})))(dr),gr=({value:e,disabled:t,label:r,onChange:n,keyValue:o})=>i().createElement(u.FormControlLabel,{disabled:t,control:i().createElement(u.Checkbox,{id:`check-box-${o}`,color:"primary",checked:!0===e,onChange:e=>n(e.target.checked),value:"checked",disabled:t}),label:r});gr.defaultProps={value:!1,disabled:!1,onChange:()=>{},label:""},gr.propTypes={value:d().bool,disabled:d().bool,label:d().string,onChange:d().func,keyValue:d().string.isRequired};const br=require("@material-ui/core/FormControl");var fr=e.n(br);function hr({classes:e,children:t,withMarginTop:r,errors:n,marginTopZero:o,id:a}){const l=[e.formControl];r||l.push(e.formControlWithMarginTop),o&&l.push(e.marginTopZero);const s={};return a&&(s.id=a),i().createElement(fr(),me()({className:l.join(" "),variant:"outlined"},s),t,n.length>0&&n.map((t=>i().createElement(u.Typography,{key:t,className:e.error},t))))}hr.defaultProps={withMarginTop:!0,marginTopZero:!1,errors:[],id:null},hr.propTypes={classes:d().object.isRequired,children:d().node.isRequired,withMarginTop:d().bool,marginTopZero:d().bool,errors:d().arrayOf(d().string.isRequired),id:d().oneOfType([d().object,d().string])};const yr=(0,u.withStyles)((e=>({formControl:{width:"100%",marginBottom:e.spacing(1),marginTop:e.spacing(1),"& fieldset":{borderWidth:"1px !important"},"&:hover fieldset":{borderColor:`${e.palette.primary.main}`},"&:focused label":{color:`${e.palette.primary.main}`},zIndex:"auto"},formControlWithMarginTop:{marginTop:e.spacing(2)},error:{color:e.palette.error.main},marginTopZero:{marginTop:0}})))(hr),Or=require("@material-ui/core/InputLabel");var vr=e.n(Or);const wr=(0,je.makeStyles)((e=>({inputLabel:{color:"rgba(0, 0, 0, 0.4)",paddingLeft:3,paddingRight:3,transition:e.transitions.create(["all"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},shrink:{fontSize:20,marginTop:-2,backgroundColor:"white"},popupIndicator:{marginRight:"6px !important",marginLeft:"6px !important"},clearIndicator:{marginTop:-2},hasClearIcon:{"& .MuiAutocomplete-inputRoot":{paddingRight:"85px !important"}}})));function Pr({htmlFor:e,label:t,required:r,shrink:n,error:o}){const a=wr();return i().createElement(vr(),{name:e.replace("input-text-",""),htmlFor:e,classes:{shrink:a.shrink},className:a.inputLabel,shrink:n,error:o},t,r&&i().createElement("sup",null," *"))}Pr.defaultProps={shrink:!0,error:!1,label:""},Pr.propTypes={htmlFor:d().string.isRequired,label:d().string,required:d().bool.isRequired,shrink:d().bool,error:d().bool};const Er=e=>{if("number"==typeof e)return e;if(void 0===e||null==e)return"";const t=e.split(""),r=t.filter((e=>"."===e));if(1===r.length&&"."===t[t.length-1]&&!Number.isNaN(parseInt(t[t.length-2],10)))return e;if(1===r.length&&"."===t[t.length-2]&&Number.isNaN(parseInt(t[t.length-1],10)))return t.pop(),t.join("");const n=parseFloat(e);return Number.isNaN(n)?"":n},jr=({keyValue:e,label:t,withMarginTop:r,errors:n,required:o,value:a,disabled:s,onChange:c,multiline:p})=>{const d=n.length>=1,[m,g]=(0,l.useState)(Er(a));return(0,l.useEffect)((()=>{const e=Er(a);g(e)}),[a]),i().createElement(yr,{withMarginTop:r,errors:n},i().createElement(Pr,{htmlFor:`input-text-${e}`,label:t,required:o,error:d,shrink:""!==a}),i().createElement(u.OutlinedInput,{size:"small",multiline:p,disabled:s,id:`input-text-${e}`,value:m,type:"text",onChange:e=>{const t=Er(e.target.value);g(t),c(t)},error:d}))};jr.defaultProps={value:"",errors:[],withMarginTop:!0,multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:""},jr.propTypes={withMarginTop:d().bool,errors:d().arrayOf(d().string),keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,multiline:d().bool,value:d().oneOfType([d().string,d().number]),onChange:d().func};const Cr=(0,ge.defineMessages)({displayPassword:{id:"blsq.button.label.displayPassword",defaultMessage:"Display the pasword"}}),xr=({keyValue:e,label:t,withMarginTop:r,errors:n,required:o,value:a,disabled:s,onChange:c,multiline:p,displayPassword:d,classes:m})=>{const g=n.length>=1,[b,f]=(0,l.useState)(d),h=Pe();return i().createElement(yr,{withMarginTop:r,errors:n},i().createElement(Pr,{htmlFor:`input-text-${e}`,label:t,required:o,error:g,shrink:""!==a}),i().createElement(u.OutlinedInput,{size:"small",multiline:p,disabled:s,id:`input-text-${e}`,value:a,type:b?"text":"password",onChange:e=>c(e.target.value),error:g,className:m.passwordInput}),i().createElement(u.Tooltip,{className:m.displayPassword,disableFocusListener:s,disableHoverListener:s,disableTouchListener:s,placement:"bottom",title:h.formatMessage(Cr.displayPassword)},i().createElement("span",null,i().createElement(u.IconButton,{color:b?"primary":"inherit",onClick:()=>{f((e=>!e))}},i().createElement(rt(),null)))))};xr.defaultProps={value:"",errors:[],withMarginTop:!0,multiline:!1,disabled:!1,required:!1,onChange:()=>{},displayPassword:!1,label:""},xr.propTypes={withMarginTop:d().bool,errors:d().arrayOf(d().string),keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,multiline:d().bool,value:d().string,onChange:d().func,displayPassword:d().bool,classes:d().object.isRequired};const Tr=(0,u.withStyles)((e=>({displayPassword:{position:"absolute",top:4,right:e.spacing(2)},passwordInput:{paddingRight:e.spacing(8)}})))(xr),kr=({options:e,name:t,onChange:r,value:n,className:o})=>i().createElement(u.RadioGroup,{className:o,name:t,value:n,onChange:e=>{r(e.target.value)}},e.map((e=>i().createElement(u.FormControlLabel,{key:e.value,value:e.value,control:i().createElement(u.Radio,{color:"primary"}),label:e.label,disabled:e.disabled}))));kr.defaultProps={options:[],onChange:()=>{},value:"",className:""},kr.propTypes={options:d().array,name:d().string.isRequired,onChange:d().func,value:(0,p.oneOfType)([d().string,d().bool]),className:d().string};const Sr=require("@material-ui/icons/Search");var Ir=e.n(Sr);const qr=({withMarginTop:e,label:t,required:r,keyValue:n,disabled:o,value:a,onEnterPressed:l,onChange:s,classes:c,uid:p,errors:d=[]})=>{const m=d.length>=1;return i().createElement(yr,{withMarginTop:e,errors:d},i().createElement(Pr,{htmlFor:`search-${n}`,label:t,required:r,shrink:null!=a&&""!==a,error:m}),i().createElement(u.OutlinedInput,{disabled:o,error:m,id:p?`search-${p}`:`search-${n}`,value:a||"",placeholder:"",onKeyPress:e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||l()},classes:{root:c.inputRoot,input:c.inputInput},endAdornment:i().createElement("div",{tabIndex:0,role:"button",onClick:()=>l()},i().createElement(Ir(),null)),inputProps:{"aria-label":"search"},onChange:e=>s(e.target.value)}))};qr.defaultProps={value:"",withMarginTop:!0,disabled:!1,required:!1,onEnterPressed:()=>{},onChange:()=>{},uid:"",label:"",errors:[]},qr.propTypes={withMarginTop:d().bool,keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,value:d().string,onEnterPressed:d().func,onChange:d().func,uid:d().string,classes:d().object.isRequired,errors:d().arrayOf(d().string)};const Rr=(0,u.withStyles)((e=>({icon:{right:e.spacing(2)},search:{position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit"},inputInput:{paddingRight:e.spacing(7),width:"100%"}})))(qr),Dr=require("@material-ui/core/Box");var Mr=e.n(Dr);const Lr=require("@material-ui/lab/Autocomplete");var Br=e.n(Lr);const Nr=(0,ge.defineMessages)({noOptions:{id:"blsq.button.label.noOptions",defaultMessage:"No results found"}}),Ar=require("@material-ui/core/Chip");var zr=e.n(Ar);const Fr=e=>(t,r)=>t.map(((t,n)=>i().createElement(zr(),me()({color:"secondary",style:{backgroundColor:t.color,color:"white"},label:e(t)},r({index:n}))))),Vr=(e,t,r)=>{const n={getOptionLabel:e||(e=>(null==e?void 0:e.label)??e.toString()),getOptionSelected:t||((e,t)=>t&&e.value===t.value)};return r&&(n.renderOption=r),n},Hr=(e,t)=>t.find((t=>`${t.value}`==`${e}`)),$r=require("@material-ui/core/TextField");var Gr=e.n($r);function _r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_r(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ur=({params:e,renderOption:t,disabled:r,label:n,required:o,onBlur:a,errors:l,helperText:s,loading:c})=>{const p=wr(),d=Kr({},e);let m={};return t&&e.inputProps.value&&(m={startAdornment:i().createElement("div",{className:p.startAdornment},t({label:e.inputProps.value})),style:{color:"transparent"}},d.inputProps.value=""),i().createElement(Gr(),me()({},d,{variant:"outlined",disabled:r,label:`${n}${o?"*":""}`,onBlur:a,error:l.length>0,InputLabelProps:{classes:{shrink:p.shrink},className:p.inputLabel},helperText:s,InputProps:Kr(Kr({},e.InputProps),{},{endAdornment:i().createElement(i().Fragment,null,c?i().createElement(u.CircularProgress,{color:"inherit",size:20}):null,e.InputProps.endAdornment)},m)}))};Ur.defaultProps={helperText:void 0,renderOption:null},Ur.propTypes={renderOption:d().oneOfType([d().object,d().func]),params:d().object.isRequired,disabled:d().bool.isRequired,label:d().string.isRequired,required:d().bool.isRequired,onBlur:d().func.isRequired,errors:d().array.isRequired,helperText:d().oneOfType([d().object,d().string]),loading:d().bool.isRequired};const Zr=({value:e,keyValue:t,label:r,errors:n,onChange:o,options:a,onBlur:s,disabled:c,clearable:u,required:p,noOptionsText:d,getOptionLabel:m,getOptionSelected:g,loading:b,renderOption:f,renderTags:h,returnFullObject:y,helperText:O})=>{const v=Pe(),w=wr(),P=(0,l.useMemo)((()=>e?Hr(e,a)??e:null),[e,a]),E=(0,l.useCallback)(((e,t)=>o((null==t?void 0:t.value)??null)),[o,y]),j=Vr(m,g,f);return i().createElement(Mr(),{mt:1,mb:2},i().createElement(Br(),me()({disabled:c,noOptionsText:v.formatMessage(d),multiple:!1,id:t,disableClearable:!u,options:a,value:P,onChange:E,loading:b,closeIcon:i().createElement(yt(),null),renderTags:h,renderInput:e=>i().createElement(Ur,{params:e,renderOption:f,disabled:c,label:r,required:p,onBlur:s,errors:n,helperText:O,loading:b}),classes:{popupIndicator:w.popupIndicator,clearIndicator:w.clearIndicator,hasClearIcon:w.hasClearIcon}},j)))};Zr.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,noOptionsText:Nr.noOptions,helperText:void 0,renderTags:Fr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},Zr.propTypes={errors:d().arrayOf(d().string),keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,clearable:d().bool,value:d().any,onBlur:d().func,noOptionsText:d().oneOfType([d().object,d().string]),helperText:d().oneOfType([d().object,d().string]),options:d().array,loading:d().bool,onChange:d().func.isRequired,getOptionLabel:d().oneOfType([d().object,d().func]),getOptionSelected:d().oneOfType([d().object,d().func]),renderOption:d().oneOfType([d().object,d().func]),renderTags:d().func,returnFullObject:d().bool};const Wr=e=>{const[t,r]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{const t=(t,n)=>{t.key===e&&r(n)},n=e=>{t(e,!0)},o=e=>{t(e,!1)};return document.addEventListener("keydown",n),document.addEventListener("keyup",o),document.addEventListener("blur",o),()=>{document.removeEventListener("keydown",n),document.removeEventListener("keyup",o),document.removeEventListener("blur",o)}}),[t]),t},Jr=({value:e,keyValue:t,label:r,errors:n,onChange:o,options:a,onBlur:s,disabled:c,clearable:u,required:p,noOptionsText:d,getOptionLabel:m,getOptionSelected:g,loading:b,renderOption:f,renderTags:h,returnFullObject:y,helperText:O})=>{const v=Pe(),w=wr(),P=Wr("Shift"),E=(0,l.useMemo)((()=>{if(e){const t=Array.isArray(e)?e:e.split(",");return y?t:t.map((e=>Hr(e,a))).filter((e=>e))}return[]}),[e,a]),j=(0,l.useCallback)(((e,t)=>0===t.length?o(null):o(y?t:t.map((e=>null==e?void 0:e.value)).join(","))),[o,y]),C=Vr(m,g,f);return i().createElement(Mr(),{mt:1,mb:2},i().createElement(Br(),me()({disabled:c,noOptionsText:v.formatMessage(d),multiple:!0,disableCloseOnSelect:P,id:t,disableClearable:!u,options:a,value:E,onChange:j,loading:b,closeIcon:i().createElement(yt(),null),renderTags:h,renderInput:e=>i().createElement(Ur,{params:e,renderOption:f,disabled:c,label:r,required:p,onBlur:s,errors:n,helperText:O,loading:b}),classes:{popupIndicator:w.popupIndicator,clearIndicator:w.clearIndicator,hasClearIcon:w.hasClearIcon}},C)))};Jr.defaultProps={value:void 0,errors:[],label:"",disabled:!1,clearable:!0,required:!1,loading:!1,options:[],onBlur:()=>{},getOptionSelected:null,getOptionLabel:null,renderOption:null,noOptionsText:Nr.noOptions,helperText:void 0,renderTags:Fr((e=>null!=e&&e.label?e.label:"")),returnFullObject:!1},Jr.propTypes={errors:d().arrayOf(d().string),keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,clearable:d().bool,value:d().any,onBlur:d().func,noOptionsText:d().oneOfType([d().object,d().string]),helperText:d().oneOfType([d().object,d().string]),options:d().array,loading:d().bool,onChange:d().func.isRequired,getOptionLabel:d().oneOfType([d().object,d().func]),getOptionSelected:d().oneOfType([d().object,d().func]),renderOption:d().oneOfType([d().object,d().func]),renderTags:d().func,returnFullObject:d().bool};const Yr=e=>e.multi?i().createElement(Jr,e):i().createElement(Zr,e);Yr.defaultProps={multi:!1},Yr.propTypes={multi:d().bool};const Qr=({keyValue:e,label:t,withMarginTop:r,errors:n,required:o,value:a,disabled:l,onChange:s,multiline:c})=>{const p=n.length>=1;return i().createElement(yr,{withMarginTop:r,errors:n},i().createElement(Pr,{htmlFor:`input-text-${e}`,label:t,required:o,error:p,shrink:""!==a}),i().createElement(u.OutlinedInput,{size:"small",multiline:c,disabled:l,id:`input-text-${e}`,value:a,type:"text",onChange:e=>s(e.target.value),error:p}))};Qr.defaultProps={value:"",errors:[],withMarginTop:!0,multiline:!1,disabled:!1,required:!1,onChange:()=>{},label:""},Qr.propTypes={withMarginTop:d().bool,errors:d().arrayOf(d().string),keyValue:d().string.isRequired,label:d().string,required:d().bool,disabled:d().bool,multiline:d().bool,value:d().string,onChange:d().func};class Xr extends i().Component{componentDidCatch(e,t){console.log("BOUNDARY ERROR",e,t)}render(){return this.props.children}}const en=({classes:e,width:t})=>i().createElement("div",{className:e.placeholder,style:{width:t}});en.defaultProps={width:"50%"},en.propTypes={classes:d().object.isRequired,width:d().string};const tn=(0,u.withStyles)((e=>({placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"}})))(en),rn=require("react-intersection-observer"),nn=require("@material-ui/icons/Close");var on=e.n(nn);const an=require("@material-ui/icons/ArrowBack");var ln=e.n(an);const sn=(0,ge.defineMessages)({search:{id:"blsq.table.label.search",defaultMessage:"Search"},close:{id:"blsq.table.label.close",defaultMessage:"Close"},resetSearch:{id:"blsq.table.label.resetSearch",defaultMessage:"Empty search"},columnSelectTooltip:{id:"blsq.table.columnSelect.tooltip",defaultMessage:"Select visible columns"}});function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const mn=({classes:e,options:t,setOptions:r,minColumns:n,intl:{formatMessage:o}})=>{const[a,l]=i().useState({open:!1,searchString:""}),s=e=>()=>{l(dn(dn({},a),{},{open:e}))},c=e=>t=>{l(dn(dn({},a),{},{searchString:e?"":t.target.value}))},p=e=>n=>{const o=[...t];o[e]=dn(dn({},o[e]),{},{active:n.target.checked}),r(o)},d=t.filter((e=>e.active)).length,m=((e,t)=>{let r=[...t];if(r=r.map(((e,t)=>dn(dn({},e),{},{index:t}))),""!==e){const t=e.toLowerCase();r=r.filter((e=>e.key&&e.key.toLowerCase().includes(t)||e.label&&e.label.toLowerCase().includes(t)))}return r})(a.searchString,t);return i().createElement(i().Fragment,null,i().createElement(Bt,{onClick:s(!0),icon:"filter-list",color:"white",tooltipMessage:sn.columnSelectTooltip}),i().createElement(u.Drawer,{anchor:"right",open:a.open,onClose:s(!1)},i().createElement("div",{className:e.root},i().createElement("div",{className:e.toolbar},i().createElement(u.Tooltip,{title:o(sn.close)},i().createElement(u.IconButton,{onClick:s(!1)},i().createElement(ln(),null))),i().createElement("div",{className:e.search},i().createElement(u.InputBase,{value:a.searchString,onChange:c(),className:e.input,placeholder:o(sn.search),inputProps:{"aria-label":o(sn.search),className:e.input}})),""!==a.searchString&&i().createElement(u.Tooltip,{title:o(sn.resetSearch)},i().createElement(u.IconButton,{onClick:c(!0)},i().createElement(on(),null)))),i().createElement(u.Divider,null),i().createElement("div",{className:e.list},i().createElement(u.List,null,m.map((t=>i().createElement(rn.InView,{key:t.key},(({inView:r,ref:o})=>i().createElement("div",{ref:o,id:t.key},i().createElement(u.ListItem,{className:e.listItem},r&&i().createElement(i().Fragment,null,i().createElement(u.Switch,{disabled:d===n&&t.active,size:"small",checked:t.active,onChange:p(t.index),color:"primary",inputProps:{"aria-label":t.label},className:e.switch}),i().createElement(u.ListItemText,{primary:t.label||t.key})),!r&&i().createElement(i().Fragment,null,i().createElement(tn,{width:"30px"}),i().createElement(tn,null)))))))))))))};mn.defaultProps={minColumns:2},mn.propTypes={classes:d().object.isRequired,options:d().array.isRequired,setOptions:d().func.isRequired,minColumns:d().number,intl:d().object.isRequired};const gn=(0,u.withStyles)((e=>({root:{width:400,overflow:"hidden"},toolbar:un(un({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:e.spacing(8)}),search:{marginLeft:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},list:{height:`calc(100vh - ${e.spacing(8)}px)`,overflowY:"auto",overflowX:"hidden"},listItem:{height:e.spacing(6)},switch:{marginRight:e.spacing(1)},placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"},input:{width:"100%",padding:0}})))(we(mn));function bn({IconComponent:e,title:t,classes:r}){return i().createElement("div",{className:r.root},i().createElement(u.Tooltip,{title:t},i().createElement(e,null)))}bn.propTypes={title:d().string.isRequired,classes:d().object.isRequired,IconComponent:d().object.isRequired};const fn=(0,u.withStyles)((()=>({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})))(bn),hn=require("@material-ui/icons/Info");var yn=e.n(hn);function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const wn=(0,u.makeStyles)((e=>vn(vn({},Re(e)),{},{root:{position:"absolute",height:"100%",width:"100%",top:0,left:0,overflow:"hidden"},icon:{cursor:"pointer",position:"relative",top:-1}}))),Pn=({message:e,children:t})=>{const r=wn();return i().createElement(u.Box,{className:r.root,display:"flex",justifyContent:"center",alignItems:"center"},i().createElement(u.Box,{display:"inline",mr:1},t),i().createElement(u.Tooltip,{classes:{popper:r.popperFixed},placement:"bottom",title:e},i().createElement(yn(),{fontSize:"small",color:"primary",className:r.icon})))};Pn.propTypes={message:d().string.isRequired,children:d().oneOfType([d().node,d().string]).isRequired};const En=require("@material-ui/lab"),jn=require("@material-ui/icons/CheckBox");var Cn=e.n(jn);const xn=(0,je.makeStyles)((e=>({speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}}))),Tn=({hidden:e,actions:t,selection:r,reset:n,actionMessage:o})=>{const a=xn(),[l,s]=i().useState(!1),c=t.filter((e=>!e.disabled));return i().createElement(u.ClickAwayListener,{onClickAway:()=>{s(!1)}},i().createElement(En.SpeedDial,{ariaLabel:o,className:a.speedDial,hidden:e,icon:i().createElement(Cn(),null),onOpen:()=>{s(!0)},open:l,direction:"up"},c.map((e=>i().createElement(En.SpeedDialAction,{key:e.label,icon:"function"==typeof e.icon?e.icon(r,n):e.icon,tooltipTitle:e.label,onClick:()=>e.onClick?e.onClick(r):()=>null})))))};Tn.defaultProps={hidden:!1,actions:[],reset:()=>null},Tn.propTypes={hidden:d().bool,actions:d().array,selection:d().object.isRequired,reset:d().func,actionMessage:d().string.isRequired};const kn=require("@material-ui/core/Table");var Sn=e.n(kn);const In=require("@material-ui/core/Paper");var qn=e.n(In);const Rn=require("@material-ui/core/TableContainer");var Dn=e.n(Rn);const Mn=require("lodash/isEqual");var Ln=e.n(Mn);const Bn=require("react-table"),Nn=[5,10,20,30,40,50],An=require("@material-ui/icons/Remove");var zn=e.n(An);function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fn(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Hn=(e,t,r=!1,n="csv",o=!1,a=!1)=>{let l=`/api/${e}/?`;const i=Vn({},t);r&&(i[n]=!0),o&&(i.asLocation=!0,i.limit=i.locationLimit,delete i.page),a&&(i.limit=i.locationLimit,delete i.page),delete i.locationLimit;const s=[];return Object.keys(i).forEach((e=>{const t=i[e];t&&!s.includes(e)&&(s.push(e),l+=`&${e}=${t}`)})),l},$n=e=>{let t;return e.forEach(((e,r)=>{var n;t=`${t||""}${r>0?",":""}${n=e,n.desc?`-${n.id}`:n.id}`})),t},Gn=e=>e.split(",").map((e=>({id:e.replace("-",""),desc:-1!==e.indexOf("-")}))),_n=e=>e.map((e=>e.columns?{id:e.accessor,columns:_n(e.columns)}:{id:e.accessor})),Kn=(e,t,r)=>[{icon:i().createElement(Le(),null),label:r({id:"iaso.label.selectAll",defaultMessage:"Select all"}),onClick:()=>e()},{icon:i().createElement(zn(),null),label:r({id:"iaso.label.unSelectAll",defaultMessage:"Unselect all"}),onClick:()=>t()}],Un={selectedItems:[],unSelectedItems:[],selectAll:!1,selectCount:0},Zn=(e,t,r=[],n=0)=>{switch(t){case"select":return Vn(Vn({},e),{},{selectedItems:r,selectCount:r.length});case"unselect":return Vn(Vn({},e),{},{unSelectedItems:r,selectCount:n-r.length});case"selectAll":return Vn(Vn({},e),{},{selectAll:!0,selectedItems:[],unSelectedItems:[],selectCount:n});case"reset":return Un;default:return Vn({},e)}},Wn=(e,t)=>""===e?t:`${e}${Ht(t,!0)}`,Jn=(e,t,r,n,o=[{id:"name",desc:!1}],a=10)=>{const l=Vn(Vn({},n),{},{limit:parseInt(e[Wn(t,"pageSize")],10)||a,page:parseInt(e[Wn(t,"page")],10)||0,order:$n(e[Wn(t,"order")]?Gn(e[Wn(t,"order")]):o)});return r.forEach((t=>{l[t.apiUrlKey]=e[t.urlKey]??t.defaultValue})),l},Yn={data:[],pages:0,count:0},Qn=e=>{const t=[...e];return e.forEach(((e,r)=>{e.headerInfo&&(t[r]=Vn(Vn({},t[r]),{},{Header:i().createElement(Pn,{message:e.headerInfo},t[r].Header)}))})),t},Xn=require("@material-ui/core/TableHead");var eo=e.n(Xn);const to=require("@material-ui/core/TableRow");var ro=e.n(to);const no=require("@material-ui/core/TableCell");var oo=e.n(no);const ao=require("@material-ui/core/TableSortLabel");var lo=e.n(ao);const io=(0,ge.defineMessages)({previousText:{defaultMessage:"Previous",id:"blsq.table.previous"},nextText:{defaultMessage:"Next",id:"blsq.table.next"},lastText:{defaultMessage:"Last page",id:"blsq.table.last"},firstText:{defaultMessage:"First page",id:"blsq.table.first"},noDataText:{defaultMessage:"No result",id:"blsq.table.noResult"},pageText:{defaultMessage:"Page",id:"blsq.table.page"},ofText:{defaultMessage:"of",id:"blsq.table.of"},rowsText:{defaultMessage:"results",id:"blsq.table.results"},selectionAction:{defaultMessage:"With",id:"blsq.table.labels.selectionAction"},results:{id:"blsq.table.label.resultsLower",defaultMessage:"result(s)"},selection:{id:"blsq.table.label.selection",defaultMessage:"Selection"},selected:{id:"blsq.table.label.selected",defaultMessage:"selected"},loading:{id:"blsq.table.loading",defaultMessage:"Loading..."},details:{defaultMessage:"Details",id:"blsq.table.details"},sortAsc:{defaultMessage:"Sort ascending",id:"blsq.table.sortAsc"},sortDesc:{defaultMessage:"Sort descending",id:"blsq.table.sortDesc"},unSort:{defaultMessage:"Remove sort",id:"blsq.table.unSort"}});function so(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}const co=(0,je.makeStyles)((e=>({resizer:{display:"inline-block",width:"15px",height:"100%",position:"absolute",right:0,top:0,transform:"translateX(50%)",zIndex:1,touchAction:"none",cursor:"col-resize"},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortLabel:{display:"inline-block",width:"80%"},icon:{color:`${e.palette.primary.main}!important`,position:"absolute",left:"100%",top:3},cell:{cursor:"default"}}))),uo=({column:e,columnsProps:t,setSortBy:r,multiSortEnabled:n,sortBy:o,isLastCell:a})=>{const l=co(),{formatMessage:s}=Pe(),c=!1!==e.sortable&&!e.isResizing;let u,p=io.sortAsc;e.isSorted&&(e.isSortedDesc?u="desc":(u="asc",p=io.sortDesc));const d={width:e.width??"auto"},m=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?so(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):so(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.getSortByToggleProps());return m.onClick=()=>{let t=[];const a={desc:"asc"===u,id:e.id};n?t=[...o.filter((t=>t.id!==e.id)),a]:t.push(a),r(t)},i().createElement(oo(),me()({},t,{style:d,className:g()(l.headerCell,a&&l.lastHeaderCell),key:t.key}),c&&i().createElement("div",m,i().createElement(lo(),{active:e.isSorted,direction:u,title:s(p),classes:{root:l.sortLabel,icon:l.icon}},e.render("Header"))),!c&&i().createElement("div",{className:l.cell},e.render("Header")),!1!==e.resizable&&i().createElement("div",me()({},e.getResizerProps(),{className:l.resizer})))};uo.propTypes={column:d().object.isRequired,columnsProps:d().object.isRequired,setSortBy:d().func.isRequired,multiSortEnabled:d().bool.isRequired,sortBy:d().array.isRequired,isLastCell:d().bool.isRequired};const po=({headerGroups:e,setSortBy:t,multiSortEnabled:r,sortBy:n})=>i().createElement(eo(),null,e.map((e=>{const o=e.getHeaderGroupProps();return i().createElement(ro(),me()({},o,{key:o.key}),e.headers.map(((o,a)=>{const l=o.getHeaderProps();return i().createElement(uo,{column:o,key:o.id,columnsProps:l,setSortBy:t,multiSortEnabled:r,sortBy:n,isLastCell:a+1===e.headers.length})})))})));po.defaultProps={headerGroups:[],sortBy:[],setSortBy:()=>null},po.propTypes={headerGroups:d().array,setSortBy:d().func,sortBy:d().array,multiSortEnabled:d().bool.isRequired};const mo=require("@material-ui/core/TableBody");var go=e.n(mo);const bo=(0,je.makeStyles)((e=>({row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.gray.background},"&:nth-of-type(even)":{backgroundColor:"transparent"}},cell:{padding:e.spacing(1,2)}}))),fo=({row:e,rowProps:t,subComponent:r,sortBy:n})=>{const o=bo(),[a,s]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{s(!1)}),[n]),i().createElement(i().Fragment,null,i().createElement(ro(),me()({},t,{className:o.row,key:t.key}),e.cells.map((e=>{const t=e.getCellProps(),r=e.column.align||"center";return i().createElement(oo(),me()({},t,{key:t.key,className:o.cell,align:"actions"===e.column.id?"center":r}),!e.column.expander&&e.render("Cell"),e.column.expander&&e.render("Expander",{isExpanded:a,setIsExpanded:s}))}))),a&&r&&i().createElement(ro(),me()({},t,{key:`${t.key}-expand`,className:o.row}),i().createElement(oo(),{colSpan:e.cells.length},r(e.original))))};fo.defaultProps={subComponent:void 0,sortBy:[]},fo.propTypes={sortBy:d().array,row:d().object.isRequired,rowProps:d().object.isRequired,subComponent:d().oneOfType([d().object,d().func])};const ho=({page:e,getTableBodyProps:t,prepareRow:r,subComponent:n,sortBy:o})=>i().createElement(go(),t,e.map((e=>{r(e);const t=e.getRowProps();return i().createElement(fo,{row:e,rowProps:t,key:t.key,subComponent:n,sortBy:o})})));ho.defaultProps={page:[],sortBy:[],rowsPerPage:10,subComponent:void 0},ho.propTypes={page:d().array,sortBy:d().array,getTableBodyProps:d().func.isRequired,prepareRow:d().func.isRequired,rowsPerPage:d().number,subComponent:d().oneOfType([d().object,d().func])};const yo=require("@material-ui/core/TableFooter");var Oo=e.n(yo);const vo=(0,je.makeStyles)((e=>({cell:{padding:e.spacing(1,2)}}))),wo=({footerGroups:e})=>{const t=vo();return i().createElement(Oo(),null,e.map((e=>{const r=e.getFooterGroupProps();return i().createElement(ro(),me()({},r,{key:r.key}),e.headers.map((e=>{const r=e.getFooterProps(),n=e.align||"center";return e.Footer&&!e.placeholderOf?i().createElement(oo(),me()({},r,{className:t.cell,key:r.key,align:n}),e.render("Footer")):null})))})))};wo.defaultProps={footerGroups:[]},wo.propTypes={footerGroups:d().array};const Po=require("@material-ui/core/Checkbox");var Eo=e.n(Po);const jo=(e,t)=>{const{selectedItems:r,unSelectedItems:n,selectAll:o}=t;return o?!n.find((t=>Ln()(t,e))):Boolean(r.find((t=>Ln()(t,e))))},Co=({count:e,multiSelect:t,selectionActions:r,setTableSelection:n,selection:o,selectionActionMessage:a})=>{const{formatMessage:l}=Pe();let s=[...Kn((()=>n("selectAll",[],e)),(()=>n("reset")),l)];return s=s.concat(r),i().createElement(Tn,{selection:o,hidden:!t,actions:s,reset:()=>n("reset"),actionMessage:a??l(io.selectionAction)})};Co.defaultProps={count:0,multiSelect:!1,selectionActions:[],selection:Un,setTableSelection:()=>null,selectionActionMessage:null},Co.propTypes={count:d().number,multiSelect:d().bool,selectionActions:d().array,setTableSelection:d().func,selection:d().object,selectionActionMessage:d().string};const xo=(0,je.makeStyles)((e=>({box:{width:"100%",height:e.spacing(10),backgroundColor:e.palette.gray.background}}))),To=({loading:e})=>{const t=xo();return i().createElement(Mr(),{className:t.box,alignItems:"center",justifyContent:"center",display:"flex"},!e&&i().createElement(ge.FormattedMessage,io.noDataText))};To.defaultProps={loading:!1},To.propTypes={loading:d().bool};const ko=({count:e,selectCount:t})=>i().createElement(Mr(),{py:2,display:"flex",justifyContent:"flex-end",className:"pagination-count"},t>0&&i().createElement(i().Fragment,null,i().createElement(Mr(),{display:"inline-block",mr:1},`${$t(t)} `,i().createElement(ge.FormattedMessage,io.selected)),"-"),e>0&&i().createElement(Mr(),{display:"inline-block",ml:1},`${$t(e)} `,i().createElement(ge.FormattedMessage,io.results)));ko.defaultProps={count:0,selectCount:0},ko.propTypes={count:d().number,selectCount:d().number};const So=require("@material-ui/core/TablePagination");var Io=e.n(So);const qo=require("@material-ui/core/IconButton");var Ro=e.n(qo);const Do=require("@material-ui/icons/FirstPage");var Mo=e.n(Do);const Lo=require("@material-ui/icons/KeyboardArrowLeft");var Bo=e.n(Lo);const No=require("@material-ui/icons/KeyboardArrowRight");var Ao=e.n(No);const zo=require("@material-ui/icons/LastPage");var Fo=e.n(zo);const Vo=(0,je.makeStyles)((()=>({input:{width:80},mediumInput:{width:90},largeInput:{width:100},XLInput:{width:110}}))),Ho=({pageIndex:e,pages:t,onPageChange:r})=>{const n=Vo(),[o,a]=(0,l.useState)(e);return i().createElement(Mr(),{display:"inline-flex",justifyContent:"center",alignItems:"center",ml:8},i().createElement(Mr(),{display:"inline-block",mr:1},i().createElement(ge.FormattedMessage,io.pageText)),i().createElement(Gr(),{className:g()(n[(s=o,s<=999?"input":s<=9999?"mediumInput":s<=99999?"largeInput":"XLInput")],"pagination-page-select"),size:"small",label:"",type:"number",value:o,disabled:t<2,variant:"outlined",onChange:e=>{a((e=>{const t=parseInt(e,10);return Number.isNaN(t)?"":t})(e.currentTarget.value))},onKeyPress:e=>{"Enter"===e.key&&r(o)}}),i().createElement(Mr(),{display:"inline-block",ml:1},i().createElement(ge.FormattedMessage,io.ofText)),i().createElement(Mr(),{display:"inline-block",ml:1},t));var s};Ho.defaultProps={pages:0,pageIndex:0},Ho.propTypes={pages:d().number,pageIndex:d().number,onPageChange:d().func.isRequired};const $o=require("@material-ui/core/MenuItem");var Go=e.n($o);const _o=require("@material-ui/core/Select");var Ko=e.n(_o);const Uo=(0,je.makeStyles)((e=>({select:{height:40,marginLeft:e.spacing(10)}}))),Zo=({rowsPerPage:e,rowsPerPageOptions:t,selectRowsPerPage:r})=>{const n=Uo(),{formatMessage:o}=Pe();return i().createElement(Mr(),{display:"inline-flex",justifyContent:"center",alignItems:"center",mr:8},i().createElement(fr(),{variant:"outlined"},i().createElement(Ko(),{className:g()(n.select,"pagination-row-select"),value:e,onChange:e=>{r(e.target.value)}},t.map((e=>i().createElement(Go(),{key:e,value:e,className:`row-option-${e}`},`${e} ${o(io.rowsText)}`))))))};Zo.propTypes={rowsPerPage:d().number.isRequired,rowsPerPageOptions:d().array.isRequired,selectRowsPerPage:d().func.isRequired};const Wo=(0,je.makeStyles)((e=>({root:{width:"100%",position:"relative"},withCount:{marginRight:"130px"},count:{position:"absolute",right:e.spacing(2)}}))),Jo=({count:e,pageIndex:t,rowsPerPage:r,onPageChange:n,pages:o,rowsPerPageOptions:a,selectRowsPerPage:l,countOnTop:s,selectCount:c})=>{const u=Wo(),{formatMessage:p}=Pe(),d=0===t,m=t>=Math.ceil(e/r)-1;return i().createElement(Mr(),{py:2,display:"flex",justifyContent:"center",alignItems:"center",className:u.root},i().createElement(Ro(),{className:"pagination-first",variant:"outlined",onClick:()=>{n(1)},disabled:d,"aria-label":p(io.firstText)},i().createElement(Mo(),{color:d?"inherit":"primary"})),i().createElement(Ro(),{className:"pagination-previous",variant:"outlined",onClick:()=>{n(t)},disabled:d,"aria-label":p(io.previousText)},i().createElement(Bo(),{color:d?"inherit":"primary"})),i().createElement(Ho,{pages:o,pageIndex:t+1,onPageChange:e=>{n(e)}}),i().createElement(Zo,{rowsPerPage:r,rowsPerPageOptions:a,selectRowsPerPage:l}),i().createElement(Ro(),{className:"pagination-next",variant:"outlined",onClick:()=>{n(t+2)},disabled:m,"aria-label":p(io.nextText)},i().createElement(Ao(),{color:m?"inherit":"primary"})),i().createElement(Ro(),{variant:"outlined",onClick:()=>{n(Math.max(0,Math.ceil(e/r)))},disabled:m,"aria-label":p(io.lastText),className:g()(!s&&u.withCount,"pagination-last")},i().createElement(Fo(),{color:m?"inherit":"primary"})),!s&&i().createElement("div",{className:u.count},i().createElement(ko,{count:e,selectCount:c})))};Jo.propTypes={pages:d().number.isRequired,count:d().number.isRequired,onPageChange:d().func.isRequired,pageIndex:d().number.isRequired,rowsPerPage:d().number.isRequired,rowsPerPageOptions:d().array.isRequired,selectRowsPerPage:d().func.isRequired,countOnTop:d().bool.isRequired,selectCount:d().number.isRequired};const Yo=(0,je.makeStyles)((()=>({spacer:{display:"none"},caption:{display:"none"},input:{display:"none"}}))),Qo=({count:e,rowsPerPage:t,pageIndex:r,onTableParamsChange:n,pages:o,countOnTop:a,selectCount:l})=>{const s=Yo(),c=r+1>o?o-1:r;return i().createElement(Io(),{classes:{spacer:s.spacer,caption:s.caption,input:s.input},rowsPerPageOptions:Nn,component:"div",count:e,rowsPerPage:t,page:c,onPageChange:(e,t)=>{n("page",t+1)},onRowsPerPageChange:e=>{n("pageSize",e.target.value)},ActionsComponent:()=>i().createElement(Jo,{rowsPerPageOptions:Nn,count:e,rowsPerPage:t,onPageChange:e=>{n("page",e)},selectRowsPerPage:e=>n("pageSize",e),pageIndex:c,pages:o,countOnTop:a,selectCount:l}),labelDisplayedRows:()=>null})};function Xo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xo(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Qo.defaultProps={count:0,rowsPerPage:0,pageIndex:0,pages:0,selectCount:0},Qo.propTypes={count:d().number,rowsPerPage:d().number,pageIndex:d().number,pages:d().number,onTableParamsChange:d().func.isRequired,countOnTop:d().bool.isRequired,selectCount:d().number};const ta=(0,je.makeStyles)((()=>({tableContainer:{overflowY:"hidden"},paper:{position:"relative"}}))),ra=e=>{const{params:t,count:r,extraProps:n,paramsPrefix:o,redirectTo:a,baseUrl:s,pages:c,countOnTop:u,marginTop:p,multiSelect:d,selectionActions:m,setTableSelection:g,selection:b,selectionActionMessage:f,showPagination:y,showFooter:O,onTableParamsChange:v,defaultSorted:w,resetPageToOne:P,elevation:E}=e,{formatMessage:j}=Pe(),C=ta(),x=Wr("Shift"),T=(0,l.useMemo)((()=>{const t=[...e.columns];return d&&!e.columns.find((e=>"selected"===e.accessor))&&t.push(((e,t,r,n)=>({Header:n(io.selection),accessor:"selected",width:100,sortable:!1,Cell:n=>i().createElement(Eo(),{color:"primary",checked:jo(n.cell.row.original,e),onChange:o=>(({isSelected:e,item:t,selection:r,setTableSelection:n,count:o})=>{const a=[...r.selectedItems],l=[...r.unSelectedItems],{selectAll:i}=r;if(i){if(e){const e=l.findIndex((e=>Ln()(e,t)));-1!==e&&l.splice(e,1)}else l.push(t);n("unselect",l,o)}else{if(e)a.push(t);else{const e=a.findIndex((e=>Ln()(e,t)));a.splice(e,1)}n("select",a)}})({isSelected:o.target.checked,item:n.cell.row.original,selection:e,setTableSelection:t,count:r})})}))(b,g,r,j)),Qn(t)}),[e.columns,d,b]),k=(0,l.useMemo)((()=>e.data),[e.data]),{loading:S}=n,I=(0,l.useMemo)((()=>{const e=parseInt(t[Wn(o,"pageSize")],10),r=t[Wn(o,"order")]&&Gn(t[Wn(o,"order")]);return{pageIndex:t[Wn(o,"page")]?parseInt(t[Wn(o,"page")],10)-1:0,pageSize:e||(null==n?void 0:n.defaultPageSize)||10,sortBy:r||w}}),[]),{getTableProps:q,getTableBodyProps:R,headerGroups:D,footerGroups:M,prepareRow:L,gotoPage:B,setPageSize:N,setSortBy:A,page:z,state:{pageSize:F,pageIndex:V,sortBy:H}}=(0,Bn.useTable)({columns:T,data:k,initialState:I,disableMultiSort:!0,manualPagination:!0,manualSortBy:!0,pageCount:c,autoResetPage:!1},Bn.useSortBy,Bn.useResizeColumns,Bn.usePagination),$=(e,r)=>{const n=ea({},t);"order"===e&&r.length>0?(A(r),n[Wn(o,"order")]=$n(r)):"order"!==e&&(n[Wn(o,e)]=r),"pageSize"===e&&(n[Wn(o,"page")]=1,N(r)),"page"===e&&B(r-1),a(s,n),v(n)},G=ea(ea({},q()),{},{size:"small"});Ee((()=>{B(0)}),[P]);const _=parseInt(F,10);return i().createElement(Mr(),{mt:p?4:0,mb:4},i().createElement(Co,{count:r,multiSelect:d,selectionActions:m,selection:b,setTableSelection:g,selectionActionMessage:f}),u&&i().createElement(ko,{count:r,selectCount:b.selectCount}),i().createElement(qn(),{elevation:E,className:C.paper},S&&i().createElement(h,{absolute:!0}),i().createElement(Dn(),{className:C.tableContainer},i().createElement(Sn(),me()({},G,{stickyHeader:!0}),i().createElement(po,{headerGroups:D,setSortBy:e=>$("order",e),multiSortEnabled:x,sortBy:H}),i().createElement(ho,{page:z,getTableBodyProps:R,prepareRow:L,subComponent:n.SubComponent,sortBy:H}),O&&i().createElement(wo,{footerGroups:M}))),0===(null==z?void 0:z.length)&&i().createElement(To,{loading:S}),(null==z?void 0:z.length)>0&&y&&i().createElement(Qo,{count:r,rowsPerPage:_,pageIndex:V,onTableParamsChange:$,pages:c,countOnTop:u,selectCount:b.selectCount})))};ra.defaultProps={count:0,pages:0,baseUrl:"",countOnTop:!0,marginTop:!0,multiSelect:!1,selectionActions:[],selection:Un,setTableSelection:()=>null,redirectTo:()=>null,extraProps:{loading:!1},paramsPrefix:"",params:{pageSize:10,page:1,order:"-created_at"},selectionActionMessage:null,showPagination:!0,showFooter:!1,onTableParamsChange:()=>null,defaultSorted:Gn("-created_at"),resetPageToOne:"",elevation:3},ra.propTypes={params:d().object,count:d().number,pages:d().number,data:d().array.isRequired,columns:d().array.isRequired,baseUrl:d().string,countOnTop:d().bool,marginTop:d().bool,multiSelect:d().bool,selectionActions:d().array,redirectTo:d().func,setTableSelection:d().func,selection:d().object,extraProps:d().object,paramsPrefix:d().string,selectionActionMessage:d().string,showPagination:d().bool,showFooter:d().bool,onTableParamsChange:d().func,defaultSorted:d().array,resetPageToOne:d().string,elevation:d().number};const na=i().memo(ra,((e,t)=>{const r=_n(e.columns),n=_n(t.columns);return!!(Ln()(e.data,t.data)&&Ln()(r,n)&&Ln()(e.selection.selectedItems,t.selection.selectedItems)&&Ln()(e.selection.selectAll,t.selection.selectAll)&&Ln()(e.selection.unSelectedItems,t.selection.unSelectedItems)&&Ln()(e.extraProps,t.extraProps))})),oa=require("@material-ui/icons/Visibility");var aa=e.n(oa);const la=require("@material-ui/icons/VisibilityOff");var ia=e.n(la);const sa=({isExpanded:e,setIsExpanded:t})=>{const{formatMessage:r}=Pe();return e?i().createElement(u.IconButton,{onClick:()=>t(!e)},i().createElement(ia(),null)):i().createElement(u.Tooltip,{title:r(io.details)},i().createElement(u.IconButton,{onClick:()=>t(!e)},i().createElement(aa(),null)))};sa.defaultProps={isExpanded:!1,setIsExpanded:()=>null},sa.propTypes={isExpanded:d().bool,setIsExpanded:d().func};const ca=(0,ge.defineMessages)({reply:{id:"blsq.comment.button.reply",defaultMessage:"Reply"}});function ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const da=(0,je.makeStyles)((e=>{var t;return pa(pa({},Re(e)),{},{commentRoot:{padding:"10px 20px",margin:"0px 5px 5px 5px"},commentAuthor:{margin:0,textAlign:"left"},commentPostingTime:{textAlign:"end",color:(null===(t=e.mediumGray)||void 0===t?void 0:t.main)??"#A2A2A2"},commentGrid:{justifyContent:"left",padding:"0px 10px"},replyToComment:{textAlign:"end"},commentText:{textAlign:"justify",marginTop:"10px"},toggleCommentText:{alignSelf:"end",cursor:"default",color:"#3f51b5","&:hover":{textDecoration:"underline"}},expandThread:{textAlign:"end"},button:{backgroundColor:"#fff",color:"#3f51b5"},childComment:{paddingLeft:"20px"}})})),ma=(0,ge.defineMessages)({textAreaPlaceholder:{id:"blsq.comment.textArea.placeholder",defaultMessage:"Leave a comment here"},confirmComment:{id:"blsq.comment.confirmComment",defaultMessage:"Confirm"}});function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fa=(0,je.makeStyles)((e=>ba(ba({},Re(e)),{},{textAreaContainer:{width:"100%",marginTop:"20px"},textArea:{width:"100%",borderRadius:"6px",borderColor:"#A2A2A2",padding:"8px",resize:"vertical"},left:{textAlign:"left"},right:{textAlign:"right"},center:{textAlign:"center"},commentConfirmButton:{marginBottom:"20px",marginLeft:"auto"},button:{color:"#fff",backgroundColor:"#3f51b5"}}))),ha=({placeholder:e,minRows:t,maxRows:r,onChange:n,className:o,buttonText:a,onConfirm:s,position:c,inline:p})=>{const[d,m]=(0,l.useState)(""),g=fa(),b=Pe(),f=(0,l.useCallback)((()=>{s(d),m("")}),[d]);return i().createElement(u.Grid,{container:!0,direction:p?"row":"column",alignItems:"center",spacing:2,className:c?g[c]:null},i().createElement(u.Grid,{item:!0,className:g.textAreaContainer},i().createElement(u.TextareaAutosize,{className:o??g.textArea,minRows:t,maxRows:r,"aria-label":"write comment here",placeholder:e??b.formatMessage(ma.textAreaPlaceholder),onChange:e=>{m(e.target.value),n(e.target.value)},value:d,autoFocus:!0})),i().createElement(u.Grid,{item:!0,className:g.commentConfirmButton},i().createElement(u.Button,{onClick:f,variant:"contained",color:"primary"},a??b.formatMessage(ma.confirmComment))))};ha.propTypes={placeholder:d().string,className:d().string,minRows:d().number,maxRows:d().number,onChange:d().func,onConfirm:d().func,buttonText:d().string,position:d().string,inline:d().bool},ha.defaultProps={placeholder:null,minRows:3,maxRows:5,onChange:()=>{},className:null,buttonText:null,onConfirm:()=>{},position:"",inline:!0};const ya=require("moment");var Oa=e.n(ya);const va=(0,ge.defineMessages)({textExpand:{id:"blsq.comment.button.textExpand",defaultMessage:"See more"},textCollapse:{id:"blsq.comment.button.textCollapse",defaultMessage:"See less"},postingTime:{id:"blsq.comment.postingTime",defaultMessage:"Posted:"}}),wa=({text:e,hideOverflow:t,toggle:r,maxLength:n,textExpand:o,textCollapse:a})=>{const l=da(),s=Pe();return i().createElement("div",{className:l.commentText},i().createElement("p",null,t&&e.length>n?Gt(e,150):e," "),t&&i().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},o??s.formatMessage(va.textExpand)),!t&&e.length>n&&i().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},a??s.formatMessage(va.textCollapse)))};wa.propTypes={text:d().string.isRequired,hideOverflow:d().bool.isRequired,toggle:d().func.isRequired,maxLength:d().number.isRequired,textExpand:d().string,textCollapse:d().string},wa.defaultProps={textExpand:null,textCollapse:null};const Pa=({avatar:e,author:t,content:r,postingTime:n,classNames:o})=>{const a=Pe(),s=da(),[c,p]=(0,l.useState)(r.length>150),d=(0,l.useCallback)((()=>p(!c)),[c]),m=o??s,g=`${a.formatMessage(va.postingTime)}  ${Oa()(n).fromNow()}`;return i().createElement(u.Grid,{container:!0,wrap:"nowrap",spacing:4},i().createElement(u.Grid,{item:!0},i().createElement(u.Avatar,{alt:t,src:e})),i().createElement(u.Grid,{className:m.commentGrid,item:!0,xs:!0,zeroMinWidth:!0},i().createElement("h4",{className:m.commentAuthor},t),i().createElement(wa,{text:r,hideOverflow:c,toggle:d,maxLength:150}),i().createElement(u.Typography,{variant:"body2",className:m.commentPostingTime,component:"div"},g)))};Pa.propTypes={avatar:d().string,author:d().string.isRequired,content:d().string.isRequired,postingTime:d().string,classNames:d().arrayOf(d().string)},Pa.defaultProps={avatar:null,postingTime:"",classNames:null};const Ea=({avatar:e,author:t,content:r,postingTime:n,classNames:o,actionText:a,onAddComment:s,id:c})=>{const p=Pe(),d=da(),[m,g]=(0,l.useState)(!1),b=o??d,f=(0,l.useCallback)((e=>{g(!1),s(e,c)}),[c,s]);return i().createElement(u.Paper,{variant:"outlined",className:b.commentRoot},i().createElement(Pa,{avatar:e,author:t,postingTime:n,content:r}),!m&&i().createElement("div",{className:b.replyToComment},i().createElement(u.Button,{className:b.button,size:"small",onClick:()=>{g(!0)}},a??p.formatMessage(ca.reply))),m&&i().createElement(ha,{position:"right",onConfirm:f}))};Ea.propTypes={avatar:d().string,author:d().string.isRequired,content:d().string.isRequired,postingTime:d().string,classNames:d().arrayOf(d().string),actionText:d().string,onAddComment:d().func,id:d().number},Ea.defaultProps={avatar:null,postingTime:"",classNames:null,actionText:null,onAddComment:()=>{},id:null};const ja=(0,ge.defineMessages)({collapse:{id:"blsq.comment.button.label.collapse",defaultMessage:"Hide thread"},expand:{id:"blsq.comment.button.label.expand",defaultMessage:"Show thread"},addReply:{id:"blsq.comment.button.label.addReply",defaultMessage:"Add reply"}}),Ca=({comments:e,actionText:t,onAddComment:r,parentId:n})=>{const o=da(),a=Pe(),[s,c]=(0,l.useState)(!1),[p,d]=(0,l.useState)(!1),m=(0,l.useCallback)((()=>{p&&c(!1),d(!p)}),[p]),g=()=>{c(!0),d(!0)},b=(0,l.useCallback)((e=>{c(!1),r(e,n)}),[r,n]),f=(0,l.useCallback)(((e,t)=>{c(!1),d(!0),r(e,t)}),[r]);return 1===e.length?i().createElement(Ea,{onAddComment:f,author:e[0].author,content:e[0].comment,postingTime:e[0].dateTime,id:e[0].id}):i().createElement(u.Paper,{className:o.commentRoot,variant:"outlined",elevation:1},((h=p?e:[e[0]]).length,h.map(((r,n)=>i().createElement("div",{key:`Fragment${r.author}${r.dateTime}${r.id}`??0,className:0===n?"":o.childComment},i().createElement(Pa,{avatar:r.avatar,author:r.author,postingTime:r.dateTime,content:r.comment}),0===n&&i().createElement("div",{className:o.expandThread},i().createElement(u.Button,{onClick:m,className:o.button,size:"small"},a.formatMessage(p?ja.collapse:ja.expand))),!s&&i().createElement("div",{className:o.replyToComment},i().createElement(u.Button,{className:o.button,size:"small",onClick:g},t??a.formatMessage(ja.addReply))),n===e.length-1&&s&&i().createElement(ha,{onConfirm:b}),n<e.length-1&&p&&i().createElement(u.Divider,{variant:"fullWidth",style:{margin:"30px 0"},key:`divider${r.author}${r.dateTime}${r.id}`??0}))))));var h};Ca.propTypes={comments:d().array,actionText:d().string,onAddComment:d().func,parentId:d().number},Ca.defaultProps={comments:[],actionText:null,onAddComment:()=>{},parentId:null};const xa=require("@material-ui/icons/InfoOutlined");var Ta=e.n(xa);const ka=(0,ge.defineMessages)({loading:{id:"blsq.treeview.loading",defaultMessage:"Loading"},confirm:{id:"blsq.treeview.search.confirm",defaultMessage:"Confirm"},cancel:{id:"blsq.treeview.search.cancel",defaultMessage:"Cancel"},selectSingle:{id:"blsq.treeview.label.selectSingle",defaultMessage:"Select an org unit"},selectMultiple:{id:"blsq.treeview.label.selectMultiple",defaultMessage:"Select org unit(s)"},display:{id:"blsq.treeview.search.results.label.display",defaultMessage:"Display"},resultsLower:{id:"blsq.treeview.search.results.label.resultsLower",defaultMessage:"result(s)"},noOptions:{id:"blsq.treeview.search.options.label.noOptions",defaultMessage:"No result found"},clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"Clear"},search:{id:"blsq.treeview.search.inputLabelObject",defaultMessage:"Enter search term"}}),Sa=require("react-query");function Ia(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ia(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ra=[5,10,20,30,40,50],Da=({resultsCount:e,handleSelect:t,countOptions:r})=>i().createElement(Zo,{rowsPerPageOptions:r,rowsPerPage:e,selectRowsPerPage:t});Da.propTypes={countOptions:(0,p.arrayOf)(p.number),resultsCount:p.number,handleSelect:p.func},Da.defaultProps={countOptions:Ra,handleSelect:()=>null,resultsCount:Ra[2]};const Ma=({classes:e,onSelect:t,minResultCount:r,inputLabelObject:n,withSearchButton:o,request:a,makeDropDownText:s,toolTip:c})=>{const{formatMessage:p}=Pe(),[d,m]=(0,l.useState)(""),[g,b]=(0,l.useState)(r),[f,y]=(0,l.useState)(!1),[O,v]=(0,l.useState)(!1),[w,P]=(0,l.useState)(!1),{data:E,isLoading:j,isFetching:C}=(({request:e,searchValue:t,resultsCount:r,options:n})=>(0,Sa.useQuery)(["TreeviewSearch",e,t,r],(async()=>await e(t,r)),qa(qa({initialData:[],retry:!1},n),{},{keepPreviousData:!0})))({request:a,searchValue:d,resultsCount:g,options:{enabled:f&&O}}),x=(0,l.useCallback)((()=>{""!==d&&v(!0)}),[d]),T=i().createElement(Ta(),{fontSize:"small",style:{color:Ce.palette.mediumGray.main}});return i().createElement(u.Box,{className:e.root},i().createElement(u.ClickAwayListener,{onClickAway:()=>{w||y(!1)}},i().createElement(u.Box,{className:e.container,onFocus:()=>y(!0)},i().createElement(u.Box,{className:e.searchBar},i().createElement(Rr,{disabled:j,keyValue:"orgUnitSearch",onChange:e=>{m(e),v(!1)},value:d,type:"search",label:p(n),onEnterPressed:()=>x()}),o&&i().createElement(u.Button,{variant:"contained",className:e.searchButton,color:"primary",onClick:x},i().createElement(ge.FormattedMessage,ka.search))),j&&i().createElement("div",{className:e.loadingContainer},i().createElement(h,{fixed:!1,transparent:!0,padding:4,size:25})),0===E.length&&f&&O&&!C&&i().createElement(u.Typography,{variant:"body2",align:"center",className:e.noResult},i().createElement(ge.FormattedMessage,ka.noOptions)),E.length>0&&f&&i().createElement(u.Box,{className:e.listContainer},i().createElement(u.List,{className:e.list},E.map((e=>i().createElement(u.ListItem,{key:e.id,button:!0,onClick:()=>(e=>{t(e),y(!1)})(e),className:"org-unit-item"},i().createElement(u.ListItemText,{primary:i().createElement(u.Typography,{type:"body2"},s(e))}),c&&c(e,T))))),i().createElement(u.Divider,null),i().createElement(u.Box,{className:e.resultInfos},i().createElement(u.ClickAwayListener,{onClickAway:()=>P(!1)},i().createElement("div",{className:e.countContainer,onFocus:()=>P(!0)},i().createElement(Da,{handleSelect:e=>{b(parseInt(e,10))},resultsCount:g}))))))))};Ma.defaultProps={minResultCount:50,inputLabelObject:ka.search,withSearchButton:!1,toolTip:null,onSelect:()=>{}},Ma.propTypes={classes:d().object.isRequired,onSelect:d().func,minResultCount:d().number,inputLabelObject:d().object,withSearchButton:d().bool,request:d().func.isRequired,makeDropDownText:d().func.isRequired,toolTip:d().func};const La=(0,u.withStyles)((e=>({root:{height:e.spacing(9),overflow:"visible"},container:{position:"relative",zIndex:1e3},loadingContainer:{position:"absolute",top:"0",left:"0",width:"100%",zIndex:10,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)"},listContainer:{border:`1px solid ${e.palette.ligthGray.border}`,backgroundColor:"white",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden"},list:{maxHeight:"50vh",overflow:"auto"},noResult:{backgroundColor:"white",border:`1px solid ${e.palette.ligthGray.border}`,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,color:e.palette.error.main,height:e.spacing(9),display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)"},resultInfos:{fontSize:12,height:e.spacing(6),display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,4)},countContainer:{marginTop:"7px"},iconButton:{height:25,marginLeft:e.spacing(1)},resultsCountInput:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"center"},searchBar:{display:"flex",alignItems:"center"},searchButton:{marginLeft:"10px"}})))(Ma),Ba=require("@material-ui/icons/ArrowRight");var Na=e.n(Ba);const Aa=require("@material-ui/icons/ArrowDropDown");var za=e.n(Aa);const Fa=require("@material-ui/icons/CheckBoxOutlineBlankOutlined");var Va=e.n(Fa);const Ha=require("@material-ui/icons/IndeterminateCheckBox");var $a=e.n(Ha);function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Ka=(0,je.makeStyles)((e=>({treeItem:{"&.MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:e.palette.primary.background,alignItems:"center",color:e.palette.primary.main}},unselectableTreeItem:{"&.MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{alignItems:"center",color:e.palette.mediumGray.main}},checkbox:{color:e.palette.mediumGray.main,fontSize:"16px",marginRight:"5px"}}))),Ua=({label:e,id:t,fetchChildrenData:r,expanded:n,toggleOnLabelClick:o,onLabelClick:a,data:s,withCheckbox:c,ticked:u,parentsTicked:p,scrollIntoView:d,allowSelection:m,queryOptions:g={}})=>{const b=Ka(),f=n.includes(t),h=u.includes(t),y=p.includes(t),O=m(s),{data:v,isLoading:w}=(({request:e,id:t,options:r})=>(0,Sa.useQuery)(["getChildrenData",e,t],(async()=>e(t)),qa({retry:!1},r)))({request:r,id:t,options:_a(_a({},g),{},{enabled:f})}),P=(0,l.useRef)(),E=s.has_children,j=(e,t,r,n)=>i().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},((e,t,r)=>e?t?i().createElement(Cn(),{className:b.checkbox}):r?i().createElement($a(),{className:b.checkbox}):i().createElement(Va(),{className:b.checkbox}):null)(t,r,n),e),C=(0,l.useCallback)((e=>{o||e.preventDefault(),a(t,s,O)}),[s,t,a,o,O]);return(0,l.useEffect)((()=>{d===t&&P.current.scrollIntoView()}),[d,t,P]),f&&w?i().createElement(En.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:P,label:j(e(s),c,h,y),nodeId:t,icon:i().createElement(za(),{style:{fontSize:"large"}})}):E?i().createElement("div",{style:{display:"flex"}},i().createElement(En.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:P,label:j(e(s),c,h,y),nodeId:t,collapseIcon:i().createElement(za(),{style:{fontSize:"24px"}}),expandIcon:i().createElement(Na(),{style:{fontSize:"24px"}}),onLabelClick:C},v&&f&&((x=v)?x.map((t=>i().createElement(Ua,{key:`TreeItem ${t.id}`,label:e,id:t.id,fetchChildrenData:r,expanded:n,toggleOnLabelClick:o,onLabelClick:a,data:t,withCheckbox:c,ticked:u,parentsTicked:p,scrollIntoView:d,allowSelection:m,queryOptions:g}))):null),!f&&i().createElement("div",null))):E||O?i().createElement("div",{style:{display:"flex"}},i().createElement(En.TreeItem,{classes:{root:O?b.treeItem:b.unselectableTreeItem},ref:P,label:j(e(s),c,h),nodeId:t,collapseIcon:i().createElement(za(),{style:{fontSize:"24px"}}),expandIcon:i().createElement(Na(),{style:{fontSize:"24px"}}),onLabelClick:C})):null;var x};Ua.propTypes={label:p.func.isRequired,id:p.string.isRequired,fetchChildrenData:p.func,expanded:(0,p.arrayOf)(p.string),toggleOnLabelClick:p.bool,data:p.object.isRequired,onLabelClick:p.func,withCheckbox:p.bool,ticked:(0,p.oneOfType)([p.string,p.array]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object},Ua.defaultProps={fetchChildrenData:()=>{},expanded:[],toggleOnLabelClick:!0,onLabelClick:()=>{},withCheckbox:!1,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{}};const Za=(0,je.makeStyles)((e=>({root:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"},isFetching:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"}}))),Wa=({getChildrenData:e,getRootData:t,label:r,multiselect:n,expanded:o,selected:a,onToggle:s,toggleOnLabelClick:c,onSelect:p,onCheckBoxClick:d,onLabelClick:m,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:y={},childrenQueryOptions:O={}})=>{const v=Za(),w=(0,l.useCallback)(e,[e]),{data:P,isFetching:E}=((e,t={})=>(0,Sa.useQuery)(["getRootData",e],(async()=>e()),qa(qa({retry:!1},t),{},{keepPreviousData:!1})))(t,y),j=(0,l.useCallback)((e=>e?e.map((e=>i().createElement(Ua,{label:r,id:e.id,data:e,key:`RootTreeItem ${e.id}`,fetchChildrenData:w,expanded:o,selected:a,toggleOnLabelClick:c,onCheckBoxClick:d,onLabelClick:m,withCheckbox:n,ticked:g,parentsTicked:b,scrollIntoView:f,allowSelection:h,queryOptions:O}))):null),[r,w,o,a,c,d,m,n,g,b,f]);return i().createElement(En.TreeView,{classes:E?{root:v.isFetching}:{root:v.root},expanded:o,selected:a,multiSelect:n,onNodeSelect:(e,t)=>{p(t)},onNodeToggle:(e,t)=>{s(t)}},!E&&P&&j(P),E&&i().createElement(u.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},i().createElement(u.CircularProgress,null)))};Wa.propTypes={getChildrenData:p.func,getRootData:p.func,label:p.func.isRequired,multiselect:p.bool,toggleOnLabelClick:p.bool,expanded:(0,p.arrayOf)(p.string).isRequired,onToggle:p.func.isRequired,onSelect:p.func,onCheckBoxClick:p.func,onLabelClick:p.func,selected:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),ticked:(0,p.oneOfType)([p.string,(0,p.arrayOf)(p.string)]),parentsTicked:p.array,scrollIntoView:p.string,allowSelection:p.func,queryOptions:p.object,childrenQueryOptions:p.object},Wa.defaultProps={getChildrenData:()=>{},getRootData:()=>{},multiselect:!1,toggleOnLabelClick:!0,onSelect:()=>{},onCheckBoxClick:()=>{},onLabelClick:()=>{},selected:void 0,ticked:[],parentsTicked:[],scrollIntoView:null,allowSelection:()=>!0,queryOptions:{},childrenQueryOptions:{}};const Ja=e=>e?Array.from(e.entries()).map((e=>Array.from(e[1].keys()))).map((e=>e.map((e=>e.toString())).filter(((e,t,r)=>e!==r[r.length-1])))).flat():null,Ya=({label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,onSelect:o,minResultCount:a,inputLabelObject:s,withSearchButton:c,request:u,makeDropDownText:p,toolTip:d,parseNodeIds:m,onUpdate:g,multiselect:b,preselected:f,preexpanded:h,selectedData:y,allowSelection:O})=>{const[v,w]=(0,l.useState)((e=>e?Array.isArray(e)?e:[e]:[])(y)),[P,E]=(0,l.useState)(f||(b?[]:"")),[j,C]=(0,l.useState)(Ja(h)??[]),[x,T]=(0,l.useState)(f??[]),[k,S]=(0,l.useState)(h??new Map),[I,q]=(0,l.useState)(Array.isArray(f)?null:f),R=(0,l.useCallback)((e=>{E(e),b&&o(e)}),[o,b]),D=(0,l.useCallback)(((e,t,r)=>{let n,o,a;r&&(n=b?x.includes(e)?x.filter((t=>t!==e)):[...x,e]:[e],T(n)),o=b?new Map(k):new Map,k.has(e)?(o.delete(e),a=(null==v?void 0:v.filter((t=>t.id!==e)))??[]):(o.set(e,m(t)),a=b?[...v,t]:[t]),g(n,o,a),S(o),w(a)}),[g,x,k,b,v,m]),M=(0,l.useCallback)((e=>{const t=m(e),r=Array.from(t.keys()).map((e=>e.toString())),n=r[r.length-1];if(r.pop(),b){C([...j,...r]);const e=[...P,n];R(e)}else{C(r);const o=new Map;o.set(n,t),R(n),w([e]),g(n,o,[e])}q(n)}),[m,R,P,g,j,b]);return i().createElement(i().Fragment,null,i().createElement(La,{onSelect:M,minResultCount:a,inputLabelObject:s,withSearchButton:c,request:u,makeDropDownText:p,toolTip:d}),i().createElement(Wa,{label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,selected:P,onSelect:R,expanded:j,onToggle:C,onLabelClick:D,multiselect:b,ticked:x,parentsTicked:Ja(k),scrollIntoView:I,allowSelection:O}))};function Qa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Ya.propTypes={getChildrenData:p.func,getRootData:p.func,toggleOnLabelClick:p.bool,onSelect:p.func,minResultCount:p.number,inputLabelObject:p.object,withSearchButton:p.bool,request:p.func.isRequired,makeDropDownText:p.func.isRequired,toolTip:p.func,parseNodeIds:p.func.isRequired,onUpdate:p.func,multiselect:p.bool,preselected:(0,p.oneOfType)([p.string,p.array]),preexpanded:p.any,selectedData:(0,p.oneOfType)([p.object,p.array]),label:p.func.isRequired,allowSelection:p.func},Ya.defaultProps={getChildrenData:()=>{},getRootData:()=>{},toggleOnLabelClick:!0,onSelect:()=>{},minResultCount:50,inputLabelObject:ka.search,withSearchButton:!1,toolTip:null,onUpdate:()=>{},multiselect:!1,preselected:null,preexpanded:null,selectedData:[],allowSelection:()=>!0};const el={display:"flex",alignItems:"center"},tl={"&.MuiTreeItem-root:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}},rl=Xa({"& .MuiTreeItem-label":Xa(Xa({},el),{},{paddingLeft:"0px"})},tl),nl=(0,je.makeStyles)((e=>({truncatedTreeview:{color:e.palette.mediumGray.main},singleTreeItem:Xa(Xa({},rl),{},{color:e.palette.gray.main}),truncatedTreeviewItem:Xa(Xa({},rl),{},{color:e.palette.mediumGray.main}),lastTreeItem:Xa(Xa({"& .MuiTreeItem-label":Xa({},el)},tl),{},{color:e.palette.gray.main})}))),ol=({selectedItems:e,label:t,redirect:r})=>{const n=nl(),o=(0,l.useRef)(),a=(e,l)=>{if(0===e.size)return null;const s=new Map(e),c=s.entries().next().value;s.delete(c[0]);const u=((e,t,r)=>1===e.size?r.singleTreeItem:0===t.size?r.lastTreeItem:r.truncatedTreeviewItem)(l,s,n);return i().createElement(En.TreeItem,{key:c[0].toString()+s.size.toString(),className:u,onIconClick:e=>e.preventDefault(),onLabelClick:(p=c[0],e=>{e.preventDefault(),new Date-o.current<150&&r(p)}),collapseIcon:i().createElement(za(),{style:{fontSize:"large"}}),expandIcon:i().createElement(Na(),{style:{fontSize:"large"}}),label:t(c[1]),nodeId:c[0],disabled:!0},e.size>=1?a(s,l):null);var p},s=Array.from(e.keys()).map((e=>e.toString()))??[];return i().createElement(En.TreeView,{onMouseDown:()=>{o.current=new Date},disableSelection:!0,expanded:s,className:n.truncatedTreeview},a(e,e))};ol.propTypes={selectedItems:p.any,label:p.func.isRequired,redirect:p.func},ol.defaultProps={selectedItems:null,redirect:()=>null};const al=e.p+"locale/en.json",ll=e.p+"locale/fr.json";function il(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?il(Object(r),!0).forEach((function(t){O()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):il(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const cl=(e,t)=>e.map((e=>"object"==typeof e.label&&"id"in e.label?sl(sl({},e),{},{label:t(e.label)}):e)),ul=e=>{const{formatMessage:t}=Pe();return cl(e,t)},pl=e=>Oa().unix(e).format("LTS");function dl(e,t="/charts"){return Object.keys(e).forEach((r=>{const n=e[r];null!=n&&""!==n&&(t+=`/${r}/${n}`)})),t}const ml=a;return t.default})()));
//# sourceMappingURL=index.js.map