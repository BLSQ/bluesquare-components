!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("bluesquare-components",[],t):"object"==typeof exports?exports["bluesquare-components"]=t():e["bluesquare-components"]=t()}(self,()=>(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p:""},t={};e.r(t),e.d(t,{AddButton:()=>sa,AddComment:()=>va,AlertModal:()=>js,ApiError:()=>wc,ArrayFieldInput:()=>Wa,AsyncSelect:()=>kd,BackdropClickModal:()=>St,BlockPlaceholder:()=>X,CheckBoxFilterItem:()=>dd,CheckBoxSelectGroup:()=>md,Checkbox:()=>Ua,ColumnsSelectDrawer:()=>To,CommentWithThread:()=>Aa,ConfirmCancelButtons:()=>wt,ConfirmCancelModal:()=>kt,CsvSvg:()=>k,CustomInput:()=>Xa,DHIS2Svg:()=>q,DatePicker:()=>it,DndSelect:()=>bc,DynamicSelect:()=>kn,DynamicTabs:()=>vo,EnrichedTreeItem:()=>zn,ErrorBoundary:()=>st,ErrorBoundaryWithMessage:()=>mt,EventDispatcher:()=>gu,ExcellSvg:()=>I,ExpandableItem:()=>Os,Expander:()=>_i,ExportButton:()=>ba,ExternalLink:()=>Bc,ExternalLinkIconButton:()=>Lc,FakeInput:()=>Kr,FilesUpload:()=>co,FilesUploadContainer:()=>hd,FormControl:()=>nt,FormattedNumber:()=>vs,HeaderRowIcon:()=>Bo,IasoChipColors:()=>r,IasoTreeView:()=>_n,IasoUiConstants:()=>n,IconButton:()=>Ze,InfoHeader:()=>Fo,InputLabel:()=>Ht,InputWithInfos:()=>Nc,JsonLogicEditor:()=>Zr,LazyImage:()=>ht,LinkButton:()=>is,LinkWithLocation:()=>Ne,LoadingSpinner:()=>h,LocaleProvider:()=>pu,LocalizationProvider:()=>mu,MENU_HEIGHT_WITHOUT_TABS:()=>Re,MENU_HEIGHT_WITH_TABS:()=>Fe,NumberInput:()=>Qt,OrgUnitSvg:()=>N,PageError:()=>xu,PageRowSelect:()=>yn,Pagination:()=>Di,PasswordInput:()=>mo,PdfSvg:()=>R,PhoneInput:()=>Wc,QueryBuilder:()=>Gr,QueryBuilderInput:()=>Qr,Radio:()=>go,SIDEBAR_WIDTH:()=>Ae,SearchInput:()=>un,Select:()=>Mr,SelectionSpeedDials:()=>$o,ShapeSvg:()=>z,SidebarProvider:()=>ou,SimpleModal:()=>Ct,SingleComment:()=>Na,SnackBar:()=>a,SnackBarButton:()=>Au,SnackBarErrorMessage:()=>zu,SortableList:()=>Hs,SortableTable:()=>oc,Table:()=>Ri,TextArea:()=>tu,TextInput:()=>Yt,TextSvg:()=>Y,TopBar:()=>Lu,TreeViewResultsCountSelect:()=>On,TreeViewWithSearch:()=>Gn,TruncatedTreeview:()=>ra,WordSvg:()=>U,XmlSvg:()=>Z,addPositionIndex:()=>qa,basePostRequest:()=>Sc,baseRenderTagsWithTooltip:()=>vr,blsqFetch:()=>xc,buttonReloadMessageKey:()=>Ui,capitalize:()=>ka,cleanupParams:()=>Ku,commonStyles:()=>Ye,convertObjectToUrlParams:()=>cs,createUrl:()=>Sd,defaultSelectionActions:()=>ll,deleteRequest:()=>Dc,displayDateFromTimestamp:()=>Id,english:()=>es,errorSnackBar:()=>Zi,formErrorMessageKey:()=>Gi,formSuccessFullMessageKey:()=>Yi,formWarningMessageKey:()=>Wi,formatThousand:()=>Sa,french:()=>ts,getColumnsHeadersInfos:()=>pl,getOrderArray:()=>al,getParamsKey:()=>cl,getRequest:()=>Cc,getRequestImage:()=>kc,getSimplifiedColumns:()=>ol,getSort:()=>nl,getTableParams:()=>ul,getTableUrl:()=>rl,injectIntl:()=>Tl,makeApiHooks:()=>Oc,makeFullModal:()=>Bt,makeRedirectionUrl:()=>us,mapPopupStyles:()=>rs,mapStyles:()=>ze,optionsRequest:()=>Ic,patchIntl:()=>dt,patchRequest:()=>qc,postRequest:()=>Mc,putRequest:()=>Tc,rawTheme:()=>tn,reloadPageMessageKey:()=>Ki,reloadPageSnackBar:()=>Xi,removePositionIndex:()=>Da,renderTags:()=>hr,renderTagsWithTooltip:()=>Er,selectionInitialState:()=>il,setTableSelection:()=>sl,substituteVars:()=>Ca,succesfullSnackBar:()=>Ji,tableInitialResult:()=>dl,testTS:()=>ns,textPlaceholder:()=>$e,theme:()=>rn,translateOptions:()=>Dd,truncateText:()=>Ma,useAPIErrorValidator:()=>vd,useApiErrorValidation:()=>Od,useArrayState:()=>id,useCheckBoxFilter:()=>td,useDebounce:()=>Jc,useDebouncedCallback:()=>Uc,useFilterState:()=>ed,useGoBack:()=>ms,useHumanReadableJsonLogic:()=>qs,useKeyPressListener:()=>or,useLocale:()=>du,useObjectState:()=>od,usePageTitle:()=>ru,useParamsObject:()=>gs,useRedirectTo:()=>ds,useRedirectToReplace:()=>ps,useSafeIntl:()=>pt,useSidebar:()=>au,useSkipEffectOnMount:()=>ln,useSnackBars:()=>Gu,useTabs:()=>ud,useThrottledCallback:()=>Zc,useTranslateMessage:()=>Yu,useTranslatedErrors:()=>Ed,useTranslatedOptions:()=>Td,waitFor:()=>Ta,warningSnackBar:()=>Qi});var r={};e.r(r),e.d(r,{chipColors:()=>O,getChipColors:()=>v,getOtChipColors:()=>w,otChipColors:()=>E});var n={};e.r(n),e.d(n,{MENU_HEIGHT_WITHOUT_TABS:()=>Re,MENU_HEIGHT_WITH_TABS:()=>Fe,SIDEBAR_WIDTH:()=>Ae,textPlaceholder:()=>$e});var a={};e.r(a),e.d(a,{buttonReloadMessageKey:()=>Ui,errorSnackBar:()=>Zi,formErrorMessageKey:()=>Gi,formSuccessFullMessageKey:()=>Yi,formWarningMessageKey:()=>Wi,reloadPageMessageKey:()=>Ki,reloadPageSnackBar:()=>Xi,succesfullSnackBar:()=>Ji,warningSnackBar:()=>Qi});const o=require("@babel/runtime/helpers/defineProperty");var l=e.n(o);const i=require("react");var s=e.n(i);const c=require("@mui/material/CircularProgress");var u=e.n(c);const d=require("@mui/styles"),p=require("classnames");var m=e.n(p);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const f={width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(255, 255, 255, 0.4)",top:0,left:0},y=(0,d.makeStyles)({rootFixed:b(b({},f),{},{position:"fixed",zIndex:"1000"}),rootAbsolute:b(b({},f),{},{position:"absolute",zIndex:"1000"}),root:b(b({},f),{},{position:"relative",zIndex:"1"}),rootTransparent:{backgroundColor:"transparent"}}),h=({size:e=40,transparent:t=!1,fixed:r=!0,absolute:n=!1,padding:a=0})=>{const o=y();return s().createElement("div",{style:{padding:a},className:m()(r&&!n&&o.rootFixed,n&&o.rootAbsolute,!r&&!n&&o.root,t&&o.rootTransparent)},s().createElement(u(),{size:e}))},O=["#4dd0e1","#01579b","#607d8b","#ff7043","#e91e63","#9c27b0","#f44336","#2196f3","#009688"],v=(e,t=!1)=>{const r=t?O.reverse():O;return r[e%r.length]},E=["#e91e63","#795548","#0277BD","#4CAF50","#607d8b","#ff7043","#01579b","#9E9D24","#9c27b0"],w=e=>E[e%E.length],j=require("@mui/material/SvgIcon");var P=e.n(j);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e){const t=C(C({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(P(),t,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("g",null,s().createElement("path",{d:"M15.00336,19.0177a1.22617,1.22617,0,0,1,.42463-.23654,1.59576,1.59576,0,0,1,.48321-.07382,1.848,1.848,0,0,1,1.435.63421l.96642-1.16047a2.7286,2.7286,0,0,0-1.04652-.69533A3.96626,3.96626,0,0,0,15.85349,17.25a3.50467,3.50467,0,0,0-1.06891.16828,2.76253,2.76253,0,0,0-.94488.51991,2.61976,2.61976,0,0,0-.67357.88345,2.92663,2.92663,0,0,0-.25667,1.27557,2.76842,2.76842,0,0,0,.168,1.01839,2.42228,2.42228,0,0,0,.45393.74216,2.97378,2.97378,0,0,0,.65892.5469,6.79238,6.79238,0,0,0,.79845.41831,5.06844,5.06844,0,0,1,1.11285.6747,1.21326,1.21326,0,0,1,.43928.98505,1.301,1.301,0,0,1-.36607.98505,1.27774,1.27774,0,0,1-.92249.35085,2.34342,2.34342,0,0,1-.97417-.2159A2.40505,2.40505,0,0,1,13.465,25.009l-.95178,1.18746a3.36245,3.36245,0,0,0,1.17142.78265,4.04267,4.04267,0,0,0,1.59605.31036,3.43456,3.43456,0,0,0,1.14213-.18892,2.68383,2.68383,0,0,0,.94488-.56039,2.73792,2.73792,0,0,0,.64428-.91044,3.01091,3.01091,0,0,0,.242-1.24144,2.49319,2.49319,0,0,0-.205-1.05252,2.66131,2.66131,0,0,0-.52713-.76915,3.45085,3.45085,0,0,0-.71749-.55325q-.39536-.2298-.77607-.40482a4.64417,4.64417,0,0,1-1.03963-.62786,1.15284,1.15284,0,0,1-.39535-.93743,1.51791,1.51791,0,0,1,.11025-.60722A1.11837,1.11837,0,0,1,15.00336,19.0177Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M7.90166,19.78685a2.21091,2.21091,0,0,1,.65892-.74931,1.57,1.57,0,0,1,.92249-.27622,1.85887,1.85887,0,0,1,1.55212.79613L12.04554,18.424a2.7775,2.7775,0,0,0-1.0982-.87075A3.78071,3.78071,0,0,0,9.38057,17.25a3.35465,3.35465,0,0,0-1.57452.37069,3.54422,3.54422,0,0,0-1.20845,1.039A4.98612,4.98612,0,0,0,5.82929,20.252a7.6351,7.6351,0,0,0,0,4.02832,5.06146,5.06146,0,0,0,.76142,1.58514,3.527,3.527,0,0,0,1.2007,1.04617,3.33459,3.33459,0,0,0,1.58916.37783,3.28915,3.28915,0,0,0,1.60294-.35084A3.14362,3.14362,0,0,0,12.03,26.021l-1.01034-1.093a2.286,2.286,0,0,1-.62189.59373,1.58619,1.58619,0,0,1-.88545.24289,1.6258,1.6258,0,0,1-.94488-.277,2.17538,2.17538,0,0,1-.66667-.74851,3.85061,3.85061,0,0,1-.39535-1.11364,6.71546,6.71546,0,0,1-.13179-1.35574,6.80205,6.80205,0,0,1,.13179-1.37A3.90579,3.90579,0,0,1,7.90166,19.78685Z",transform:"translate(-3.021)"}),s().createElement("polygon",{points:"19.377 25.157 19.333 25.157 17.605 17.493 15.643 17.493 18.176 27.047 20.402 27.047 22.979 17.493 21.105 17.493 19.377 25.157"})))}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(e){const t=M(M({},e),{},{viewBox:"0 0 200 182"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M191.73,60,109,6.34a19.73,19.73,0,0,0-20.32,0L8.31,58.43a12,12,0,0,0-.25,20.63L88.6,134a19.37,19.37,0,0,0,20.37.25l82.76-53.65a11.88,11.88,0,0,0,0-20.59Zm-91,61.45a4.29,4.29,0,0,1-3.49-.05l-77-52.49L97,19.13a4.76,4.76,0,0,1,3.74,0L179.6,70.28Z"}),s().createElement("path",{d:"M88.66,47.82,45.1,76.06l13.61,9.33L97,60.61a4.76,4.76,0,0,1,3.74,0l39.37,25.52,14-9.06L109,47.82A19.76,19.76,0,0,0,88.66,47.82Z"}),s().createElement("path",{d:"M191.73,101.46l-8.62-5.59-14.05,9.06,10.53,6.83-78.91,51.15a4.37,4.37,0,0,1-3.49,0l-77-52.5,10-6.47L16.55,94.57,8.31,99.91a12,12,0,0,0-.25,20.63L88.6,175.46a19.34,19.34,0,0,0,20.37.24l82.75-53.65a11.88,11.88,0,0,0,0-20.59Z"})))}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function I(e){const t=T(T({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M11.15,0L3.011,8.592v22.834h25.403V0H11.15z M10.434,3.613v3.808H6.826L10.434,3.613z M26.449,29.462H4.977V9.385h7.421 V1.964h14.053v27.498H26.449z"}),s().createElement("path",{d:"M15.004,14.766h0.491v-1.768H9.444v1.768h0.737c0.202,0,0.402,0.055,0.617,0.168c0.203,0.107,0.396,0.306,0.572,0.585 l2.919,4.738l-2.939,4.21c-0.16,0.229-0.306,0.421-0.438,0.576c-0.113,0.133-0.228,0.242-0.337,0.321 c-0.098,0.07-0.198,0.119-0.307,0.148c-0.127,0.034-0.282,0.051-0.462,0.051H9.198v1.769h5.438v-1.276l-0.055-0.49H14.09 c-0.449,0-0.643-0.057-0.724-0.094c0-0.053,0.01-0.115,0.028-0.186c0.024-0.088,0.055-0.176,0.095-0.264 c0.043-0.097,0.087-0.188,0.138-0.279c0.046-0.084,0.091-0.159,0.139-0.229l1.65-2.44l1.769,2.843 c0.068,0.114,0.123,0.209,0.159,0.289c0.036,0.077,0.05,0.121,0.054,0.139l0.013,0.108c0,0-0.112,0.113-0.625,0.113h-0.592v1.768 h6.033v-1.768h-0.729c-0.144,0-0.3-0.052-0.464-0.151c-0.133-0.08-0.35-0.259-0.616-0.613l-3.272-5.259l2.529-3.646 c0.164-0.238,0.314-0.437,0.452-0.594c0.125-0.142,0.246-0.26,0.362-0.349c0.092-0.069,0.182-0.116,0.272-0.142 c0.104-0.03,0.226-0.045,0.361-0.045h0.655v-1.768h-5.074v1.277l0.055,0.491h0.491c0.125,0,0.237,0.006,0.341,0.02 c0.091,0.011,0.145,0.029,0.173,0.029h0.001c0,0.1-0.027,0.213-0.085,0.336c-0.075,0.168-0.176,0.346-0.301,0.535l-1.349,2.051 l-1.287-2.08c-0.095-0.15-0.17-0.276-0.222-0.375c-0.047-0.09-0.083-0.168-0.107-0.231c-0.017-0.046-0.029-0.087-0.033-0.113 c-0.006-0.039-0.009-0.08-0.031-0.089c0.002-0.001,0.042-0.025,0.162-0.049C14.628,14.776,14.775,14.766,15.004,14.766z"})))}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e){const t=L(L({},e),{},{viewBox:"0 0 85 85"});return s().createElement(P(),t,s().createElement("path",{d:"M17.518403,78.3591 C16.2139001,78.3570957 15.0595734,77.5172438 14.660803,76.28 L0.1493927,31.77603 C-0.249658449,30.5438778 0.191427305,29.1958057 1.242723,28.43453 L39.235803,0.93513 C40.2882476,0.175265921 41.7117584,0.175265921 42.764203,0.93513 L80.757302,28.43453 C81.8085865,29.1958138 82.2496596,30.5438843 81.850602,31.77603 L67.339202,76.28 C66.9404317,77.5172435 65.7861055,78.3570953 64.481603,78.3591 L17.518403,78.3591 L17.518403,78.3591 Z M19.705003,72.3692 L62.295003,72.3692 L75.464602,31.99883 L41.000003,7.07363 L6.535413,31.99883 L19.705003,72.3692 Z"}))}function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e){const t=F(F({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M13.2,12.3c0.2,1.8,0.3,5.1-1.1,7.8c-0.1,0.2-0.2,0.4-0.3,0.6c-2.3,0.7-4.8,2.1-5.2,3.6c-0.2,0.6,0,1.2,0.4,1.6 c0.4,0.5,1,0.7,1.6,0.7c1.4,0,2.9-1.4,4.6-4.2c0.6-0.1,4-0.6,4.7-0.6c2,2,3.6,3,4.9,3c0.8,0,1.5-0.4,1.9-1.1 c0.3-0.5,0.3-1.1,0-1.6c-0.8-1.5-4-2.1-5.9-2.2c-0.2-0.2-0.3-0.4-0.5-0.6c-2-2.2-2.8-5.5-3-7.2c0-0.4-0.1-0.7-0.1-1 c-0.1-0.9-0.7-1-1-1c-0.3,0-0.6,0.1-0.7,0.3c-0.3,0.3-0.3,0.7-0.2,1C13.1,11.7,13.1,12,13.2,12.3z M8.6,24.6 c0.2-0.2,0.6-0.5,1.1-0.8C9.2,24.3,8.8,24.5,8.6,24.6z M22.5,22.9c-0.2,0-0.5-0.1-1-0.4C22,22.6,22.3,22.7,22.5,22.9z M14.9,17.9 c0.4,0.7,0.8,1.4,1.2,2c-0.2,0-1.8,0.2-1.9,0.2C14.5,19.5,14.7,18.7,14.9,17.9z"}),s().createElement("path",{d:"M11.1,0L3,8.5v22.7h25.3V0H11.1z M10.4,3.6v3.8H6.8L10.4,3.6z M26.3,29.3H4.9v-20h7.4V2h14L26.3,29.3L26.3,29.3z"})))}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function z(e){const t=V(V({},e),{},{viewBox:"-5 -5 55 55"});return s().createElement(P(),t,s().createElement("path",{d:"M46,14V2H34V6H14V2H2V14H6V34H2V46H14V42H34v4H46V34H42V14ZM6,6h4v4H6Zm4,36H6V38h4Zm24-4H14V34H10V14h4V10H34v4h4V34H34Zm8,4H38V38h4ZM38,10V6h4v4Z"}))}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e){const t=_(_({},e),{},{viewBox:"-4 -3 40 40"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M11.2,0L3,8.6v22.9h25.5V0H11.2z M10.5,3.6v3.8H6.8L10.5,3.6z M26.5,29.5H5V9.4h7.4V2h14.1V29.5z"}),s().createElement("polygon",{points:"19.1,18.6 21,18.6 21,26.8 22.6,26.8 22.6,18.6 24.4,18.6 24.4,17.2 19.1,17.2 "}),s().createElement("polygon",{points:"7.1,18.6 9,18.6 9,26.8 10.6,26.8 10.6,18.6 12.4,18.6 12.4,17.2 7.1,17.2"}),s().createElement("polygon",{points:"18.9,17.2 17.2,17.2 15.8,20.5 14.3,17.2 12.6,17.2 14.8,21.8 12.4,26.8 14.1,26.8 15.7,23.1 17.3,26.8 19.1,26.8 16.7,21.8"})))}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function U(e){const t=W(W({},e),{},{viewBox:"-7 -3 40 40"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M11.184,0,3.021,8.619v22.9H28.498V0Zm-.721,3.624V7.443H6.847ZM26.528,29.55H4.991V9.413h7.443V1.97H26.528Z",transform:"translate(-3.021)"}),s().createElement("path",{d:"M13.5,15.211a1.02243,1.02243,0,0,1,.335.197,1.583,1.583,0,0,1,.278.351,4.63323,4.63323,0,0,1,.268.532l.62,1.764-1.68,4.828L11.214,16.88c-.135-.372-.235-.679-.296-.92a2.01149,2.01149,0,0,1-.085-.435.31193.31193,0,0,1,.127-.256.78111.78111,0,0,1,.506-.129h.59V14.061H6.701V15.14h.37a1.50644,1.50644,0,0,1,.688.125.85109.85109,0,0,1,.346.367c.039.072.158.363.502,1.32l3.794,10.6h.852l2.564-7.236,2.579,7.236h.891l3.564-10.303A10.633,10.633,0,0,1,23.4,15.78a1.97318,1.97318,0,0,1,.232-.336.927.927,0,0,1,.209-.179.81631.81631,0,0,1,.244-.095,1.82682,1.82682,0,0,1,.361-.032h.37V14.059H20.355v1.079h.368a2.06347,2.06347,0,0,1,.84.142.25379.25379,0,0,1,.169.271,5.512,5.512,0,0,1-.383,1.462l-2.028,5.868-2.035-5.779a5.26922,5.26922,0,0,1-.394-1.515.40192.40192,0,0,1,.115-.33c.046-.045.174-.117.508-.117h.7V14.061H12.62V15.14h.369A1.61981,1.61981,0,0,1,13.5,15.211Z",transform:"translate(-3.021)"})))}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Z(e){const t=J(J({},e),{},{viewBox:"0 0 40 40"});return s().createElement(P(),t,s().createElement("g",null,s().createElement("path",{d:"M15.2,3L7,11.6v22.9h25.5V3H15.2z M14.5,6.6v3.8h-3.7L14.5,6.6z M30.5,32.5H9V12.4h7.4V5h14.1V32.5z"}),s().createElement("g",null,s().createElement("path",{d:"M12.4,28.1L10.7,31H9.4l2.4-4l-2.2-3.9h1.3l1.6,2.7l1.6-2.7h1.3L13,27l2.5,4h-1.3L12.4,28.1z"}),s().createElement("path",{d:"M16.4,23.1h1.1l2.2,5.2l2.2-5.2h1.1V31h-1.2v-4.9h0l-1.6,3.8h-1l-1.6-3.8h0V31h-1.2V23.1z"}),s().createElement("path",{d:"M25,23.1h1.2v6.8H30V31h-5V23.1z"}))))}const Q=(0,d.makeStyles)(e=>({placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"}})),X=({width:e="50%"})=>{const t=Q();return s().createElement("div",{className:t.placeholder,style:{width:e}})},ee=require("@mui/x-date-pickers/DesktopDatePicker"),te=require("@mui/icons-material/Event");var re=e.n(te);const ne=require("@mui/material"),ae=require("@mui/icons-material/CachedRounded");var oe=e.n(ae);const le=require("@mui/icons-material/CallMerge");var ie=e.n(le);const se=require("@mui/icons-material/Clear");var ce=e.n(se);const ue=require("@mui/icons-material/ClearAll");var de=e.n(ue);const pe=require("@mui/icons-material/Delete");var me=e.n(pe);const ge=require("@mui/icons-material/FilterList");var be=e.n(ge);const fe=require("@mui/icons-material/GetApp");var ye=e.n(fe);const he=require("@mui/icons-material/History");var Oe=e.n(he);const ve=require("@mui/icons-material/Map");var Ee=e.n(ve);const we=require("@mui/icons-material/Public");var je=e.n(we);const Pe=require("@mui/icons-material/RemoveRedEye");var xe=e.n(Pe);const Ce=require("@mui/icons-material/RestoreFromTrash");var ke=e.n(Ce);const Se=require("@mui/icons-material/Settings");var Me=e.n(Se);const qe=require("@mui/icons-material/StopRounded");var De=e.n(qe);const Te=require("react-intl"),Ie=require("react-router-dom");function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ne=e=>{const{pathname:t}=(0,Ie.useLocation)(),r=(0,i.useMemo)(()=>e.state?Le(Le({},e.state),{},{location:t}):{location:t},[t,e.state]);return s().createElement(Ie.Link,Le(Le({},e),{},{state:r}))},Ae=350,Fe=112,Re=65,$e="--",Ve=require("@mui/material/styles"),ze=e=>({mapContainer:{height:"62vh",marginBottom:e.spacing(2),"& .leaflet-container .leaflet-popup-content a":{color:e.palette.primary.main},"& .marker-cluster.color":{color:"white"},"& .marker-cluster.color div":{marginLeft:2,marginTop:2,display:"flex",justifyContent:"center",alignItems:"center"},"& .marker-cluster.color div .border":{position:"absolute",display:"block",height:"100%",width:"100%",top:-2,left:-2,borderRadius:"100%",zIndex:-1},"& .marker-cluster.primary":{backgroundColor:(0,Ve.alpha)(e.palette.primary.main,.6)},"& .marker-cluster.primary > div":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"& .marker-custom":{zIndex:"500 !important"},"& .marker-custom.primary span":{position:"relative",display:"block",height:"100%",width:"100%"},"& .marker-custom .marker_bg, & .marker-custom.primary .marker_bg":{position:"absolute",display:"block",height:"10px",width:"10px",borderRadius:"10px",backgroundColor:"white",top:8,left:8},"& .marker-custom.color":{zIndex:"300 !important"},"& .marker-custom.color .svg-icon":{display:"block",height:"auto",width:16,position:"absolute",top:6,left:4,zIndex:200,borderRadius:"5px"},"& .marker-custom.color .marker_shadow":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none"},"& .marker-custom.color svg":{position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& .marker-custom.primary svg":{fill:e.palette.primary.main,position:"absolute",bottom:0,left:-5,pointerEvents:"none"},"& path.primary":{fill:(0,Ve.alpha)(e.palette.primary.main,.6),stroke:e.palette.primary.main},"& path.secondary":{fill:(0,Ve.alpha)(e.palette.secondary.main,.6),stroke:e.palette.secondary.main},"& path.no-pointer-event":{pointerEvents:"none !important"},"& .marker-custom.primary img":{position:"absolute",bottom:2,left:-1,zIndex:-1,pointerEvents:"none",width:"auto"},"& .leaflet-draw.leaflet-control":{display:"none"}}});function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ye=e=>_e(_e({},ze(e)),{},{containerFullHeight:{width:"100%",height:`calc(100vh - ${Fe}px)`,margin:0,overflow:"auto",backgroundColor:"white"},containerFullHeightPadded:{width:"100%",height:`calc(100vh - ${Fe}px)`,padding:e.spacing(4),margin:0,backgroundColor:"white",overflow:"auto",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},containerFullHeightNoTabPadded:{width:"100%",height:`calc(100vh - ${Re}px)`,padding:e.spacing(4),margin:0,overflow:"auto",backgroundColor:"white",[e.breakpoints.down("md")]:{padding:e.spacing(2)}},indicator:{backgroundColor:"white"},buttonIcon:{marginRight:e.spacing(1),width:15,height:15},smallButtonIcon:{marginRight:e.spacing(1),width:15,height:15,position:"relative",top:-1},listitem:{width:"auto",paddingLeft:e.spacing(1)},marginY:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},marginBottom:{marginBottom:e.spacing(2)},marginBottomBig:{marginBottom:e.spacing(4)},paddingBottomBig:{marginBottom:e.spacing(4)},marginLeft:{marginLeft:`${e.spacing(2)} !important`},marginRight:{marginRight:`${e.spacing(2)} !important`},marginTop:{marginTop:`${e.spacing(2)} !important`},marginTopBig:{marginTop:`${e.spacing(4)} !important`},justifyFlexEnd:{display:"flex",justifyContent:"flex-end"},floatRight:{float:"right"},tabs:{padding:e.spacing(0,4)},textAlignLeft:{textAlign:"left"},textAlignRight:{textAlign:"right"},dividerMarginNeg:{margin:e.spacing(0,-4,0,-4)},containerMarginNeg:{margin:e.spacing(0,-4,-4,-4),width:`calc(100% + ${e.spacing(8)})`},relativeContainer:{position:"relative"},svgIcon:{width:24,heigth:24},svgChipIcon:{width:20,heigth:20,padding:4},textError:{color:e.palette.error.main,display:"flex",alignItems:"center"},popperFixed:{position:"fixed"},iconButton:{padding:0},linkButton:{color:"inherit",textDecoration:"none",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"30px",minHeight:"30px"},capitalize:{display:"inline-block","&:first-letter":{textTransform:"uppercase"}}});function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ue={delete:me(),"filter-list":be(),"call-merge":ie(),"remove-red-eye":xe(),"restore-from-trash":ke(),edit:Me(),history:Oe(),map:Ee(),xml:Z,dhis:q,orgUnit:N,refresh:oe(),stop:De(),xls:I,download:ye(),globe:je(),clear:ce(),clearAll:de()},Ke=(0,d.makeStyles)(e=>We(We({},Ye(e)),{},{white:{color:"white"},popperFixed:We(We({},Ye(e).popperFixed),{},{marginTop:e.spacing(1)})})),Je=({icon:e,color:t,disabled:r=!1,fontSize:n="medium"})=>{const a={color:"white"===t?t:void 0,opacity:r?.5:1};return s().createElement(e,{color:"white"===t?"inherit":t,style:a,fontSize:n})},Ze=({onClick:e,url:t,icon:r="",overrideIcon:n,tooltipMessage:a,id:o,dataTestId:l,disabled:i=!1,color:c="action",size:u="medium",iconSize:d="medium",reloadDocument:p=!1,replace:m=!1,target:g="_self",download:b=!1})=>{const f=Ke({});e||t||console.error("IconButtonComponent needs either the onClick or the url property"),r||n||console.error("IconButtonComponent has to be provided with an icon");const y=null!=n?n:Ue[r];return s().createElement(ne.Tooltip,{classes:{popper:f.popperFixed},disableFocusListener:i,disableHoverListener:i,disableTouchListener:i,placement:"bottom",title:s().createElement(Te.FormattedMessage,We({},a))},s().createElement("span",{id:o},s().createElement(ne.IconButton,{className:t&&f.iconButton,disabled:i,onClick:e,size:u,"data-test":l},t?s().createElement(Ne,{to:t,className:f.linkButton,replace:m,reloadDocument:p,target:g,download:b},s().createElement(Je,{icon:y,color:c,disabled:i,fontSize:d})):s().createElement(Je,{icon:y,color:c,disabled:i,fontSize:d}))))},Qe=require("@mui/material/FormControl");var Xe=e.n(Qe);function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const tt=[],rt=(0,d.makeStyles)(e=>({formControl:{width:"100%","& fieldset":{borderWidth:"1px !important"},"&:hover fieldset":{borderColor:`${e.palette.primary.main}`},"&:focused label":{color:`${e.palette.primary.main}`},zIndex:"auto"},errorContainer:{paddingLeft:e.spacing(1.6),paddingTop:e.spacing(.5)},error:{color:e.palette.error.main,fontSize:14,padding:0}})),nt=({children:e,id:t,errors:r=tt,hideError:n=!1})=>{const a=rt(),o=t?{id:t}:{};return s().createElement(Xe(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({className:a.formControl,variant:"outlined"},o),e,r.length>0&&!n&&s().createElement(ne.Box,{className:m()(a.errorContainer,"error-container")},r.filter(e=>!!e).map(e=>s().createElement(ne.Typography,{variant:"caption",key:e,className:a.error},e))))};function at(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?at(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):at(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const lt=(0,d.makeStyles)(e=>ot(ot({},Ye(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}})),it=({label:e,onChange:t,currentDate:r=null,clearMessage:n,required:a=!1,errors:o=[],hideError:l=!1,disabled:c=!1,clearable:u=!0,minDate:d,maxDate:p})=>{const m=lt(),[g,b]=(0,i.useState)(null),f=o.length>0||Boolean(g);return s().createElement(nt,{errors:o,hideError:l},s().createElement(ee.DesktopDatePicker,{autoOk:!0,disableToolbar:!0,renderInput:e=>s().createElement(ne.TextField,ot(ot({},e),{},{InputLabelProps:{error:f,shrink:Boolean(r)},required:a,error:f})),disabled:c,KeyboardButtonProps:{size:"small"},keyboardIcon:s().createElement(re(),{size:"small"}),helperText:null,format:"DD/MM/YYYY",label:`${e}`,value:r,onChange:t,onError:e=>b(e),minDate:d,maxDate:p}),u&&n&&r&&s().createElement("span",{className:m.clearDateButton},s().createElement(Ze,{disabled:c,size:"small",icon:"clear",tooltipMessage:n,onClick:()=>t(null)})))};class st extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("BOUNDARY ERROR",e,t)}render(){const{message:e=null,className:t,children:r}=this.props;return this.state.hasError?e?s().createElement("h1",{style:t?{}:{textAlign:"center"},className:t},e):s().createElement("h1",null,"An exception occurred: ",this.state.error.toString()):r}}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const dt=e=>ut(ut({},e),{},{formatMessage:(t,r)=>{if(t&&t.id)return e.formatMessage(t,r);console.warn("Warning: Message object is not defined properly!",t)}}),pt=()=>{const e=(0,Te.useIntl)();return(0,i.useMemo)(()=>dt(e),[e])},mt=e=>{const{formatMessage:t}=pt();return s().createElement(st,{message:t(e.message)},e.children)},gt=require("react-visibility-sensor");var bt=e.n(gt);function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class ht extends i.Component{constructor(e){super(e),this.image=null,this.state={image:e.placeholder,isVisible:!1,loading:!0},this.handleVisibilityChange=this.handleVisibilityChange.bind(this),this.onLoad=this.onLoad.bind(this),this.onError=this.onError.bind(this),this.loadImage=this.loadImage.bind(this)}componentDidUpdate(e){const{src:t,placeholder:r}=this.props;t!==e.src&&(this.state.isVisible?this.loadImage(t):this.setState({image:r,loading:!0}))}componentWillUnmount(){this.image&&(this.image.onload=null,this.image.onerror=null)}handleVisibilityChange(e){this.setState({isVisible:e},()=>{this.state.loading&&this.state.isVisible&&this.loadImage(this.props.src)})}onLoad(){var e;this.setState({image:null===(e=this.image)||void 0===e?void 0:e.src,loading:!1})}onError(e){const{onError:t}=this.props;t&&t(e)}loadImage(e){this.image&&(this.image.onload=null,this.image.onerror=null);const t=new Image;this.image=t,t.onload=this.onLoad,t.onerror=this.onError,t.src=e}render(){const{image:e,loading:t,isVisible:r}=this.state,{children:n,visibilitySensorProps:a}=this.props;if(!n||"function"!=typeof n)throw new Error("LazyProgressiveImage requires a function as its only child");return s().createElement(bt(),yt(yt({},a),{},{onChange:this.handleVisibilityChange}),n(e,Boolean(t),Boolean(r)))}}const Ot=(0,Te.defineMessages)({doYouWantToClose:{id:"blsq.dialog.doYouWantToClose",defaultMessage:"Do you want to close?"},unsavedDataWillBeLost:{id:"blsq.dialog.unsavedDataWillBeLost",defaultMessage:"Unsaved data will be lost"},proceed:{id:"blsq.label.proceed",defaultMessage:"proceed"},cancel:{defaultMessage:"Cancel",id:"blsq.label.cancel"}});function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const wt=({closeDialog:e,allowConfirm:t=!0,onConfirm:r,confirmMessage:n,onCancel:a,cancelMessage:o,additionalButton:l=!1,additionalMessage:i,onAdditionalButtonClick:c,allowConfirmAdditionalButton:u=!0,closeOnConfirm:d=!0})=>s().createElement(s().Fragment,null,s().createElement(ne.Button,{onClick:()=>{a(),e()},color:"primary","data-test":"cancel-button"},s().createElement(Te.FormattedMessage,Et({},o))),s().createElement(ne.Button,{"data-test":"confirm-button",onClick:()=>{r(),d&&e()},disabled:!t,color:"primary",autoFocus:!0},s().createElement(Te.FormattedMessage,Et({},n))),l&&i&&c&&s().createElement(ne.Button,{"data-test":"additional-button",onClick:()=>{c(),e()},color:"primary",disabled:null!=u?!u:!t},s().createElement(Te.FormattedMessage,Et({},i))));function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const xt=(0,d.makeStyles)(e=>Pt(Pt({},Ye(e)),{},{paper:{overflow:"visible"},title:{paddingBottom:0},content:{overflow:"visible",paddingBottom:e.spacing(2)},action:{paddingBottom:e.spacing(2),paddingRight:e.spacing(2)}})),Ct=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:a,titleMessage:o,children:l,closeDialog:i,buttons:c,sx:u,slotProps:d,backdropClick:p=!0})=>{const m=xt();return s().createElement(s().Fragment,null,s().createElement(ne.Dialog,{fullWidth:!0,maxWidth:t,open:e,classes:{paper:m.paper},onClose:(e,t)=>{"backdropClick"===t&&p&&i(),r()},scroll:"body",id:n,"data-test":a,sx:u,slotProps:d},o&&s().createElement(ne.DialogTitle,{className:m.title},(g=o)?g.id?s().createElement(Te.FormattedMessage,Pt({},g)):g:""),s().createElement(ne.DialogContent,{className:m.content},l),s().createElement(ne.DialogActions,{className:m.action},c({closeDialog:i}))));var g},kt=({open:e=!1,maxWidth:t="sm",onClose:r,id:n,dataTestId:a,titleMessage:o,children:l,closeDialog:i,allowConfirm:c=!0,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g=!1,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:y=!0,closeOnConfirm:h=!0})=>s().createElement(Ct,{open:e,maxWidth:t,onClose:r,id:n,dataTestId:a,titleMessage:o,closeDialog:i,buttons:({closeDialog:e})=>s().createElement(wt,{closeDialog:e,allowConfirm:c,onConfirm:u,confirmMessage:d,onCancel:p,cancelMessage:m,additionalButton:g,additionalMessage:b,onAdditionalButtonClick:f,allowConfirmAdditionalButton:y,closeOnConfirm:h})},l),St=({onConfirm:e,open:t,closeDialog:r,dataTestId:n="backdropclick-modal",id:a="backdropclick-modal",title:o,confirmMessage:l=Ot.proceed,cancelMessage:i=Ot.cancel})=>{const{formatMessage:c}=pt(),u=o||c(Ot.doYouWantToClose);return s().createElement(kt,{onConfirm:e,onCancel:()=>null,open:t,closeDialog:r,dataTestId:n,id:a,onClose:()=>null,titleMessage:u,confirmMessage:l,cancelMessage:i},s().createElement(s().Fragment,null,s().createElement(ne.Divider,null),s().createElement(ne.Box,{mt:2},s().createElement(ne.Typography,null,c(Ot.unsavedDataWillBeLost)))))},Mt=require("@babel/runtime/helpers/objectWithoutProperties");var qt=e.n(Mt);const Dt=["iconProps","defaultOpen"];function Tt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Bt=(e,t)=>r=>{const{iconProps:n,defaultOpen:a}=r,o=qt()(r,Dt),[l,c]=(0,i.useState)(null!=a&&a);return s().createElement(s().Fragment,null,s().createElement(t,It({},It(It({},n),{},{onClick:()=>c(!0)}))),l&&s().createElement(e,It({},It(It({},o),{},{closeDialog:()=>c(!1),isOpen:l}))))},Lt=require("@react-awesome-query-builder/mui"),Nt=require("moment");var At=e.n(Nt);const Ft=(0,Te.defineMessages)({and:{id:"blsq.queryBuilder.and",defaultMessage:"And"},or:{id:"blsq.queryBuilder.or",defaultMessage:"Or"},contains:{id:"blsq.queryBuilder.contains",defaultMessage:"Contains"},notLike:{id:"blsq.queryBuilder.notLike",defaultMessage:"Not contains"},startsWith:{id:"blsq.queryBuilder.startsWith",defaultMessage:"Starts with"},endsWith:{id:"blsq.queryBuilder.endsWith",defaultMessage:"Ends with"},between:{id:"blsq.queryBuilder.between",defaultMessage:"Between"},notBetween:{id:"blsq.queryBuilder.notBetween",defaultMessage:"Not between"},isEmpty:{id:"blsq.queryBuilder.isEmpty",defaultMessage:"Is empty"},isNotEmpty:{id:"blsq.queryBuilder.isNotEmpty",defaultMessage:"Is not empty"},isNull:{id:"blsq.queryBuilder.isNull",defaultMessage:"Is null"},isNotNull:{id:"blsq.queryBuilder.isNotNull",defaultMessage:"Is not null"},anyIn:{id:"blsq.queryBuilder.anyIn",defaultMessage:"Any in"},notAnyIn:{id:"blsq.queryBuilder.notAnyIn",defaultMessage:"Not in"},equals:{id:"blsq.queryBuilder.equals",defaultMessage:"Equals"},notEquals:{id:"blsq.queryBuilder.notEquals",defaultMessage:"Not equals"},proximity:{id:"blsq.queryBuilder.proximity",defaultMessage:"Proximity search"},proximityValueLabel1:{id:"blsq.queryBuilder.proximityValueLabel1",defaultMessage:"Word 1"},proximityValuePLaceholder1:{id:"blsq.queryBuilder.proximityValuePLaceholder1",defaultMessage:"Enter first word"},proximityValueLabel2:{id:"blsq.queryBuilder.proximityValueLabel2",defaultMessage:"Word 2"},proximityValuePLaceholder2:{id:"blsq.queryBuilder.proximityValuePLaceholder2",defaultMessage:"Enter second word"},proximityOptionsLabel:{id:"blsq.queryBuilder.proximityOptionsLabel",defaultMessage:"Near"},proximityOptionsPlaceholder:{id:"blsq.queryBuilder.proximityOptionsPlaceholder",defaultMessage:"Select words between"},some:{id:"blsq.queryBuilder.some",defaultMessage:"Some"},all:{id:"blsq.queryBuilder.all",defaultMessage:"All"},none:{id:"blsq.queryBuilder.none",defaultMessage:"None"},textLabel:{id:"blsq.queryBuilder.textLabel",defaultMessage:"String"},textPlaceholder:{id:"blsq.queryBuilder.textPlaceholder",defaultMessage:"Enter string"},texareaLabel:{id:"blsq.queryBuilder.texareaLabel",defaultMessage:"Text"},textareaPlaceholder:{id:"blsq.queryBuilder.textareaPlaceholder",defaultMessage:"Enter text"},numberLabel:{id:"blsq.queryBuilder.numberLabel",defaultMessage:"Number"},numberPlaceholder:{id:"blsq.queryBuilder.numberPlaceholder",defaultMessage:"Enter number"},numberFromLabel:{id:"blsq.queryBuilder.numberFromLabel",defaultMessage:"Number from"},numberFromPlaceholder:{id:"blsq.queryBuilder.numberFromPlaceholder",defaultMessage:"Enter number from"},numberToLabel:{id:"blsq.queryBuilder.numberToLabel",defaultMessage:"Number to"},numberToPlaceholder:{id:"blsq.queryBuilder.numberToPlaceholder",defaultMessage:"Enter number to"},sliderPlaceholder:{id:"blsq.queryBuilder.sliderPlaceholder",defaultMessage:"Enter number or move slider"},date:{id:"blsq.queryBuilder.date",defaultMessage:"Date"},datePlaceholder:{id:"blsq.queryBuilder.datePlaceholder",defaultMessage:"Enter date"},dateFrom:{id:"blsq.queryBuilder.dateFrom",defaultMessage:"Date from"},dateFromPlaceholder:{id:"blsq.queryBuilder.dateFromPlaceholder",defaultMessage:"Enter date from"},dateTo:{id:"blsq.queryBuilder.dateTo",defaultMessage:"Date to"},dateToPlaceholder:{id:"blsq.queryBuilder.dateToPlaceholder",defaultMessage:"Enter date to"},time:{id:"blsq.queryBuilder.time",defaultMessage:"Time"},timePlaceholder:{id:"blsq.queryBuilder.timePlaceholder",defaultMessage:"Enter time"},timeFrom:{id:"blsq.queryBuilder.timeFrom",defaultMessage:"Time from"},timeFromPlaceholder:{id:"blsq.queryBuilder.timeFromPlaceholder",defaultMessage:"Enter time from"},timeTo:{id:"blsq.queryBuilder.timeTo",defaultMessage:"Time to"},timeToPlaceholder:{id:"blsq.queryBuilder.timeToPlaceholder",defaultMessage:"Enter time to"},datetime:{id:"blsq.queryBuilder.datetime",defaultMessage:"Datetime"},datetimePlaceholder:{id:"blsq.queryBuilder.datetimePlaceholder",defaultMessage:"Enter datetime"},datetimeFrom:{id:"blsq.queryBuilder.datetimeFrom",defaultMessage:"Datetime from"},datetimeFromPlaceholder:{id:"blsq.queryBuilder.datetimeFromPlaceholder",defaultMessage:"Enter datetime from"},datetimeTo:{id:"blsq.queryBuilder.datetimeTo",defaultMessage:"Datetime to"},datetimeToPlaceholder:{id:"blsq.queryBuilder.datetimeToPlaceholder",defaultMessage:"Enter datetime to"},yes:{id:"blsq.queryBuilder.yes",defaultMessage:"Yes"},no:{id:"blsq.queryBuilder.no",defaultMessage:"No"},fieldCompare:{id:"blsq.queryBuilder.fieldCompare",defaultMessage:"Field to compare"},fieldPlaceholder:{id:"blsq.queryBuilder.fieldPlaceholder",defaultMessage:"Select field to compare"},range:{id:"blsq.queryBuilder.range",defaultMessage:"Range"},rangePlaceholder:{id:"blsq.queryBuilder.rangePlaceholder",defaultMessage:"Select range"},rangeFrom:{id:"blsq.queryBuilder.rangeFrom",defaultMessage:"Number from"},rangeFromPlaceholder:{id:"blsq.queryBuilder.rangeFromPlaceholder",defaultMessage:"Enter number from"},rangeTo:{id:"blsq.queryBuilder.rangeTo",defaultMessage:"Number to"},rangeToPlaceholder:{id:"blsq.queryBuilder.rangeToPlaceholder",defaultMessage:"Enter number to"},countEqual:{id:"blsq.queryBuilder.countEqual",defaultMessage:"Count =="},countNotEqual:{id:"blsq.queryBuilder.countNotEqual",defaultMessage:"Count !="},countLess:{id:"blsq.queryBuilder.countLess",defaultMessage:"Count <"},countLessOrEqual:{id:"blsq.queryBuilder.countLessOrEqual",defaultMessage:"Count <="},countGreater:{id:"blsq.queryBuilder.countGreater",defaultMessage:"Count >"},countGreaterOrEqual:{id:"blsq.queryBuilder.countGreaterOrEqual",defaultMessage:"Count >="},countBetween:{id:"blsq.queryBuilder.countBetween",defaultMessage:"Count between"},countNotBetween:{id:"blsq.queryBuilder.countNotBetween",defaultMessage:"Count not between"},selectValue:{id:"blsq.queryBuilder.selectValue",defaultMessage:"Select value"},values:{id:"blsq.queryBuilder.values",defaultMessage:"Values"},selectValues:{id:"blsq.queryBuilder.selectValues",defaultMessage:"Select values"},value:{id:"blsq.queryBuilder.value",defaultMessage:"Value"},field:{id:"blsq.queryBuilder.field",defaultMessage:"Field"},function:{id:"blsq.queryBuilder.function",defaultMessage:"Function"},operator:{id:"blsq.queryBuilder.operator",defaultMessage:"Operator"},selectField:{id:"blsq.queryBuilder.selectField",defaultMessage:"Select field"},selectFunction:{id:"blsq.queryBuilder.selectFunction",defaultMessage:"Select function"},selectOperator:{id:"blsq.queryBuilder.selectOperator",defaultMessage:"Select operator"},lock:{id:"blsq.queryBuilder.lock",defaultMessage:"Lock"},locked:{id:"blsq.queryBuilder.locked",defaultMessage:"Locked"},addGroup:{id:"blsq.queryBuilder.addGroup",defaultMessage:"Add group"},addCondition:{id:"blsq.queryBuilder.addCondition",defaultMessage:"Add condition"},addDefaultCase:{id:"blsq.queryBuilder.addDefaultCase",defaultMessage:"Add default condition"},defaultCase:{id:"blsq.queryBuilder.defaultCase",defaultMessage:"Default:"},addRule:{id:"blsq.queryBuilder.addRule",defaultMessage:"Add rule"},addSubRule:{id:"blsq.queryBuilder.addSubRule",defaultMessage:"Add sub rule"},not:{id:"blsq.queryBuilder.not",defaultMessage:"Not"},valueSourcesPopupTitle:{id:"blsq.queryBuilder.valueSourcesPopupTitle",defaultMessage:"Select value source"},cancel:{id:"blsq.queryBuilder.cancel",defaultMessage:"Cancel"},confirm:{id:"blsq.queryBuilder.confirm",defaultMessage:"Confirm"},queryTab:{id:"blsq.queryBuilder.queryTab",defaultMessage:"Query"},jsonTab:{id:"blsq.queryBuilder.jsonTab",defaultMessage:"Json"},apply:{id:"blsq.queryBuilder.apply",defaultMessage:"Apply"},invalidJson:{id:"blsq.queryBuilder.invalidJson",defaultMessage:"Invalid JSON"},clear:{id:"iaso.label.clear",defaultMessage:"Clear"}}),Rt="YYYY-MM-DD",$t=require("@mui/material/InputLabel");var Vt=e.n($t);const zt=(0,d.makeStyles)(e=>({inputLabel:{color:"rgba(0, 0, 0, 0.4)",paddingLeft:3,paddingRight:3,transition:e.transitions.create(["all"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},shrink:{fontSize:20,marginTop:-2,backgroundColor:"white"},popupIndicator:{marginRight:"6px !important",marginLeft:"6px !important"},clearIndicator:{marginTop:-2},hasClearIcon:{"& .MuiAutocomplete-inputRoot":{paddingRight:"85px !important"}}})),Ht=({htmlFor:e,label:t="",required:r,shrink:n=!0,error:a=!1})=>{const o=zt();return s().createElement(Vt(),{htmlFor:e,classes:{shrink:o.shrink},className:o.inputLabel,shrink:n,error:a},t,r&&s().createElement("sup",null," *"))},_t=(0,d.makeStyles)(()=>({input:{minHeight:56}})),Yt=({keyValue:e,label:t,errors:r=[],required:n=!1,value:a="",disabled:o=!1,onChange:l=()=>{},multiline:i=!1,autoComplete:c="off",placeholder:u,dataTestId:d})=>{const p=r.length>=1,m=_t();return s().createElement(nt,{errors:r},t&&s().createElement(Ht,{htmlFor:`input-text-${e}`,label:t,required:n,error:p,shrink:""!==a}),s().createElement(ne.OutlinedInput,{size:"small",className:m.input,autoComplete:c,multiline:i,disabled:o,id:`input-text-${e}`,value:a,type:"text",onChange:e=>l(e.target.value),error:p,placeholder:u,"data-test":null!=d?d:""}))},Gt=require("react-number-format"),Wt=require("@mui/icons-material/Info");var Ut=e.n(Wt);const Kt=(0,Te.defineMessages)({min:{id:"blsq.input.label.min",defaultMessage:"Minimum"},max:{id:"blsq.input.label.max",defaultMessage:"Maximum"}}),Jt=({keyValue:e,label:t,errors:r,required:n,value:a,disabled:o,onChange:l,onBlur:i,onFocus:c,multiline:u,autoComplete:d,min:p,max:m,placeholder:g})=>{const b=r.length>=1,f=((e,t)=>{const{formatMessage:r}=pt();let n="";return!e&&0!==e||e===-1/0||(n=`${r(Kt.min)}: ${e}`,t&&t!==1/0&&(n+=" - ")),!t&&0!==t||t===1/0||(n+=`${r(Kt.max)}: ${t}`),n})(p,m);return s().createElement(nt,{errors:r},t&&s().createElement(Ht,{htmlFor:`input-text-${e}`,label:t,required:n,error:b,shrink:""!==a}),s().createElement(ne.OutlinedInput,{autoComplete:d,multiline:u,disabled:o,id:`input-text-${e}`,value:a,type:"text",endAdornment:""!==f&&s().createElement(ne.Tooltip,{title:f},s().createElement(Ut(),{color:"action"})),onChange:l,error:b,placeholder:g,onBlur:i,onFocus:c}))},Zt=(0,Te.defineMessages)({max:{id:"blsq.numberInput.error.max",defaultMessage:"Input exceeds {value}"},min:{id:"blsq.numberInput.error.min",defaultMessage:"Input is less than {value}"},invalid:{id:"blsq.numberInput.error.invalid",defaultMessage:"Invalid number"}}),Qt=({keyValue:e,label:t,onChange:r,onBlur:n,onFocus:a,placeholder:o,dataTestId:l,errors:c=[],required:u=!1,value:d="",disabled:p=!1,multiline:m=!1,autoComplete:g="off",min:b=-1/0,max:f=1/0,prefix:y="",suffix:h="",decimalScale:O=10,setFieldError:v=()=>null,thousandsGroupStyle:E="thousand",thousandSeparator:w=",",decimalSeparator:j="."})=>{const{formatMessage:P}=pt(),x=(0,i.useCallback)(t=>{const n=t.floatValue;n<=f&&n>=b||void 0===n?r(n):n>f?v(e,P(Zt.max,{value:f.toString()})):n<b?v(e,P(Zt.min,{value:b.toString()})):Number.isNaN(n)&&u&&v(e,P(Zt.invalid))},[f,b,u,r,v,e,P]);return s().createElement(Gt.NumericFormat,{value:d,disabled:p,prefix:y,suffix:h,customInput:Jt,onChange:()=>null,autoComplete:g,multiline:m,required:u,min:b,max:f,onValueChange:(e,t)=>{x(e)},onBlur:n,onFocus:a,errors:c,placeholder:o,keyValue:e,label:t,decimalScale:O,thousandsGroupStyle:E,thousandSeparator:w,decimalSeparator:j,"data-test":l})},Xt=(0,Te.defineMessages)({noOptions:{id:"blsq.button.label.noOptions",defaultMessage:"No results found"},valueNotFound:{id:"blsq.button.label.valueNotFound",defaultMessage:"Value not found in possible options"},oneValueNotFound:{id:"blsq.button.label.oneValueNotFound",defaultMessage:'Value "{value}" not found in possible options'},loadingOptions:{id:"blsq.select.label.loadingText",defaultMessage:"Loading..."}}),er=require("@mui/material/Autocomplete");var tr=e.n(er);const rr=require("@mui/material/Box");var nr=e.n(rr);const ar=new Set,or=e=>{const[t,r]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{const t=(t,n)=>{t.key===e&&r(n)},n=e=>{t(e,!0)},a=e=>{t(e,!1)};return ar.has(e)||(ar.add(e),document.addEventListener("keydown",n),document.addEventListener("keyup",a),document.addEventListener("blur",a)),()=>{ar.has(e)&&(ar.delete(e),document.removeEventListener("keydown",n),document.removeEventListener("keyup",a),document.removeEventListener("blur",a))}},[e,ar,t]),t},lr=require("@mui/material/TextField");var ir=e.n(lr);function sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ur=({params:e,renderOption:t,renderTags:r=()=>{},selectedOption:n,disabled:a,label:o,required:l,onBlur:i,errors:c,helperText:u,loading:d,dataTestId:p,autoComplete:m="off",placeholder:g=""})=>{const b=zt(),f=cr({},e);let y={};if(null==n?void 0:n.color){const e=r([n],()=>{}),t=Array.isArray(e)?e[0]:e;y={startAdornment:s().createElement("div",{className:b.startAdornment},t),style:{color:"transparent"}},f.inputProps.value=""}else t&&e.inputProps.value&&(y={startAdornment:s().createElement("div",{className:b.startAdornment},t({label:e.inputProps.value},{})),style:{color:"transparent"}},f.inputProps.value="");return s().createElement(nt,{errors:c},s().createElement(ir(),cr(cr({},f),{},{variant:"outlined",disabled:a,label:o?`${o}${l?"*":""}`:void 0,onBlur:i,error:c.length>0,InputLabelProps:{classes:{shrink:b.shrink},className:b.inputLabel},helperText:u,InputProps:cr(cr({},e.InputProps),{},{autoComplete:m,placeholder:g,"data-test":p,endAdornment:s().createElement(s().Fragment,null,d?s().createElement(ne.CircularProgress,{color:"inherit",size:20}):null,e.InputProps.endAdornment)},y)})))},dr=require("@mui/material/Chip");var pr=e.n(dr);const mr=require("color");var gr=e.n(mr);function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const yr=e=>(null==e?void 0:e.label)?e.label:"",hr=e=>(t,r)=>t.sort((t,r)=>e(t).localeCompare(r.label,void 0,{sensitivity:"accent"})).map((t,n)=>s().createElement(pr(),fr({color:"secondary",style:{backgroundColor:t.color,color:gr()(t.color).isDark()?"white":"black"},label:e(t)},r({index:n})))),Or=hr(yr),vr=e=>t=>(r,n)=>r.sort((t,r)=>e(t).localeCompare(e(r),void 0,{sensitivity:"accent"})).map((r,a)=>{const o=t(r);return s().createElement(ne.Tooltip,{title:o,key:`${o}-${a}`},s().createElement(pr(),fr({color:"secondary",style:{backgroundColor:r.color,color:gr()(r.color).isDark()?"white":"black"},label:e(r)},n({index:a}))))}),Er=vr(yr),wr=(e,t,r)=>{const n={getOptionLabel:e||(e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:e.toString()}),isOptionEqualToValue:t||((e,t)=>(null==t?void 0:t.value)||0===(null==t?void 0:t.value)?`${e.value}`==`${t.value}`:!(!t&&0!==t)&&`${e.value}`==`${t}`)};return r&&(n.renderOption=r),n},jr=(e,t)=>t.find(t=>`${t.value}`==`${e}`),Pr=(e,t,r)=>s().createElement("li",fr(fr({},e),{},{key:`${e.id||t.value||t.id}`,style:t.color?{paddingTop:4,paddingBottom:4}:{}}),t.color?s().createElement(pr(),{label:r(t),sx:{backgroundColor:t.color,color:gr()(t.color).isDark()?"white":"black",margin:0},size:"small"}):r(t));function xr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const Cr=({value:e,keyValue:t,label:r="",errors:n=[],onChange:a,options:o=[],onBlur:c=()=>{},disabled:u=!1,clearable:d=!0,required:p=!1,noOptionsText:m=Xt.noOptions,getOptionLabel:g,getOptionSelected:b,loading:f=!1,renderOption:y,renderTags:h=Or,returnFullObject:O=!1,helperText:v,loadingText:E=Xt.loadingOptions,dataTestId:w,placeholder:j,useBuiltInErrors:P=!0})=>{const{formatMessage:x}=pt(),C=zt(),k=or("Shift"),S=Boolean(e)||0===e,M=(0,i.useMemo)(()=>S?Array.isArray(e)?e:e.split(","):[],[e,S]),q=wr(g,b,y),D=(0,i.useMemo)(()=>{const e=[...n];return S&&!f&&P&&M.forEach(t=>{const r=((e,t,r)=>t.find(t=>r(t,e)))(t,o,q.isOptionEqualToValue);!Boolean(r)&&0!==r&&P&&e.push(x(Xt.oneValueNotFound,{value:`${q.getOptionLabel(t)}`}))}),e},[e,o,n,f,S,M,P]),T=(0,i.useMemo)(()=>S?O?M:M.map(e=>jr(e,o)).filter(e=>e):[],[o,S,M]),I=(0,i.useCallback)((e,t)=>0===t.length?a(null):a(O?t:t.map(e=>null==e?void 0:e.value).join(",")),[a,O]);return s().createElement(nr(),null,s().createElement(tr(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({disabled:u,noOptionsText:x(m),multiple:!0,disableCloseOnSelect:k,id:t,disableClearable:!d,options:o,value:T,onChange:I,loading:f,loadingText:x(E),clearIcon:s().createElement(ce(),null),renderTags:h,renderInput:e=>s().createElement(ur,{params:e,renderOption:y,disabled:u,label:r,required:p,onBlur:c,errors:D,helperText:v,loading:f,dataTestId:w,placeholder:j}),classes:{popupIndicator:C.popupIndicator,clearIndicator:C.clearIndicator,hasClearIcon:C.hasClearIcon},renderOption:(e,t)=>Pr(e,t,q.getOptionLabel)},q)))};function kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const Sr=({keyValue:e,onChange:t,value:r,label:n,helperText:a,placeholder:o,dataTestId:c,getOptionLabel:u,getOptionSelected:d,renderOption:p,renderTags:m=Or,errors:g=[],options:b=[],onBlur:f=()=>{},disabled:y=!1,clearable:h=!0,required:O=!1,noOptionsText:v=Xt.noOptions,loading:E=!1,loadingText:w=Xt.loadingOptions,returnFullObject:j=!1,freeSolo:P=!1,useBuiltInErrors:x=!0})=>{const{formatMessage:C}=pt(),k=zt(),S=Boolean(r)||0===r,M=(0,i.useMemo)(()=>{const e=[...g];if(!P){const t=!jr(r,b);S&&!E&&t&&x&&e.push(C(Xt.valueNotFound))}return e},[r,b,g,E,S,x]),q=(0,i.useMemo)(()=>{var e;return S?null!==(e=jr(r,b))&&void 0!==e?e:r:null},[r,b,S]),D=(0,i.useCallback)((e,r)=>{var n;return t(null!==(n=null==r?void 0:r.value)&&void 0!==n?n:null)},[t,j]),T=wr(u,d,p),I=(0,i.useCallback)((e,r)=>P&&t(r),[t,j]);return s().createElement(nr(),null,s().createElement(tr(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({disabled:y,freeSolo:P,onInputChange:I,noOptionsText:C(v),multiple:!1,id:e,disableClearable:!h,options:b,value:q,onChange:D,loading:E,loadingText:C(w),clearIcon:s().createElement(ce(),null),renderTags:m,renderInput:e=>s().createElement(ur,{params:e,renderOption:p,renderTags:m,selectedOption:q,disabled:y,label:n,required:O,onBlur:f,placeholder:o,errors:M,helperText:a,loading:E,dataTestId:c}),classes:{popupIndicator:k.popupIndicator,clearIndicator:k.clearIndicator,hasClearIcon:k.hasClearIcon},renderOption:(e,t)=>Pr(e,t,T.getOptionLabel)},T)))},Mr=({multi:e=!1,errors:t=[],keyValue:r,label:n,required:a=!1,disabled:o=!1,clearable:l=!0,value:i,onBlur:c=()=>{},loadingText:u=Xt.loadingOptions,noOptionsText:d=Xt.noOptions,helperText:p,options:m=[],loading:g=!1,onChange:b,getOptionLabel:f,getOptionSelected:y,renderOption:h,renderTags:O=Or,returnFullObject:v=!1,placeholder:E,freeSolo:w=!1,dataTestId:j,useBuiltInErrors:P=!0})=>e?s().createElement(Cr,{errors:t,keyValue:r,label:n,required:a,disabled:o,clearable:l,value:i,onBlur:c,loadingText:u,noOptionsText:d,helperText:p,options:m,loading:g,onChange:b,getOptionLabel:f,getOptionSelected:y,renderOption:h,renderTags:O,returnFullObject:v,placeholder:null!=E?E:void 0,dataTestId:j,useBuiltInErrors:P}):s().createElement(Sr,{errors:t,keyValue:r,label:n,required:a,disabled:o,clearable:l,value:i,onBlur:c,loadingText:u,noOptionsText:d,helperText:p,options:m,loading:g,onChange:b,getOptionLabel:f,getOptionSelected:y,renderOption:h,renderTags:O,returnFullObject:v,placeholder:null!=E?E:void 0,freeSolo:w,dataTestId:j,useBuiltInErrors:P}),qr=require("@mui/x-date-pickers");function Dr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ir=({label:e,onChange:t,value:r,required:n=!1,disabled:a=!1})=>s().createElement(nt,null,s().createElement(qr.TimePicker,{renderInput:e=>s().createElement(ne.TextField,Tr(Tr({},e),{},{required:n,variant:"outlined",InputLabelProps:{shrink:Boolean(r)},helperText:null})),ampm:!1,disabled:a,label:e,value:r,onChange:t}));function Br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Br(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Nr=(0,d.makeStyles)(e=>Lr(Lr({},Ye(e)),{},{clearDateButton:{marginRight:e.spacing(2),padding:0,position:"absolute",right:e.spacing(4),top:13},helperTextError:{color:e.palette.error.main}})),Ar=({label:e,onChange:t,currentDate:r=null,clearMessage:n,required:a=!1,errors:o=[],hideError:l=!1,disabled:c=!1,clearable:u=!0,maxTime:d,maxDateTime:p,maxDate:m,minTime:g,minDateTime:b,minDate:f})=>{const y=Nr(),[h,O]=(0,i.useState)(null),v=o.length>0||Boolean(h);return s().createElement(nt,{errors:o,hideError:l},s().createElement(qr.DateTimePicker,{autoOk:!0,renderInput:e=>s().createElement(ne.TextField,Lr({},e)),disableToolbar:!0,inputVariant:"outlined",required:a,disabled:c,InputLabelProps:{className:y.label,shrink:Boolean(r),error:v},KeyboardButtonProps:{size:"small"},keyboardIcon:s().createElement(re(),{size:"small"}),InputProps:{error:v},helperText:null,format:"DD/MM/YYYY HH:mm",label:`${e}`,value:r,onChange:t,onError:e=>O(e),minDate:f,minDateTime:b,minTime:g,maxDate:m,maxDateTime:p,maxTime:d}),u&&n&&r&&s().createElement("span",{className:y.clearDateButton},s().createElement(Ze,{disabled:c,size:"small",icon:"clear",tooltipMessage:n,onClick:()=>t(null)})))};function Fr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const $r=e=>Array.isArray(e)?e.map(e=>({value:e.value,label:e.title})):Object.entries(e||{}).map(([e,t])=>({value:e,label:t})),Vr=()=>{const{formatMessage:e}=pt(),t=(0,d.useTheme)(),r=(0,i.useCallback)((e,t)=>{t(Array.isArray(e)?e:(null==e?void 0:e.split(","))||[])},[]);return(0,i.useMemo)(()=>Rr(Rr({},Lt.MuiConfig),{},{conjunctions:Rr(Rr({},Lt.MuiConfig.conjunctions),{},{AND:Rr(Rr({},Lt.MuiConfig.conjunctions.AND),{},{label:"And"}),OR:Rr(Rr({},Lt.MuiConfig.conjunctions.OR),{},{label:"Or"})}),operators:Rr(Rr({},Lt.MuiConfig.operators),{},{like:Rr(Rr({},Lt.MuiConfig.operators.like),{},{label:e(Ft.contains)}),not_like:Rr(Rr({},Lt.MuiConfig.operators.not_like),{},{label:e(Ft.notLike)}),starts_with:Rr(Rr({},Lt.MuiConfig.operators.starts_with),{},{label:e(Ft.startsWith)}),ends_with:Rr(Rr({},Lt.MuiConfig.operators.ends_with),{},{label:e(Ft.endsWith)}),between:Rr(Rr({},Lt.MuiConfig.operators.between),{},{label:e(Ft.between)}),not_between:Rr(Rr({},Lt.MuiConfig.operators.not_between),{},{label:e(Ft.notBetween)}),is_empty:Rr(Rr({},Lt.MuiConfig.operators.is_empty),{},{label:e(Ft.isEmpty)}),is_not_empty:Rr(Rr({},Lt.MuiConfig.operators.is_not_empty),{},{label:e(Ft.isNotEmpty)}),is_null:Rr(Rr({},Lt.MuiConfig.operators.is_null),{},{label:e(Ft.isNull)}),is_not_null:Rr(Rr({},Lt.MuiConfig.operators.is_not_null),{},{label:e(Ft.isNotNull)}),select_any_in:Rr(Rr({},Lt.MuiConfig.operators.select_any_in),{},{label:e(Ft.anyIn)}),select_not_any_in:Rr(Rr({},Lt.MuiConfig.operators.select_not_any_in),{},{label:e(Ft.notAnyIn)}),multiselect_equals:Rr(Rr({},Lt.MuiConfig.operators.multiselect_equals),{},{label:e(Ft.equals)}),multiselect_not_equals:Rr(Rr({},Lt.MuiConfig.operators.multiselect_not_equals),{},{label:e(Ft.notEquals)}),proximity:Rr(Rr({},Lt.MuiConfig.operators.proximity),{},{label:e(Ft.proximity),valueLabels:[{label:e(Ft.proximityValueLabel1),placeholder:e(Ft.proximityValuePLaceholder1)},{label:e(Ft.proximityValueLabel2),placeholder:e(Ft.proximityValuePLaceholder2)}],options:Rr(Rr({},Lt.MuiConfig.operators.proximity.options),{},{optionLabel:e(Ft.proximityOptionsLabel),optionTextBefore:e(Ft.proximityOptionsLabel),optionPlaceholder:e(Ft.proximityOptionsPlaceholder)})}),some:Rr(Rr({},Lt.MuiConfig.operators.some),{},{label:e(Ft.some)}),all:Rr(Rr({},Lt.MuiConfig.operators.all),{},{label:e(Ft.all)}),none:Rr(Rr({},Lt.MuiConfig.operators.none),{},{label:e(Ft.none)})}),widgets:Rr(Rr({},Lt.MuiConfig.widgets),{},{text:Rr(Rr({},Lt.MuiConfig.widgets.text),{},{factory:({setValue:t,value:r,field:n})=>s().createElement(Yt,{keyValue:`${n}`,onChange:t,value:r,placeholder:e(Ft.textPlaceholder)})}),textarea:Rr(Rr({},Lt.MuiConfig.widgets.textarea),{},{factory:({setValue:t,value:r,field:n})=>s().createElement(Yt,{keyValue:`${n}`,onChange:t,value:r,multiline:!0,placeholder:e(Ft.textareaPlaceholder)})}),number:Rr(Rr({},Lt.MuiConfig.widgets.number),{},{factory:({setValue:t,value:r,field:n})=>s().createElement(ne.Box,{display:"inline-block",width:"150px"},s().createElement(Qt,{keyValue:`${n}`,onChange:t,value:r,placeholder:e(Ft.numberPlaceholder)}))}),slider:Rr(Rr({},Lt.MuiConfig.widgets.slider),{},{valueLabel:e(Ft.numberLabel),valuePlaceholder:e(Ft.sliderPlaceholder)}),select:Rr(Rr({},Lt.MuiConfig.widgets.select),{},{factory:({setValue:t,value:r,field:n,listValues:a})=>s().createElement(ne.Box,{display:"inline-block",width:"100%"},s().createElement(Mr,{placeholder:e(Ft.selectValue),value:r,keyValue:`${n}`,multi:!1,options:$r(a),onChange:t}))}),multiselect:Rr(Rr({},Lt.MuiConfig.widgets.multiselect),{},{valuePlaceholder:e(Ft.selectValues),factory:({setValue:t,value:n,field:a,listValues:o})=>s().createElement(ne.Box,{display:"inline-block",width:"100%"},s().createElement(Mr,{placeholder:e(Ft.selectValues),value:(null==n?void 0:n.join(","))||"",keyValue:`${a}`,multi:!0,options:$r(o),onChange:e=>r(e,t)}))}),date:Rr(Rr({},Lt.MuiConfig.widgets.date),{},{factory:({setValue:e,value:t})=>s().createElement(it,{onChange:t=>{e(At()(t).format(Rt))},label:"",currentDate:t,clearMessage:Ft.clear,clearable:!1}),dateFormat:"DD.MM.YYYY",valueFormat:Rt,valueLabel:e(Ft.date),valuePlaceholder:e(Ft.datePlaceholder),valueLabels:[{label:e(Ft.dateFrom),placeholder:e(Ft.dateFromPlaceholder)},{label:e(Ft.dateTo),placeholder:e(Ft.dateToPlaceholder)}]}),currentDate:Rr(Rr({},Lt.MuiConfig.widgets.text),{},{factory:({setValue:e,value:t})=>s().createElement(it,{onChange:t=>{const r=At()(t,"DD/MM/YYYY").valueOf().toString();e(r)},label:"",currentDate:t?At()(Number(t)):null,clearMessage:Ft.clear,clearable:!1}),valueLabel:e(Ft.date),valuePlaceholder:e(Ft.datePlaceholder),valueSources:["value","field"]}),currentDatetime:Rr(Rr({},Lt.MuiConfig.widgets.text),{},{factory:({setValue:e,value:t})=>s().createElement(Ar,{onChange:t=>{const r=At()(t,"DD/MM/YYYY").valueOf().toString();e(r)},label:"",currentDate:t?At()(Number(t)):null,clearMessage:Ft.clear,clearable:!1}),valueLabel:e(Ft.date),valuePlaceholder:e(Ft.datePlaceholder),valueSources:["value","field"]}),time:Rr(Rr({},Lt.MuiConfig.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss",valueLabel:e(Ft.time),valuePlaceholder:e(Ft.timePlaceholder),valueLabels:[{label:e(Ft.timeFrom),placeholder:e(Ft.timeFromPlaceholder)},{label:e(Ft.timeTo),placeholder:e(Ft.timeToPlaceholder)}],factory:({setValue:e,value:t})=>s().createElement(ne.Box,{display:"inline-block",width:150},s().createElement(Ir,{value:t?At()(t,"HH:mm"):null,onChange:t=>e(t?t.format("HH:mm"):void 0)}))}),datetime:Rr(Rr({},Lt.MuiConfig.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",factory:({setValue:e,value:t})=>s().createElement(Ar,{onChange:t=>{e(At()(t).format("YYYY-MM-DD HH:mm"))},label:"",currentDate:t,clearMessage:Ft.clear,clearable:!1}),valueLabel:e(Ft.datetime),valuePlaceholder:e(Ft.datetimePlaceholder),valueLabels:[{label:e(Ft.datetimeFrom),placeholder:e(Ft.datetimeFromPlaceholder)},{label:e(Ft.datetimeTo),placeholder:e(Ft.datetimeToPlaceholder)}]}),boolean:Rr(Rr({},Lt.MuiConfig.widgets.boolean),{},{labelYes:e(Ft.yes),labelNo:e(Ft.no)}),field:Rr(Rr({},Lt.MuiConfig.widgets.field),{},{valueLabel:e(Ft.fieldCompare),valuePlaceholder:e(Ft.fieldPlaceholder)}),func:Rr(Rr({},Lt.MuiConfig.widgets.func),{},{valueLabel:e(Ft.function),valuePlaceholder:e(Ft.selectFunction)}),rangeslider:Rr(Rr({},Lt.MuiConfig.widgets.rangeslider),{},{valueLabel:e(Ft.function),valuePlaceholder:e(Ft.selectFunction),valueLabels:[{label:e(Ft.rangeFrom),placeholder:e(Ft.rangeFromPlaceholder)},{label:e(Ft.rangeTo),placeholder:e(Ft.rangeToPlaceholder)}]})}),types:Rr(Rr({},Lt.MuiConfig.types),{},{"!group":Rr(Rr({},Lt.MuiConfig.types["!group"]),{},{widgets:Rr({},Lt.MuiConfig.types["!group"].widgets)}),currentDate:{defaultOperator:"equal",mainWidget:"currentDate",widgets:{currentDate:{operators:["equal","not_equal","greater","less","greater_or_equal","less_or_equal","is_null","is_not_null"],widgetProps:{},opProps:{}}}},currentDatetime:{defaultOperator:"equal",mainWidget:"currentDatetime",widgets:{currentDatetime:{operators:["equal","not_equal","greater","less","greater_or_equal","less_or_equal","is_null","is_not_null"],widgetProps:{},opProps:{}}}}}),settings:Rr(Rr({},Lt.MuiConfig.settings),{},{theme:{mui:t},valueSourcesInfo:Rr(Rr({},Lt.MuiConfig.settings.valueSourcesInfo),{},{value:{label:e(Ft.value)},field:{label:e(Ft.field),widget:"field"},func:{label:e(Ft.function),widget:"func"}}),locale:Rr(Rr({},Lt.MuiConfig.settings.locale),{},{moment:At().locale()}),renderField:({items:t,setField:r,id:n,selectedKey:a})=>s().createElement(ne.Box,{display:"inline-block",width:"100%"},s().createElement(Mr,{placeholder:e(Ft.selectField),keyValue:`${n}`,multi:!1,options:(t||[]).map(e=>({value:e.path,label:e.label})),onChange:r,value:a})),renderOperator:({items:t,setField:r,id:n,selectedKey:a})=>s().createElement(ne.Box,{display:"inline-block",width:150},s().createElement(Mr,{placeholder:e(Ft.selectField),clearable:!1,keyValue:`${n}`,multi:!1,options:(t||[]).map(e=>({value:e.key,label:e.label})),onChange:r,value:a})),valueLabel:e(Ft.value),valuePlaceholder:e(Ft.value),fieldLabel:e(Ft.field),operatorLabel:e(Ft.operator),funcLabel:e(Ft.function),fieldPlaceholder:e(Ft.selectField),funcPlaceholder:e(Ft.selectFunction),operatorPlaceholder:e(Ft.selectOperator),lockLabel:e(Ft.lock),lockedLabel:e(Ft.locked),addGroupLabel:e(Ft.addGroup),addCaseLabel:e(Ft.addCondition),addDefaultCaseLabel:e(Ft.addDefaultCase),defaultCaseLabel:e(Ft.defaultCase),addRuleLabel:e(Ft.addRule),addSubRuleLabel:e(Ft.addSubRule),valueSourcesPopupTitle:e(Ft.valueSourcesPopupTitle)})}),[e,t,r])},zr=(0,d.makeStyles)(e=>({root:{"& .query-builder-container":{padding:"0 !important"},"& .qb-drag-handler, .qb-draggable, .query-builder":{WebkitUserSelect:"none",KhtmlUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},"& .rule--header:after":{content:'""',display:"table",clear:"both"},"& .group--header,\n.group--footer":{display:"flex",alignItems:"center",paddingLeft:"10px",paddingRight:"10px",marginTop:"10px",marginBottom:"10px"},"& .query-builder":{overflow:"hidden",fontFamily:'"Helvetica Neue", Helvetica, Arial, sans-serif',fontSize:"14px",lineHeight:1.25,margin:0},"& .query-builder *, .query-builder *::before, .query-builder *::after":{boxSizing:"border-box"},"& .query-builder .widget--valuesrc":{opacity:"1 !important"},"& body.qb-dragging .ant-tooltip":{display:"none"},"& .query-builder.qb-dragging":{cursor:["-webkit-grabbing !important","grabbing !important"]},"& .query-builder.qb-dragging button":{pointerEvents:"none"},"& .group":{background:e.palette.gray.background,border:`1px solid ${e.palette.border.main}`},"& .rule":{backgroundColor:"white",border:"1px solid transparent",padding:"10px",flex:1,display:"flex"},"& .rule-with-error .rule":{border:"1px solid #e0a1a1"},"& .rule--body--wrapper":{flex:1,display:"flex",flexDirection:"column"},"& .rule--error":{color:"red",marginBottom:"-5px",marginTop:"5px"},"& .group-or-rule":{borderRadius:"5px",position:"relative"},"& .rule_group":{background:"rgba(255, 252, 242, 0.5)",border:"1px solid #f9f1dd",display:"flex",paddingLeft:"10px"},"& .qb-draggable":{pointerEvents:"none",position:"absolute",opacity:.7,zIndex:1e3},"& .qb-placeholder":{border:"1px dashed gray"},"& .locked":{border:"1px dashed red"},"& .ant-tooltip-inner":{minHeight:"18px"},"& .ant-slider":{marginBottom:"4px",marginTop:"4px"},"& .ant-slider-with-marks":{marginBottom:"10px",marginTop:"4px"},"& .ant-slider-track":{visibility:"visible !important"},"& .ant-select-tree-dropdown > div[role=listbox]":{outline:"none"},"& ul.ant-select-selection__rendered":{marginRight:"11px"},"& .ant-select-item":{minHeight:"22px"},"& .group--children":{paddingLeft:"24px",marginTop:"10px",marginBottom:"10px"},"& .group--children > .group-or-rule-container > .group-or-rule:before":{top:"-4px",borderWidth:"0 0 2px 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::after":{top:"50%",borderWidth:"0 0 0 2px"},"& .group--children > .group-or-rule-container > .group-or-rule::before, .group--children > .group-or-rule-container > .group-or-rule::after":{content:'""',position:"absolute",left:"-14px",width:"14px",height:"calc(50% + 8px)",borderColor:"#CCC",borderStyle:"solid",WebkitBoxSizing:"border-box",MozBoxSizing:"border-box",boxSizing:"border-box"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.hide--conjs > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::before":{display:"none"},"& .group--children.rule_group--children > .group-or-rule-container:first-child > .group-or-rule::after":{borderRadius:"4px 0 0 0",borderWidth:"2px 0 0 2px"},"& .group--children > .group-or-rule-container:first-child > .group-or-rule::before":{top:"-12px",height:"calc(50% + 14px)"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::before":{borderRadius:"0 0 0 4px"},"& .group--children > .group-or-rule-container:last-child > .group-or-rule::after":{display:"none"},"& .group--children.hide--line > .group-or-rule-container > .group-or-rule::before, .group--children.hide--line > .group-or-rule-container > .group-or-rule::after":{borderColor:"rgba(128, 128, 128, 0.1)"},"& .qb-draggable::before, .qb-draggable::after":{display:"none"},"& .qb-drag-handler":{cursor:["-webkit-grabbing","grabbing"]},"& .group--drag-handler":{marginRight:"8px",position:"relative",top:"3px"},"& .group--conjunctions .group--drag-handler":{marginLeft:"10px"},"& .group--conjunctions.hide--conj":{opacity:.3},"& .group--actions":{marginLeft:"10px",flex:1,display:"flex"},"& .group--actions--tl, .group--actions--bl":{justifyContent:"flex-start"},"& .group--actions--tl":{marginLeft:"20px"},"& .group--actions--tc, .group--actions--bc":{justifyContent:"center"},"& .group--actions--tr, .group--actions--br":{justifyContent:"flex-end"},"& .group--actions .action--DELETE":{marginTop:"-1px"},"& .case_group":{borderWidth:"2px"},"& .switch_group > .group--children > .group-or-rule-container > .group-or-rule::before, .switch_group > .group--children > .group-or-rule-container > .group-or-rule::after":{height:"calc(50% + 12px)"},"& .case_group--body":{display:"flex",flexDirection:"row",marginTop:"10px",marginBottom:"10px"},"& .case_group--body .case_group--children":{flex:"auto",marginTop:"0 !important",marginBottom:"0 !important"},"& .case_group--body .case_group--value":{marginTop:"0",marginBottom:"0",marginRight:"10px"},"& .rule_group .group--drag-handler":{alignSelf:"center"},"& .rule_group .group--field":{alignSelf:"center"},"& .rule_group .group--actions":{alignSelf:"center",flex:0},"& .rule_group .rule_group--children":{flex:1,marginTop:"5px",marginBottom:"5px",paddingLeft:"18px"},"& .rule_group .rule_group--children .group-or-rule-container":{marginBottom:"5px",marginTop:"5px",paddingRight:"5px"},"& .rule_group .rule_group--children.one--child":{paddingLeft:"10px"},"& .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::before, .rule_group .rule_group--children > .group-or-rule-container > .group-or-rule::after":{left:"-10px",width:"10px",height:"calc(50% + 8px)"},"& .group--header.hide--drag.with--conjs > .group--field--count--rule":{marginLeft:"20px"},"& .rule--header":{marginLeft:"auto",display:"flex",alignItems:"center",paddingLeft:"10px"},"& .rule--drag-handler":{display:"flex",alignItems:"center",marginRight:"8px"},"& .rule--field-wrapper, .rule--field":{width:"40%",display:"inline-block"},"& .rule--field-wrapper > .rule--field":{width:"100%"},"& .rule--value":{width:"44%"},"& .rule--widget":{width:"100%"},"& .widget--widget":{width:"calc(100% - 50px)"},"& .rule--field, .group--field, .rule--operator, .rule--value, .rule--operator-options, .rule--widget, .widget--widget, .widget--valuesrc, .widget--sep, .operator--options--sep, .rule--before-widget, .rule--after-widget":{display:"inline-block"},"& .mui .widget--sep, .mui .operator--options--sep, .mui .rule--func--bracket-before, .mui .rule--func--bracket-after, .mui .rule--func--arg-sep":{verticalAlign:"bottom",alignSelf:"flex-end",marginBottom:"8px"},"& .mui .rule--operator-options":{verticalAlign:"bottom"},"& .mui .widget--valuesrc":{verticalAlign:"bottom"},"& .rule--operator, .widget--widget, .widget--valuesrc, .widget--sep":{marginLeft:"10px"},"& .widget--valuesrc":{marginRight:"-8px"},"& .widget--valuesrc span i":{transform:"rotate(90deg)"},"& .operator--options--sep":{marginRight:"10px"},"& div.tooltip-inner":{maxWidth:"500px"},"& .rule--field label, .group--field label, .rule--operator label, .widget--widget label":{display:"block",fontWeight:"bold"},"& .conjunction":{display:"inline-block"},"& .conjunction label":{display:"inline-block",border:"1px solid",cursor:"pointer",color:"white",textTransform:"uppercase",padding:"0.2rem 0.4rem"},"& .conjunction input":{display:"none"},"& .conjunction[data-state=active] label":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction[data-state=inactive] label":{backgroundColor:"#428bca",borderColor:"#357ebd"},"& .conjunction[data-state=inactive] label:hover":{backgroundColor:"#3276b1",borderColor:"#285e8e"},"& .conjunction:first-child label":{borderRadius:"3px 0 0 3px"},"& .conjunction:last-child label":{borderRadius:"0 3px 3px 0"},"& .conjunction:first-child:last-child":{borderRadius:"3px"},"& .rule--func--wrapper, .rule--func, .rule--func--args, .rule--func--arg, .rule--func--arg-value, .rule--func--bracket-before, .rule--func--bracket-after, .rule--func--arg-sep, .rule--func--arg-label, .rule--func--arg-label-sep":{display:"inline-block"},"& .rule--func--bracket-before, .rule--func--bracket-after":{marginLeft:"3px",marginRight:"3px"},"& .rule--func--bracket-before":{marginLeft:"5px"},"& .rule--func--arg-value > .rule--widget":{marginLeft:"-10px"},"& .rule--func--arg-sep":{marginLeft:"3px",marginRight:"6px"},"& .rule--func--arg-label-sep":{marginLeft:"1px",marginRight:"6px"},"& .qb-lite .group--drag-handler, .qb-lite .group--actions":{transition:"opacity 0.2s"},"& .qb-lite .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .rule_group_ext--drag-handler":{transition:"padding 0.2s"},"& .qb-lite .group--header:hover .group--header .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite .group--header:hover .group--header .rule_group_ext--drag-handler,\n.qb-lite .group--header:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .group--header:not(:hover) .rule_group_ext--drag-handler,\n.qb-lite .rule_group:not(:hover) .group--conjunctions .ant-btn:not(.ant-btn-primary),\n.qb-lite .rule_group:not(:hover) .rule_group_ext--drag-handler":{width:"0",padding:"0",overflow:"hidden",opacity:0},"& .qb-lite .widget--valuesrc, .qb-lite .rule--drag-handler, .qb-lite .rule--header":{transition:"opacity 0.2s"},"& .qb-lite .rule:hover .rule .widget--valuesrc, .qb-lite .rule:hover .rule .rule--drag-handler, .qb-lite .rule:hover .rule .rule--header,\n.qb-lite .rule:not(:hover) .widget--valuesrc,\n.qb-lite .rule:not(:hover) .rule--drag-handler,\n.qb-lite .rule:not(:hover) .rule--header":{opacity:0},"& .qb-lite.qb-dragging .widget--valuesrc, .qb-lite.qb-dragging .rule--drag-handler, .qb-lite.qb-dragging .rule--header, .qb-lite.qb-dragging .group--drag-handler, .qb-lite.qb-dragging .group--actions":{opacity:"0 !important"},"& .qb-lite.qb-dragging .group--conjunctions .ant-btn:not(.ant-btn-primary), .qb-lite.qb-dragging .rule_group_ext--drag-handler":{width:"0 !important",padding:"0 !important",overflow:"hidden !important",opacity:"0 !important"},"& .group-or-rule-container":{marginTop:"10px",marginBottom:"10px",paddingRight:"10px"},"& .group-or-rule-container:first-child":{marginTop:"0px !important"},"& .group-or-rule-container:last-child":{marginBottom:"0px !important"},"& .rule--body.can--shrink--value":{display:"flex",alignItems:"center"},"& .rule--body.can--shrink--value .rule--value":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget":{display:"flex"},"& .rule--body.can--shrink--value .rule--value > .rule--widget .widget--widget":{flex:1},"& .rule--body.can--shrink--value .rule--value > .rule--widget > .widget--valuesrc":{display:"flex",alignItems:"center"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon":{height:"100%"},"& .rule--value > .rule--widget > .widget--valuesrc .anticon svg":{height:"100%"},"& .svg-inline--fa":{pointerEvents:"none"},"& .MuiFormControl-root fieldset legend":{fontSize:0,padding:0,width:0},"& .MuiFormControl-root .MuiSelect-select":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiAutocomplete-inputRoot":{padding:e.spacing(1,5,1,1)},"& .MuiFormControl-root .MuiSelect-icon":{top:7},"& .MuiOutlinedInput-input":{padding:"19.5px 14px"},"& .MuiInputBase-root":{minHeight:0},"& .rule--widget--CURRENTDATETIME .widget--valuesrc":{display:"none"},"& .group--field--count--rule":{marginLeft:"20px",width:"100%"},"& .group--field--count--rule .rule--field .MuiInputBase-root":{fontWeight:"bold"},"& .group--field--count--rule .rule--operator .MuiInputBase-root":{fontWeight:"bold",minWidth:"150px"}},radio:{position:"relative",top:4}}));function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hr(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Yr={id:Lt.Utils.uuid(),type:"group"},Gr=({logic:e,fields:t,settings:r,conjunctions:n,operators:a,onChange:o})=>{const l=Vr(),c=(0,i.useMemo)(()=>_r(_r({},l),{},{settings:_r(_r({},l.settings),null!=r?r:{}),conjunctions:_r(_r({},l.conjunctions),null!=n?n:{}),operators:_r(_r({},l.operators),null!=a?a:{}),fields:t}),[t,l]),[u,d]=(0,i.useState)(Lt.Utils.checkTree(Lt.Utils.loadFromJsonLogic(e,c)||Lt.Utils.loadTree(Yr),c)),p=(0,i.useCallback)((e,t)=>{d(e),o(Lt.Utils.jsonLogicFormat(e,t))},[o]),m=(0,i.useCallback)(e=>s().createElement("div",{className:"query-builder-container",style:{padding:"10px"}},s().createElement("div",{className:"query-builder qb-lite"},s().createElement(Lt.Builder,_r({},e)))),[]),g=zr();return s().createElement("section",{className:g.root},s().createElement(Lt.Query,_r(_r({},c),{},{value:u,onInit:p,onChange:p,renderBuilder:m})))},Wr=(0,Te.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"}}),Ur=(0,d.makeStyles)(e=>({input:{display:"flex",alignItems:"center",border:`1px solid ${e.palette.border.main}`,paddingTop:12,paddingBottom:12,paddingRight:e.spacing(2),paddingLeft:e.spacing(2),borderRadius:e.shape.borderRadius,minHeight:56,cursor:"pointer","&:hover":{borderColor:e.palette.border.hover}},fixedHeightValue:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",width:"92%"},value:{paddingRight:"8%"},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main},clear:{position:"absolute",right:e.spacing(2),top:"50%",transform:"translateY(-50%)"}})),Kr=({value:e,onClick:t,dataTestId:r,errors:n,required:a,label:o,onClear:l,fixedHeight:i=!0})=>{const c=Ur();return s().createElement(ne.Box,{mt:2},s().createElement(nt,{errors:n},s().createElement(ne.InputLabel,{shrink:Boolean(e),required:a,className:c.inputLabel},o),s().createElement(ne.Box,{className:c.input,onClick:t,"data-test":r},s().createElement(ne.Typography,{className:m()(i&&c.fixedHeightValue,!i&&c.value),component:"span"},e)),e&&""!==e&&s().createElement(ne.Box,{className:c.clear},s().createElement(Ze,{size:"small",onClick:l,icon:"clear",tooltipMessage:Wr.clear}))))},Jr=(0,d.makeStyles)(e=>({textArea:{width:"100%",minWidth:"100%",minHeight:"100px",padding:e.spacing(2),outline:"none"},textAreaError:{borderColor:`${e.palette.error.main} !important`}})),Zr=({initialLogic:e,changeLogic:t})=>{const{formatMessage:r}=pt(),n=Jr(),[a,o]=(0,i.useState)(JSON.stringify(e)),[l,c]=(0,i.useState)([]);return s().createElement(ne.Box,{mt:2,mb:-2},s().createElement(nt,{errors:l},s().createElement("textarea",{className:m()(n.textArea,l.length>0&&n.textAreaError),onChange:e=>{const{value:t}=e.target;o(t);try{JSON.parse(t),c([])}catch(e){c([r(Ft.invalidJson)])}},value:a})),s().createElement(ne.Box,{mt:2,display:"flex",justifyContent:"flex-end"},s().createElement(ne.Button,{disabled:!a||l.length>0||a===JSON.stringify(e),onClick:()=>a&&t(JSON.parse(a)),color:"primary","data-test":"apply-button"},r(Ft.apply))))},Qr=Bt(({label:e,closeDialog:t,isOpen:r,id:n,dataTestId:a,initialLogic:o,fields:l,onChange:c,InfoPopper:u,maxWidth:d="lg"})=>{const{formatMessage:p}=pt(),m=(0,ne.useTheme)(),[g,b]=(0,i.useState)(o),[f,y]=(0,i.useState)("query");return s().createElement(kt,{allowConfirm:!0,titleMessage:e,onConfirm:()=>{t(),c(g)},onCancel:()=>{t()},maxWidth:d,cancelMessage:Ft.cancel,confirmMessage:Ft.confirm,open:r,closeDialog:t,dataTestId:a||"",id:n||"",onClose:()=>null},s().createElement(ne.Box,{position:"relative"},u&&s().createElement(ne.Box,{position:"absolute",top:m.spacing(-7),right:m.spacing(-3)},u),s().createElement(ne.Tabs,{value:f,onChange:(e,t)=>{y(t)}},s().createElement(ne.Tab,{value:"query",label:p(Ft.queryTab)}),s().createElement(ne.Tab,{value:"json",label:p(Ft.jsonTab)})),"query"===f&&s().createElement(ne.Box,{mt:2},s().createElement(Gr,{logic:g,fields:l,onChange:e=>{b(null==e?void 0:e.logic)}})),"json"===f&&s().createElement(Zr,{initialLogic:g,changeLogic:e=>b(e)})))},({label:e,value:t,onClick:r,dataTestId:n,onClear:a})=>{const{formatMessage:o}=pt();return s().createElement(Kr,{onClick:r,value:t,dataTestId:`open-query-builder-${n||"default"}`,label:o(e),onClear:a,fixedHeight:!1})}),Xr=require("@mui/icons-material/InfoOutlined");var en=e.n(Xr);const tn={typography:{useNextVariants:!0},textColor:"#333",palette:{primary:{main:"#006699",secondary:"#0066cc",background:"#F5F5F5"},gray:{main:"#666",border:"rgba(0,0,0,0.02)",background:"rgba(0,0,0,0.03)"},mediumGray:{main:"#A2A2A2",border:"rgb(224, 224, 224)"},ligthGray:{main:"#F7F7F7",border:"rgba(0, 0, 0, 0.12)",background:"rgba(0, 0, 0, 0.012)"},error:{main:"rgb(215, 25, 28)",background:"rgba(215, 25, 28, 0.2)",backgroundHard:"rgba(215, 25, 28, 0.7)"},success:{main:"#4caf50",background:"rgba(76,175,80, 0.2)"},border:{main:"rgba(0,0,0,0.23)",hover:"rgba(0,0,0,0.87)"},yellow:{main:"#FFD835"}},components:{MuiInputBase:{defaultProps:{variant:"outlined"}},MuiSelect:{defaultProps:{variant:"outlined"}}}},rn=(0,Ve.createTheme)(tn),nn=require("@mui/icons-material/Search");var an=e.n(nn);const on=(0,d.makeStyles)(e=>({icon:{right:e.spacing(2)},search:{position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{marginLeft:e.spacing(1),width:"auto"}},inputRoot:{color:"inherit",display:"flex",alignItems:"center"},inputInput:{paddingRight:e.spacing(7),width:"100%"},searchIconWrapper:{width:e.spacing(3),height:e.spacing(3)}})),ln=(e,t)=>{const r=(0,i.useRef)(!1);(0,i.useEffect)(()=>{r.current?e():r.current=!0},t)},sn=['"',"?","/","%","&"],cn=(0,Te.defineMessages)({clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"clear"},search:{id:"blsq.table.filter.search",defaultMessage:"search"},forbiddenChars:{id:"iaso.label.forbiddenChars",defaultMessage:'Forbidden characters: "&", "/","?"," "" " and "%"'}}),un=({uid:e,label:t,required:r=!1,keyValue:n,disabled:a=!1,clearable:o=!1,value:l="",onEnterPressed:c,onChange:u,onErrorChange:d=()=>null,errors:p=[],autoComplete:m="off",blockForbiddenChars:g=!1,dataTestId:b})=>{const f=p.length>=1,[y,h]=(0,i.useState)(l),O=(0,i.useMemo)(()=>""!==l,[l]),[v,E]=(0,i.useState)([]),[w,j]=(0,i.useState)(!1),P=on(),{formatMessage:x}=pt(),C=(0,i.useCallback)(()=>{w||c()},[w,c]);return ln(()=>{u(y)},[y]),ln(()=>{l!==y&&h(l)},[l]),(0,i.useEffect)(()=>{if(g){const e=((e,t=sn)=>{for(let r=0;r<e.length;r+=1)if(t.includes(e[r]))return!0;return!1})(y);j(e);const t=e?[x(cn.forbiddenChars)]:[];E(t)}},[y,x,g]),(0,i.useEffect)(()=>{d(w)},[w,d]),s().createElement(nt,{errors:v},s().createElement(Ht,{htmlFor:`search-${n}`,label:t,required:r,shrink:null!=l&&""!==l,error:f||w}),s().createElement(ne.OutlinedInput,{autoComplete:m,disabled:a,error:f||w,id:e?`search-${e}`:`search-${n}`,value:y,placeholder:"",onKeyDown:e=>{13!==e.which&&13!==e.keyCode&&"Enter"!==e.key||C()},classes:{root:P.inputRoot,input:P.inputInput},endAdornment:s().createElement(s().Fragment,null,o&&O&&s().createElement(Ze,{size:"small",onClick:()=>{h("")},icon:"clear",tooltipMessage:cn.clear}),s().createElement("div",{className:P.searchIconWrapper,tabIndex:0,role:"button",onClick:()=>C()},s().createElement(an(),null))),inputProps:{"aria-label":"search","data-test":b},onChange:e=>h(e.target.value)}))},dn=require("@mui/material/MenuItem");var pn=e.n(dn);const mn=require("@mui/material/Select");var gn=e.n(mn);const bn=(0,Te.defineMessages)({previousText:{defaultMessage:"Previous",id:"blsq.table.previous"},nextText:{defaultMessage:"Next",id:"blsq.table.next"},lastText:{defaultMessage:"Last page",id:"blsq.table.last"},firstText:{defaultMessage:"First page",id:"blsq.table.first"},noDataText:{defaultMessage:"No result",id:"blsq.table.noResult"},pageText:{defaultMessage:"Page",id:"blsq.table.page"},ofText:{defaultMessage:"of",id:"blsq.table.of"},rowsText:{defaultMessage:"results",id:"blsq.table.results"},selectionAction:{defaultMessage:"With",id:"blsq.table.labels.selectionAction"},results:{id:"blsq.table.label.resultsLower",defaultMessage:"result(s)"},selection:{id:"blsq.table.label.selection",defaultMessage:"Selection"},selected:{id:"blsq.table.label.selected",defaultMessage:"selected"},loading:{id:"blsq.table.loading",defaultMessage:"Loading..."},details:{defaultMessage:"Details",id:"blsq.table.details"},sortAsc:{defaultMessage:"Sort ascending",id:"blsq.table.sortAsc"},sortDesc:{defaultMessage:"Sort descending",id:"blsq.table.sortDesc"},unSort:{defaultMessage:"Remove sort",id:"blsq.table.unSort"},renderError:{id:"blsq.table.label.renderError",defaultMessage:"Error rendering value"}}),fn=(0,d.makeStyles)(e=>({select:{height:40,marginLeft:e.spacing(10)}})),yn=({rowsPerPage:e,rowsPerPageOptions:t,selectRowsPerPage:r})=>{const n=fn(),{formatMessage:a}=pt();return s().createElement(nr(),{display:"inline-flex",justifyContent:"center",alignItems:"center",mr:8},s().createElement(Xe(),{variant:"outlined"},s().createElement(gn(),{className:m()(n.select,"pagination-row-select"),value:e,onChange:e=>{r(e.target.value)}},t.map(e=>s().createElement(pn(),{key:e,value:e,className:`row-option-${e}`},`${e} ${a(bn.rowsText)}`)))))},hn=[5,10,20,30,40,50],On=({resultsCount:e=hn[2],handleSelect:t=()=>null,countOptions:r=hn})=>s().createElement(yn,{rowsPerPageOptions:r,rowsPerPage:e,selectRowsPerPage:t}),vn=require("react-query");function En(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?En(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):En(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const jn=(0,Te.defineMessages)({loading:{id:"blsq.treeview.loading",defaultMessage:"Loading"},confirm:{id:"blsq.treeview.search.confirm",defaultMessage:"Confirm"},cancel:{id:"blsq.treeview.search.cancel",defaultMessage:"Cancel"},selectSingle:{id:"blsq.treeview.label.selectSingle",defaultMessage:"Select an org unit"},selectMultiple:{id:"blsq.treeview.label.selectMultiple",defaultMessage:"Select org unit(s)"},display:{id:"blsq.treeview.search.results.label.display",defaultMessage:"Display"},resultsLower:{id:"blsq.treeview.search.results.label.resultsLower",defaultMessage:"result(s)"},noOptions:{id:"blsq.treeview.search.options.label.noOptions",defaultMessage:"No result found"},clear:{id:"blsq.treeview.search.options.label.clear",defaultMessage:"Clear"},search:{id:"blsq.treeview.search.inputLabelObject",defaultMessage:"Enter search term"},noData:{id:"blsq.treeview.results.noData",defaultMessage:"No data"}});function Pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Cn=(0,d.makeStyles)(e=>({root:{height:e.spacing(9),overflow:"visible"},container:{position:"relative",zIndex:1e3},loadingContainer:{position:"absolute",top:"0",left:"0",width:"100%",zIndex:10,height:"100%",backgroundColor:"rgba(255, 255, 255, 0.8)"},listContainer:{border:`1px solid ${e.palette.ligthGray.border}`,backgroundColor:"white",borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)",position:"relative",overflow:"hidden"},list:{maxHeight:"250px",overflow:"auto"},noResult:{backgroundColor:"white",border:`1px solid ${e.palette.ligthGray.border}`,borderBottomLeftRadius:e.shape.borderRadius,borderBottomRightRadius:e.shape.borderRadius,color:e.palette.error.main,height:e.spacing(9),display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0px 9px 29px -5px rgba(0,0,0,0.3)"},resultInfos:{fontSize:12,height:e.spacing(6),display:"flex",justifyContent:"flex-end",alignItems:"center",padding:e.spacing(0,4)},countContainer:{marginTop:e.spacing(1),marginBottom:5,"& >div":{marginRight:0}},iconButton:{height:25,marginLeft:e.spacing(1)},resultsCountInput:{"&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0},"-moz-appearance":"textfield",textAlign:"center"},searchBar:{display:"flex",alignItems:"center"},searchButton:{marginLeft:"10px"}})),kn=({request:e,makeDropDownText:t,toolTip:r,dependency:n,onSelect:a=()=>{},minResultCount:o=50,inputLabelObject:l=jn.search,withSearchButton:c=!1})=>{const{formatMessage:u}=pt(),d=Cn(),[p,m]=(0,i.useState)(""),[g,b]=(0,i.useState)(o),[f,y]=(0,i.useState)(!1),[O,v]=(0,i.useState)(!1),[E,w]=(0,i.useState)(!1),{data:j,isLoading:P,isFetching:x}=(({request:e,searchValue:t,resultsCount:r,options:n,dependency:a})=>(0,vn.useQuery)(["TreeviewSearch",e,t,r,...a?[a]:[]],async()=>await e(t,r),wn(wn({initialData:[],retry:!1},n),{},{keepPreviousData:!0})))({request:e,searchValue:p,resultsCount:g,options:{enabled:f&&O},dependency:n}),C=(0,i.useCallback)(()=>{""!==p&&v(!0)},[p]),k=s().createElement(en(),{fontSize:"small",style:{color:tn.palette.mediumGray.main}});return s().createElement(ne.Box,{className:d.root},s().createElement(ne.ClickAwayListener,{onClickAway:()=>{E||y(!1)}},s().createElement(ne.Box,{className:d.container,onFocus:()=>y(!0)},s().createElement(ne.Box,{className:d.searchBar},s().createElement(un,{disabled:P,keyValue:"orgUnitSearch",onChange:e=>{m(e),v(!1)},value:p,label:u(l),onEnterPressed:()=>C()}),c&&s().createElement(ne.Button,{variant:"contained",className:d.searchButton,color:"primary",onClick:C},s().createElement(Te.FormattedMessage,xn({},jn.search)))),P&&s().createElement("div",{className:d.loadingContainer},s().createElement(h,{fixed:!1,transparent:!0,padding:4,size:25})),0===j.length&&f&&O&&!x&&s().createElement(ne.Typography,{variant:"body2",align:"center",className:d.noResult},s().createElement(Te.FormattedMessage,xn({},jn.noOptions))),j.length>0&&f&&s().createElement(ne.Box,{className:d.listContainer},s().createElement(ne.List,{className:d.list},j.map(e=>s().createElement(ne.ListItem,{key:e.id,button:!0,onClick:()=>(e=>{a(e),y(!1)})(e),className:"org-unit-item"},s().createElement(ne.ListItemText,{primary:s().createElement(ne.Typography,{variant:"body2"},t(e))}),r&&r(e,k)))),s().createElement(ne.Divider,null),s().createElement(ne.Box,{className:d.resultInfos},s().createElement(ne.ClickAwayListener,{onClickAway:()=>w(!1)},s().createElement(ne.Box,{className:d.countContainer,onFocus:()=>w(!0)},s().createElement(On,{handleSelect:e=>{b(parseInt(e,10))},resultsCount:g}))))))))},Sn=require("@mui/icons-material/ArrowDropDown");var Mn=e.n(Sn);const qn=require("@mui/icons-material/ArrowRight");var Dn=e.n(qn);const Tn=require("@mui/icons-material/CheckBox");var In=e.n(Tn);const Bn=require("@mui/icons-material/CheckBoxOutlineBlankOutlined");var Ln=e.n(Bn);const Nn=require("@mui/icons-material/IndeterminateCheckBox");var An=e.n(Nn);const Fn=require("@mui/x-tree-view");function Rn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Vn=(0,d.makeStyles)(e=>({treeItem:{"&.MuiTreeItem-root.Mui-selected > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:e.palette.primary.background,alignItems:"center",color:e.palette.primary.main}},unselectableTreeItem:{"&.MuiTreeItem-root > .MuiTreeItem-content .MuiTreeItem-label":{alignItems:"center",color:e.palette.mediumGray.main}},checkbox:{color:e.palette.mediumGray.main,fontSize:"16px",marginRight:"5px"}})),zn=({label:e,id:t,fetchChildrenData:r=()=>{},expanded:n=[],toggleOnLabelClick:a=!0,onLabelClick:o=()=>{},data:l,withCheckbox:c=!1,ticked:u=[],parentsTicked:d=[],scrollIntoView:p,allowSelection:m=()=>!0,queryOptions:g={},dependency:b})=>{const f=Vn(),y=n.includes(t),h=u.includes(t),O=d.includes(t),v=m(l),{data:E,isLoading:w}=(({request:e,id:t,options:r,dependency:n})=>(0,vn.useQuery)(["getChildrenData",e,t,...n?[n]:[]],async()=>e(t),wn({retry:!1,keepPreviousData:!1},r)))({request:r,id:t,options:$n($n({},g),{},{enabled:y}),dependency:b}),j=(0,i.useRef)(null),P=l.has_children,x=(e,t,r,n,a=e=>null)=>s().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},((e,t,r)=>e?t?s().createElement(In(),{className:f.checkbox}):r?s().createElement(An(),{className:f.checkbox}):s().createElement(Ln(),{className:f.checkbox}):null)(t,r,n),s().createElement("span",{onClick:a,tabIndex:0,role:"button"},e)),C=(0,i.useCallback)(e=>{a||e.preventDefault(),o(t,l,v)},[l,t,o,a,v]);return(0,i.useEffect)(()=>{var e;p===t&&(null===(e=j.current)||void 0===e||e.scrollIntoView())},[p,t,j]),y&&w?s().createElement(Fn.TreeItem,{classes:{root:v?f.treeItem:f.unselectableTreeItem},ref:j,label:x(e(l),c,h,O),nodeId:t,icon:s().createElement(Mn(),{style:{fontSize:"large"}})}):P?s().createElement("div",{style:{display:"flex"}},s().createElement(Fn.TreeItem,{classes:{root:v?f.treeItem:f.unselectableTreeItem},ref:j,label:x(e(l),c,h,O,C),nodeId:t,collapseIcon:s().createElement(Mn(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(Dn(),{style:{fontSize:"24px"}})},E&&y&&((k=E)?k.map(t=>s().createElement(zn,{key:`TreeItem ${t.id}`,label:e,id:t.id,fetchChildrenData:r,expanded:n,toggleOnLabelClick:a,onLabelClick:o,data:t,withCheckbox:c,ticked:u,parentsTicked:d,scrollIntoView:p,allowSelection:m,queryOptions:g,dependency:b})):null),!y&&s().createElement("div",null))):s().createElement("div",{style:{display:"flex"}},s().createElement(Fn.TreeItem,{classes:{root:v?f.treeItem:f.unselectableTreeItem},ref:j,label:x(e(l),c,h,void 0,C),nodeId:t,collapseIcon:s().createElement(Mn(),{style:{fontSize:"24px"}}),expandIcon:s().createElement(Dn(),{style:{fontSize:"24px"}})}));var k},Hn=(0,d.makeStyles)(e=>({root:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"},isFetching:{color:e.palette.gray.main,backgroundColor:e.palette.ligthGray.main,borderRadius:"7px",maxHeight:"60vh",overflowY:"scroll"}})),_n=({getChildrenData:e=()=>{},getRootData:t=()=>{},label:r,multiselect:n=!1,expanded:a,selected:o,onToggle:l,toggleOnLabelClick:c=!0,onSelect:u=()=>{},onLabelClick:d=()=>{},ticked:p=[],parentsTicked:m=[],scrollIntoView:g,allowSelection:b=()=>!0,queryOptions:f={},childrenQueryOptions:y={},dependency:h})=>{const O=Hn(),{formatMessage:v}=pt(),E=(0,i.useCallback)(e,[e]),{data:w,isFetching:j}=((e,t={},r)=>(0,vn.useQuery)(["getRootData",e,...r?[r]:[]],async()=>e(),wn({retry:!1,keepPreviousData:!1},t)))(t,f,h),P=(0,i.useCallback)(e=>e?e.map(e=>s().createElement(zn,{label:r,id:e.id,data:e,key:`RootTreeItem ${e.id}`,fetchChildrenData:E,dependency:h,expanded:a,toggleOnLabelClick:c,onLabelClick:d,withCheckbox:n,ticked:p,parentsTicked:m,scrollIntoView:g,allowSelection:b,queryOptions:y})):null,[r,E,a,c,d,n,p,m,g]);return s().createElement(Fn.TreeView,{classes:j?{root:O.isFetching}:{root:O.root},expanded:a,selected:o,multiSelect:n,onNodeSelect:(e,t)=>{u(t)},onNodeToggle:(e,t)=>{l(t)}},w&&P(w),w&&!j&&0===w.length&&s().createElement(ne.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},v(jn.noData)),j&&s().createElement(ne.Box,{display:"flex",alignItems:"center",justifyContent:"center",height:100},s().createElement(ne.CircularProgress,null)))},Yn=e=>{if(e)return Array.from(e.entries()).map(e=>Array.from(e[1].keys())).map(e=>e.map(e=>e.toString()).filter((e,t,r)=>e!==r[r.length-1])).flat()},Gn=({label:e,getChildrenData:t=()=>{},getRootData:r=()=>{},toggleOnLabelClick:n=!0,onSelect:a=()=>{},minResultCount:o=50,inputLabelObject:l=jn.search,withSearchButton:c=!1,request:u,makeDropDownText:d,toolTip:p,parseNodeIds:m,onUpdate:g=()=>{},multiselect:b=!1,preselected:f,preexpanded:y,selectedData:h=[],allowSelection:O=()=>!0,dependency:v,childrenDependency:E,queryOptions:w={},childrenQueryOptions:j={},fetchDetails:P=e=>e})=>{var x;const[C,k]=(0,i.useState)((e=>e?Array.isArray(e)?e:[e]:[])(h)),[S,M]=(0,i.useState)(f||(b?[]:"")),[q,D]=(0,i.useState)(null!==(x=Yn(y))&&void 0!==x?x:[]),[T,I]=(0,i.useState)(null!=f?f:[]),[B,L]=(0,i.useState)(null!=y?y:new Map),[N,A]=(0,i.useState)(Array.isArray(f)?void 0:f),F=(0,i.useCallback)(e=>{M(e),b&&a(e)},[a,b]),R=(0,i.useCallback)((e,t,r)=>{var n;let a,o,l;r&&(a=b?T.includes(e)?T.filter(t=>t!==e):[...T,e]:[e],I(a)),o=b?new Map(B):new Map,B.has(e)?(o.delete(e),l=null!==(n=null==C?void 0:C.filter(t=>t.id!==parseInt(e,10)))&&void 0!==n?n:[]):(o.set(e,m(t)),l=b?a.includes(t.id)?[...C,t]:C.filter(e=>e.id!==parseInt(t.id,10)):[t]),g(a,o,l),L(o),k(l)},[g,T,B,b,C,m]),$=(0,i.useCallback)(async e=>{const t=await P(e),r=m(t),n=Array.from(r.keys()).map(e=>e.toString()),a=n[n.length-1];if(n.pop(),b){D([...q,...n]);const e=[...S,a];F(e)}else{D(n);const t=new Map;t.set(a,r),F(a),k([e]),g(a,t,[e])}A(a)},[m,F,S,g,q,b,v]);return s().createElement(s().Fragment,null,s().createElement(kn,{onSelect:$,minResultCount:o,inputLabelObject:l,withSearchButton:c,request:u,makeDropDownText:d,toolTip:p,dependency:E}),s().createElement(_n,{label:e,getChildrenData:t,getRootData:r,toggleOnLabelClick:n,selected:S,onSelect:F,expanded:q,onToggle:D,onLabelClick:R,multiselect:b,ticked:T,parentsTicked:Yn(B),scrollIntoView:N,allowSelection:O,dependency:v,queryOptions:w,childrenQueryOptions:j}))},Wn=(e,t=()=>null)=>s().createElement("div",{style:{display:"inline-flex",alignItems:"center",verticalAlign:"middle"}},s().createElement("span",{onClick:t,tabIndex:0,role:"button"},e)),Un=({items:e,initialItems:t,disabled:r=!1,style:n={},label:a,onLabelClick:o=()=>{}})=>{if(0===e.size)return null;const l=new Map(e),i=l.entries().next().value;l.delete(i[0]);const c=((e,t,r,n)=>{const a=r?`${n.disabled} `:"";return 1===e.size?`${a}${n.singleTreeItem}`:0===t.size?`${a}${n.lastTreeItem}`:`${a}${n.truncatedTreeviewItem}`})(t,l,r,n);return s().createElement(Fn.TreeItem,{key:i[0].toString()+l.size.toString(),className:c,collapseIcon:s().createElement(Mn(),{style:{fontSize:"large"}}),expandIcon:s().createElement(Dn(),{style:{fontSize:"large"}}),label:Wn(a(i[1]),()=>o(i[0])),nodeId:i[0],disabled:!0},e.size>=1?s().createElement(Un,{items:l,initialItems:t,disabled:r,style:n,label:a,onLabelClick:o}):null)},Kn=Un;function Jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jn(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Qn={display:"flex",alignItems:"center"},Xn={"&.MuiTreeItem-root:focus > .MuiTreeItem-content .MuiTreeItem-label":{backgroundColor:"white"}},ea=Zn({"& .MuiTreeItem-label":Zn(Zn({},Qn),{},{paddingLeft:"0px"})},Xn),ta=(0,d.makeStyles)(e=>({truncatedTreeview:{color:e.palette.mediumGray.main},singleTreeItem:Zn(Zn({},ea),{},{color:e.palette.gray.main}),truncatedTreeviewItem:Zn(Zn({},ea),{},{color:e.palette.mediumGray.main}),lastTreeItem:Zn(Zn({"& .MuiTreeItem-label":Zn({},Qn)},Xn),{},{color:e.palette.gray.main}),removeIconContainer:{paddingLeft:"5px","& .MuiTreeItem-iconContainer":{display:"none"}},disabled:{"& .MuiTreeItem-label:hover":{backgroundColor:"white",cursor:"default"}}})),ra=({selectedItems:e,label:t,redirect:r=()=>null,disabled:n=!1})=>{var a;const o=ta(),l=(0,i.useRef)(),c=null!==(a=Array.from(e.keys()).map(e=>e.toString()))&&void 0!==a?a:[];return s().createElement(Fn.TreeView,{onMouseDown:()=>{l.current=new Date},disableSelection:!0,expanded:c,classes:{root:1===c.length?o.removeIconContainer:void 0},className:o.truncatedTreeview},s().createElement(Kn,{items:e,initialItems:e,disabled:n,style:o,label:t,onLabelClick:e=>t=>{t.preventDefault(),l.current&&(new Date).getTime()-l.current.getTime()<150&&r(e)}}))},na=require("@mui/icons-material/Add");var aa=e.n(na);const oa=(0,Te.defineMessages)({create:{id:"blsq.button.label.create",defaultMessage:"Create"}});function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const ia=(0,d.makeStyles)(e=>function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},Ye(e))),sa=({onClick:e,message:t=oa.create,id:r="",dataTestId:n="",size:a="medium",disabled:o=!1,variant:l="contained",color:i="primary"})=>{const c=ia(),{formatMessage:u}=pt();return s().createElement(ne.Button,{variant:l,className:c.button,color:i,onClick:e,id:r,"data-test":n,size:a,disabled:o},s().createElement(aa(),{className:c.buttonIcon}),u(t))},ca=require("@mui/icons-material/CallMade");var ua=e.n(ca);const da=(0,Te.defineMessages)({export:{id:"blsq.button.label.export",defaultMessage:"Export"}});function pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pa(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pa(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ga=(0,d.makeStyles)(e=>ma(ma({},Ye(e)),{},{button:{marginLeft:e.spacing(2),"& svg, & i":{marginRight:e.spacing(1)}}})),ba=({onClick:e,message:t=da.export,isDisabled:r=!1,batchExport:n,id:a=""})=>{const o=ga(),{formatMessage:l}=pt();return n?s().createElement(ne.Button,{variant:"contained",className:o.button,color:"primary",onClick:e,disabled:r,id:a},s().createElement(ua(),{className:o.buttonIcon}),l(t)):s().createElement(ua(),{onClick:e})},fa=(0,Te.defineMessages)({textAreaPlaceholder:{id:"blsq.comment.textArea.placeholder",defaultMessage:"Leave a comment here"},confirmComment:{id:"blsq.comment.confirmComment",defaultMessage:"Confirm"}});function ya(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ya(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Oa=(0,d.makeStyles)(e=>ha(ha({},Ye(e)),{},{textAreaContainer:{width:"100%",marginTop:"20px"},textArea:{width:"100%",borderRadius:"6px",borderColor:"#A2A2A2",padding:"8px",resize:"vertical"},left:{textAlign:"left"},right:{textAlign:"right"},center:{textAlign:"center"},commentConfirmButton:{marginBottom:"20px",marginLeft:"auto"},button:{color:"#fff",backgroundColor:"#3f51b5"}})),va=({placeholder:e=$e,minRows:t=3,maxRows:r=5,onChange:n=()=>{},className:a="",buttonText:o="",onConfirm:l=()=>{},position:c="",inline:u=!0})=>{const[d,p]=(0,i.useState)(""),m=Oa(),{formatMessage:g}=pt(),b=(0,i.useCallback)(()=>{l(d),p("")},[d]);return s().createElement(ne.Grid,{container:!0,direction:u?"row":"column",alignItems:"center",spacing:2,className:c?m[c]:null},s().createElement(ne.Grid,{item:!0,className:m.textAreaContainer},s().createElement(ne.TextareaAutosize,{className:null!=a?a:m.textArea,minRows:t,maxRows:r,"aria-label":"write comment here",placeholder:null!=e?e:g(fa.textAreaPlaceholder),onChange:e=>{p(e.target.value),n(e.target.value)},value:d,autoFocus:!0})),s().createElement(ne.Grid,{item:!0,className:m.commentConfirmButton},s().createElement(ne.Button,{onClick:b,variant:"contained",color:"primary"},null!=o?o:g(fa.confirmComment))))};function Ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ja=(0,d.makeStyles)(e=>{var t,r;return wa(wa({},Ye(e)),{},{commentRoot:{padding:"10px 20px",margin:"0px 5px 5px 5px"},commentAuthor:{margin:0,textAlign:"left"},commentPostingTime:{textAlign:"end",color:null!==(r=null===(t=e.mediumGray)||void 0===t?void 0:t.main)&&void 0!==r?r:"#A2A2A2"},commentGrid:{justifyContent:"left",padding:"0px 10px"},replyToComment:{textAlign:"end"},commentText:{textAlign:"justify",marginTop:"10px"},toggleCommentText:{alignSelf:"end",cursor:"default",color:"#3f51b5","&:hover":{textDecoration:"underline"}},expandThread:{textAlign:"end"},button:{backgroundColor:"#fff",color:"#3f51b5"},childComment:{paddingLeft:"20px"}})}),Pa=(0,Te.defineMessages)({collapse:{id:"blsq.comment.button.label.collapse",defaultMessage:"Hide thread"},expand:{id:"blsq.comment.button.label.expand",defaultMessage:"Show thread"},addReply:{id:"blsq.comment.button.label.addReply",defaultMessage:"Add reply"}}),xa=(0,Te.defineMessages)({textExpand:{id:"blsq.comment.button.textExpand",defaultMessage:"See more"},textCollapse:{id:"blsq.comment.button.textCollapse",defaultMessage:"See less"},postingTime:{id:"blsq.comment.postingTime",defaultMessage:"Posted:"}});function Ca(e,t,r=e=>e){return JSON.parse(JSON.stringify(e,(e,n)=>{if("string"==typeof n){const e=n.match(/\$\{([a-zA-Z0-9_-]+)\}/);if(e){const a=e[1];if(t.hasOwnProperty(a))return r(t[a]);console.warn("Cannot find match in substitudes for value:",n)}}return n}))}const ka=(e,t=!1)=>e.split(" ").map(e=>e.slice(0,1).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())).join(" "),Sa=e=>e?e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",Ma=(e,t)=>e.length>t?`${e.substring(0,t-4)}...   `:`${e}   `,qa=e=>{const t=[];return e&&e.forEach((e,r)=>{t.push({value:e,position:r})}),t},Da=e=>{const t=[];return e&&e.forEach(e=>{t.push(e.value)}),t},Ta=e=>new Promise(t=>setTimeout(t,e)),Ia=({text:e,hideOverflow:t,toggle:r,maxLength:n,textExpand:a,textCollapse:o})=>{const l=ja(),{formatMessage:i}=pt();return s().createElement("div",{className:l.commentText},s().createElement("p",null,t&&e.length>n?Ma(e,150):e," "),t&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=a?a:i(xa.textExpand)),!t&&e.length>n&&s().createElement("span",{onClick:r,className:l.toggleCommentText,role:"button",tabIndex:0},null!=o?o:i(xa.textCollapse)))},Ba=({avatar:e,author:t,content:r,postingTime:n=""})=>{const{formatMessage:a}=pt(),o=ja(),[l,c]=(0,i.useState)(r.length>150),u=(0,i.useCallback)(()=>c(!l),[l]),d=o,p=`${a(xa.postingTime)}  ${At()(n).fromNow()}`;return s().createElement(ne.Grid,{container:!0,wrap:"nowrap",spacing:4},s().createElement(ne.Grid,{item:!0},s().createElement(ne.Avatar,{alt:t,src:e})),s().createElement(ne.Grid,{className:d.commentGrid,item:!0,xs:!0,zeroMinWidth:!0},s().createElement("h4",{className:d.commentAuthor},t),s().createElement(Ia,{text:r,hideOverflow:l,toggle:u,maxLength:150}),s().createElement(ne.Typography,{variant:"body2",className:d.commentPostingTime,component:"div"},p)))},La=(0,Te.defineMessages)({reply:{id:"blsq.comment.button.reply",defaultMessage:"Reply"}}),Na=({avatar:e,author:t,content:r,postingTime:n="",actionText:a,onAddComment:o=()=>{},id:l})=>{const c=pt(),u=ja(),[d,p]=(0,i.useState)(!1),m=u,g=(0,i.useCallback)(e=>{p(!1),o(e,l)},[l,o]);return s().createElement(ne.Paper,{variant:"outlined",className:m.commentRoot},s().createElement(Ba,{avatar:e,author:t,postingTime:n,content:r}),!d&&s().createElement("div",{className:m.replyToComment},s().createElement(ne.Button,{className:m.button,size:"small",onClick:()=>{p(!0)}},null!=a?a:c.formatMessage(La.reply))),d&&s().createElement(va,{position:"right",onConfirm:g}))},Aa=({comments:e=[],actionText:t,onAddComment:r=()=>{},parentId:n})=>{const a=ja(),{formatMessage:o}=pt(),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),p=(0,i.useCallback)(()=>{u&&c(!1),d(!u)},[u]),m=()=>{c(!0),d(!0)},g=(0,i.useCallback)(e=>{c(!1),r(e,n)},[r,n]),b=(0,i.useCallback)((e,t)=>{c(!1),d(!0),r(e,t)},[r]);return 1===e.length?s().createElement(Na,{onAddComment:b,author:e[0].author,content:e[0].comment,postingTime:e[0].dateTime,id:e[0].id}):s().createElement(ne.Paper,{className:a.commentRoot,variant:"outlined",elevation:1},(u?e:[e[0]]).map((r,n)=>s().createElement("div",{key:`Fragment${r.author}${r.dateTime}${r.id}`,className:0===n?"":a.childComment},s().createElement(Ba,{avatar:r.avatar,author:r.author,postingTime:r.dateTime,content:r.comment}),0===n&&s().createElement("div",{className:a.expandThread},s().createElement(ne.Button,{onClick:p,className:a.button,size:"small"},o(u?Pa.collapse:Pa.expand))),!l&&s().createElement("div",{className:a.replyToComment},s().createElement(ne.Button,{className:a.button,size:"small",onClick:m},null!=t?t:o(Pa.addReply))),n===e.length-1&&l&&s().createElement(va,{onConfirm:g}),n<e.length-1&&u&&s().createElement(ne.Divider,{variant:"fullWidth",style:{margin:"30px 0"},key:`divider${r.author}${r.dateTime}${r.id}`}))))},Fa=require("@mui/material/ListItem");var Ra=e.n(Fa);const $a=require("@mui/material/OutlinedInput");var Va=e.n($a);const za=require("@mui/material/Fab");var Ha=e.n(za);function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class Ga extends i.Component{constructor(e){super(e),this.state={fieldList:qa(e.fieldList||[])}}UNSAFE_componentWillReceiveProps(e){this.setState({fieldList:qa(e.fieldList||[])})}updateField(e,t){const r=this.state.fieldList.slice();r[t].value=e,this.props.updateList(Da(r))}addField(){const e=this.state.fieldList.slice();e.push({value:"",position:this.state.fieldList.length}),this.props.updateList(Da(e))}removeField(e){const t=this.state.fieldList.slice();t.splice(e,1),this.props.updateList(Da(t))}render(){const{baseId:e,classes:t,label:r="",autoComplete:n="off",dataTestId:a}=this.props,{fieldList:o}=this.state,l=o.length>0&&""===o[o.length-1].value;return s().createElement(ne.Grid,{container:!0,spacing:0},s().createElement(ne.Grid,{item:!0,xs:1},s().createElement("span",{className:t.label},r,":")),s().createElement(ne.Grid,{item:!0,xs:11},s().createElement(ne.Box,{id:`array-input-field-list-${e}`,"data-test":null!=a?a:`array-input-field-list-${e}`},s().createElement(ne.List,{className:t.list},o.map((r,a)=>s().createElement(Ra(),{key:r.position,className:t.listItem},s().createElement(Va(),{autoComplete:n,className:t.input,id:`${e}-${r.position}`,value:r.value||"",onChange:e=>this.updateField(e.currentTarget.value,a)}),s().createElement(ne.IconButton,{className:t.deleteIcon,color:"inherit",onClick:()=>this.removeField(a)},s().createElement(me(),null)))),s().createElement(Ra(),{className:t.addListItem},s().createElement(Ha(),{disabled:l,className:t.Fab,size:"small",color:"primary","aria-label":"add",onClick:()=>this.addField()},s().createElement(aa(),null)))))))}}const Wa=(0,d.withStyles)(e=>Ya(Ya({},Ye(e)),{},{label:{top:e.spacing(2),position:"relative",color:e.textColor,fontSize:16},list:{width:"100%",padding:"0 !important"},listItem:{height:55,width:"100% !important",position:"relative !important",display:"flex !important",alignItems:"center !important",padding:"0 !important",marginBottom:e.spacing(1)},addListItem:{height:55,width:"100% !important",position:"relative !important",display:"flex !important",alignItems:"center !important",justifyContent:"flex-end !important",padding:"0 !important",marginBottom:e.spacing(2)},input:{width:"95% ",marginLeft:"5%"},deleteIcon:{position:"absolute !important",right:e.spacing(1)}}))(Ga),Ua=({value:e=!1,disabled:t=!1,label:r="",onChange:n=()=>{},keyValue:a,required:o=!1,dataTestId:l})=>s().createElement(ne.FormControlLabel,{disabled:t,control:s().createElement(ne.Checkbox,{id:`check-box-${a}`,"data-test":l,color:"primary",checked:!0===e,onChange:e=>n(e.target.checked),value:"checked",disabled:t}),label:`${r}${o?"*":""}`}),Ka=(0,d.makeStyles)(e=>({textStyle:{fontSize:"16px",fontWeight:400,lineHeight:1,paddingTop:.5,paddingBottom:.5,flex:"1",marginLeft:e.spacing(1.5)}})),Ja=(0,d.makeStyles)(e=>({placeholder:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"14px",cursor:"default",color:"transparent",paddingTop:.5,paddingBottom:.5},treeviews:{alignItems:"center",fontSize:"16px",flex:"1",marginLeft:"10px"},paper:{display:"flex",alignItems:"center",border:"1px solid rgba(0,0,0,0.23)"},paperWithIcon:{paddingTop:16,paddingBottom:16,paddingRight:e.spacing(2)},inputLabel:{backgroundColor:"white",color:e.palette.mediumGray.main,paddingLeft:"1px"},shrinkInputLabel:{fontSize:"20px"},enabled:{"&:hover":{border:"1px solid rgba(0,0,0,0.87)"}},pointer:{cursor:"pointer"},clearButton:{marginRight:5},error:{"&:hover":{border:`1px solid ${e.palette.error.main}`},border:`1px solid ${e.palette.error.main}`},errorLabel:{color:e.palette.error.main}})),Za=()=>null,Qa=({text:e,disabled:t=!1})=>{const r=Ja(),n=t?r.placeholder:`${r.placeholder} ${r.pointer}`;return s().createElement(ne.Box,{className:n},e)},Xa=({placeholder:e,disabled:t=!1,required:r=!1,errors:n=[],children:a,onClick:o=Za,icon:l,sx:i})=>{const c=Ja(),u=n.length>0,d=u&&!t?c.error:"",p=u&&!t?c.errorLabel:"",g=t?"":c.enabled,b=l?c.paperWithIcon:"MuiOutlinedInput-multiline";return s().createElement(nt,{errors:n},s().createElement(ne.InputLabel,{shrink:Boolean(a),required:r,className:`${m()(c.inputLabel,Boolean(a)&&c.shrinkInputLabel,"input-label")} ${p}`},e),s().createElement(ne.Paper,{sx:i,variant:"outlined",elevation:0,className:m()(c.paper,g,d,b),onClick:t?Za:o},!a&&s().createElement(Qa,{text:e,disabled:t}),a,l))},eo=require("react-dropzone"),to=require("@mui/icons-material/Attachment");var ro=e.n(to);const no=(0,Te.defineMessages)({clickOrDragFile:{id:"blsq.label.clickOrDragFile",defaultMessage:"Drag files or click to select"},clicktoOpenFileSelect:{id:"blsq.label.clicktoOpenFileSelect",defaultMessage:"Click to open file selection"},files:{id:"blsq.label.Files",defaultMessage:"Files"},filesSelected:{id:"blsq.label.FilesSelected",defaultMessage:"file(s) selected"},dropHere:{id:"blsq.label.dropHere",defaultMessage:"Drop files here"}});function ao(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ao(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const lo=s().createElement(ne.Tooltip,{title:s().createElement(Te.FormattedMessage,oo({},no.clickOrDragFile))},s().createElement(ro(),{color:"action"})),io=(0,d.makeStyles)(e=>({outlined:{border:`2px dashed ${e.palette.mediumGray.main}`,height:"100px",backgroundColor:e.palette.ligthGray.main},text:{color:e.palette.mediumGray.main}})),so=()=>{const{formatMessage:e}=pt(),t=io();return s().createElement(ne.Paper,{elevation:0,variant:"outlined",classes:{outlined:t.outlined}},s().createElement(ne.Grid,{container:!0,item:!0,justifyContent:"center",alignItems:"center",style:{height:"100%"}},s().createElement(ne.Typography,{className:t.text},e(no.dropHere))))},co=({placeholder:e,sxInput:t,sxText:r,multi:n=!0,onFilesSelect:a=()=>null,files:o=[],accept:l={},required:c=!1,errors:u=[],disabled:d=!1})=>{const[p,m]=(0,i.useState)(!1),g=(0,i.useCallback)(e=>{d||a(e)},[d,a]),{getRootProps:b,getInputProps:f}=(0,eo.useDropzone)({accept:l,onDrop:g,multiple:n,onDragLeave:()=>{m(!1)},onDragEnter:()=>{m(!0)},onDropAccepted:()=>{m(!1)}}),{formatMessage:y}=pt(),h=null!=e?e:y(no.files),O=Ka(),v=oo(oo({},f()),{},{disabled:d});return s().createElement("div",oo({},b()),s().createElement("input",oo({},v)),!p&&s().createElement(Xa,{placeholder:h,icon:lo,required:c,errors:u,disabled:d,sx:t},o.length>0&&s().createElement(ne.Box,{className:O.textStyle,sx:r},o.map(e=>s().createElement(ne.Box,{key:`${e.name}${e.type}${e.lastModified}`},e.name)))),p&&s().createElement(so,null))},uo=(0,Te.defineMessages)({displayPassword:{id:"blsq.button.label.displayPassword",defaultMessage:"Display the pasword"}}),po=(0,d.makeStyles)(e=>({displayPassword:{position:"absolute",top:6,right:e.spacing(2)},passwordInput:{paddingRight:e.spacing(8),minHeight:56}})),mo=({keyValue:e,label:t="",errors:r=[],required:n=!1,value:a="",disabled:o=!1,onChange:l=()=>{},multiline:c=!1,displayPassword:u=!1,autoComplete:d="new-password",dataTestId:p})=>{const m=r.length>=1,[g,b]=(0,i.useState)(u),{formatMessage:f}=pt(),y=po();return s().createElement(nt,{errors:r},s().createElement(Ht,{htmlFor:`input-text-${e}`,label:t,required:n,error:m,shrink:""!==a}),s().createElement(ne.OutlinedInput,{size:"small",autoComplete:d,multiline:c,disabled:o,id:`input-text-${e}`,value:a,type:g?"text":"password",onChange:e=>l(e.target.value),error:m,className:y.passwordInput,"date-test":p}),s().createElement(ne.Tooltip,{className:y.displayPassword,disableFocusListener:o,disableHoverListener:o,disableTouchListener:o,placement:"bottom",title:f(uo.displayPassword)},s().createElement("span",null,s().createElement(ne.IconButton,{color:g?"primary":"inherit",onClick:()=>{b(e=>!e)}},s().createElement(xe(),null)))))},go=({options:e=[],name:t,onChange:r=()=>{},value:n="",label:a="",errors:o=[],className:l="",required:i=!1,dataTestId:c})=>s().createElement(ne.FormControl,{component:"fieldset",error:o.length>0,variant:"outlined"},s().createElement(ne.FormLabel,{component:"legend",style:{fontSize:12}},`${a}${i?"*":""}`),s().createElement(ne.RadioGroup,{className:l,name:t,value:n,onChange:e=>{r(e.target.value)},"data-test":c},e.map(e=>s().createElement(ne.FormControlLabel,{key:e.value,value:e.value,control:s().createElement(ne.Radio,{color:"primary"}),label:e.label,disabled:e.disabled}))));function bo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bo(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const yo=(0,d.makeStyles)(e=>({tabs:fo(fo({},Ye(e).tabs),{},{paddingRight:0,"& .MuiTab-wrapper":{flexDirection:"row-reverse"}}),indicator:{backgroundColor:"white"},mainContainer:{display:"flex",position:"relative"},tabsContainer:{maxWidth:"95vw"},iconButton:{color:"white !important",height:30,position:"relative",top:21},removeIconButton:{color:"white !important",height:30,width:30,borderRadius:30,position:"relative",marginBottom:" 0 !important",display:"flex",top:-1,justifyContent:"center",alignItems:"center",marginLeft:e.spacing(1),"& svg":{width:14,height:14},"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.4)"}},roundColor:{display:"inline-block",width:15,height:15,borderRadius:15,position:"relative",top:-1,marginRight:e.spacing(1)},tabContent:{height:30,display:"flex",alignItems:"center",marginBottom:" 0 !important"},tab:{display:"flex !important",flexDirection:"row-reverse !important"}}));function ho(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ho(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const vo=({params:e,paramKey:t,addMessage:r,deleteMessage:n,tabParamKey:a,defaultItem:o,counts:l=[],baseLabel:c="tab",maxItems:u=5,displayCounts:d=!1,onTabsDeleted:p=()=>null,onTabsAdded:m=()=>null,onTabChange:g=()=>null})=>{const{formatMessage:b}=pt(),f=yo(),[y,h]=(0,i.useState)(parseInt(e[a],10)||0),O=JSON.parse(e[t]),v=(0,i.useCallback)(()=>{const r=JSON.parse(e[t]),n=r.length;r.push(o);const l=Oo({},e);l[a]=n.toString(),l[t]=JSON.stringify(r),h(n),m(l)},[o,m,t,e,a]),E=(0,i.useCallback)(r=>{const n=JSON.parse(e[t]);n.splice(r,1);const o=Oo({},e);o[t]=JSON.stringify(n),y>n.length-1&&(o[a]=(n.length-1).toString(),h(y-1)),p(o)},[p,t,e,a]),w=(0,i.useCallback)(r=>{const n=JSON.parse(e[t]),o=Oo({},e);o[a]=r.toString(),o[t]=JSON.stringify(n),g(o),h(r)},[g,t,e,a]);return s().createElement("section",{className:f.mainContainer},s().createElement("div",{className:f.tabsContainer},s().createElement(ne.Tabs,{variant:"scrollable",textColor:"inherit",indicatorColor:"secondary",value:y,classes:{root:f.tabs,indicator:f.indicator},onChange:(e,t)=>{w(t)}},O.map((e,t)=>{let r={};return e.color&&(r={backgroundColor:`#${e.color}`,border:`2px solid ${gr()(`#${e.color}`).darken(.5)}`}),s().createElement(ne.Tab,{className:f.tab,key:t,value:t,label:s().createElement("span",{className:f.tabContent},s().createElement("span",{style:r,className:f.roundColor}),c,d&&l[t]&&` (${Sa(l[t].count)})`),icon:s().createElement(s().Fragment,null,O.length>1&&s().createElement(ne.Tooltip,{title:s().createElement(s().Fragment,null,b(n),` ${c.toLowerCase()}`)},s().createElement("span",{role:"button",tabIndex:0,onClick:e=>{e.stopPropagation(),E(t)},className:f.removeIconButton},s().createElement(ce(),null))))})}))),O.length<u&&s().createElement(ne.Tooltip,{title:s().createElement(s().Fragment,null,b(r),` ${c.toLowerCase()}`)},s().createElement(ne.IconButton,{onClick:()=>v(),className:f.iconButton,size:"small"},s().createElement(aa(),null))))},Eo=require("@mui/icons-material/ArrowBack");var wo=e.n(Eo);const jo=require("@mui/icons-material/Close");var Po=e.n(jo);const xo=require("react-intersection-observer"),Co=(0,Te.defineMessages)({search:{id:"blsq.table.label.search",defaultMessage:"Search"},close:{id:"blsq.table.label.close",defaultMessage:"Close"},resetSearch:{id:"blsq.table.label.resetSearch",defaultMessage:"Empty search"},columnSelect:{id:"blsq.table.columnSelect.tooltip",defaultMessage:"Select visible columns"}});function ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function So(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ko(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Mo=(0,d.makeStyles)(e=>({root:{width:400,overflow:"hidden"},toolbar:So(So({},e.mixins.toolbar),{},{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),height:e.spacing(8)}),search:{marginLeft:e.spacing(1),display:"flex",alignItems:"center",justifyContent:"flex-start",width:"100%"},list:{height:`calc(100vh - ${e.spacing(8)}px)`,overflowY:"auto",overflowX:"hidden"},listItem:{height:e.spacing(6)},switch:{marginRight:e.spacing(1)},placeholder:{height:15,backgroundColor:e.palette.ligthGray.main,borderRadius:5,marginRight:e.spacing(1),width:"50%"},input:{width:"100%",padding:0}}));function qo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Do(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const To=({options:e,setOptions:t,minColumns:r=2})=>{const n=Mo(),{formatMessage:a}=pt(),[o,l]=s().useState({open:!1,searchString:""}),i=e=>()=>{l(Do(Do({},o),{},{open:e}))},c=(e=!1)=>t=>{l(Do(Do({},o),{},{searchString:e?"":t.target.value}))},u=e.filter(e=>e.active).length,d=((e,t)=>{let r=[...t];if(r=r.map((e,t)=>Do(Do({},e),{},{index:t})),""!==e){const t=e.toLowerCase();r=r.filter(e=>e.key&&e.key.toLowerCase().includes(t)||e.label&&e.label.toLowerCase().includes(t))}return r})(o.searchString,e);return s().createElement(s().Fragment,null,s().createElement(Ze,{onClick:i(!0),icon:"filter-list",color:"white",tooltipMessage:Co.columnSelect}),s().createElement(ne.Drawer,{anchor:"right",open:o.open,onClose:i(!1)},s().createElement("div",{className:n.root},s().createElement("div",{className:n.toolbar},s().createElement(ne.Tooltip,{title:a(Co.close)},s().createElement(ne.IconButton,{onClick:i(!1)},s().createElement(wo(),null))),s().createElement("div",{className:n.search},s().createElement(ne.InputBase,{value:o.searchString,onChange:c(),className:n.input,placeholder:a(Co.search),inputProps:{"aria-label":a(Co.search),className:n.input}})),""!==o.searchString&&s().createElement(ne.Tooltip,{title:a(Co.resetSearch)},s().createElement(ne.IconButton,{onClick:c(!0)},s().createElement(Po(),null)))),s().createElement(ne.Divider,null),s().createElement("div",{className:n.list},s().createElement(ne.List,null,d.map(a=>s().createElement(xo.InView,{key:a.key},({inView:o,ref:l})=>{return s().createElement("div",{ref:l,id:a.key},s().createElement(ne.ListItem,{className:n.listItem},o&&s().createElement(s().Fragment,null,s().createElement(ne.Switch,{disabled:u===r&&a.active,size:"small",checked:a.active,onChange:(i=a.index,r=>{const n=[...e];n[i]=Do(Do({},n[i]),{},{active:r.target.checked}),t(n)}),color:"primary",inputProps:{"aria-label":a.label},className:n.switch}),s().createElement(ne.ListItemText,{primary:a.label||a.key})),!o&&s().createElement(s().Fragment,null,s().createElement(X,{width:"30px"}),s().createElement(X,null))));var i})))))))},Io=(0,d.makeStyles)(()=>({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),Bo=({IconComponent:e,title:t})=>{const r=Io();return s().createElement("div",{className:r.root},s().createElement(ne.Tooltip,{title:t},s().createElement(e,null)))};function Lo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ao=(0,d.makeStyles)(e=>No(No({},Ye(e)),{},{icon:{cursor:"pointer",position:"relative",top:-1}})),Fo=({message:e,children:t})=>{const r=Ao();return s().createElement(ne.Box,{className:r.root,display:"flex",justifyContent:"center",alignItems:"center"},s().createElement(ne.Box,{display:"inline",mr:1},t),s().createElement(ne.Tooltip,{classes:{popper:r.popperFixed},placement:"bottom",title:e},s().createElement(Ut(),{fontSize:"small",color:"primary",className:r.icon})))},Ro=(0,d.makeStyles)(e=>({speedDial:{position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:e.spacing(2),right:e.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:e.spacing(2),left:e.spacing(2)}}})),$o=({hidden:e=!1,actions:t=[],selection:r,reset:n=()=>null,actionMessage:a})=>{const o=Ro(),[l,i]=s().useState(!1),c=t.filter(e=>!e.disabled);return s().createElement(ne.ClickAwayListener,{onClickAway:()=>{i(!1)}},s().createElement(ne.SpeedDial,{ariaLabel:a,className:o.speedDial,hidden:e,icon:s().createElement(In(),null),onOpen:()=>{i(!0)},open:l,direction:"up"},c.map(e=>s().createElement(ne.SpeedDialAction,{key:e.label,icon:"function"==typeof e.icon?e.icon(r,n):e.icon,tooltipTitle:e.label,onClick:()=>e.onClick?e.onClick(r):()=>null}))))},Vo=require("@mui/material/Paper");var zo=e.n(Vo);const Ho=require("@mui/material/Table");var _o=e.n(Ho);const Yo=require("@mui/material/TableContainer");var Go=e.n(Yo);const Wo=require("lodash/isEqual");var Uo=e.n(Wo);const Ko=require("react-table"),Jo="-created_at",Zo=[5,10,20,30,40,50],Qo=require("@mui/icons-material/Remove");var Xo=e.n(Qo);function el(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?el(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):el(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const rl=(e,t,r=!1,n="csv",a=!1,o=!1)=>{let l=`/api/${e}/?`;const i=tl({},t);r&&(i[n]=!0),a&&(i.asLocation=!0,i.limit=i.locationLimit,delete i.page),o&&(i.limit=i.locationLimit,delete i.page),delete i.locationLimit;const s=[];return Object.keys(i).forEach(e=>{const t=i[e];t&&!s.includes(e)&&(s.push(e),l+=`&${e}=${t}`)}),l},nl=e=>{let t;return e.forEach((e,r)=>{var n;t=`${t||""}${r>0?",":""}${n=e,n.desc?`-${n.id}`:n.id}`}),t},al=e=>e.split(",").map(e=>({id:e.replace("-",""),desc:-1!==e.indexOf("-")})),ol=e=>e.map(e=>e.columns?{id:e.accessor,columns:ol(e.columns)}:{id:e.accessor}),ll=(e,t,r)=>[{icon:s().createElement(aa(),null),label:r({id:"iaso.label.selectAll",defaultMessage:"Select all"}),onClick:()=>e()},{icon:s().createElement(Xo(),null),label:r({id:"iaso.label.unSelectAll",defaultMessage:"Unselect all"}),onClick:()=>t()}],il={selectedItems:[],unSelectedItems:[],selectAll:!1,selectCount:0},sl=(e,t,r=[],n=0)=>{switch(t){case"select":return tl(tl({},e),{},{selectedItems:r,selectCount:r.length});case"unselect":return tl(tl({},e),{},{unSelectedItems:r,selectCount:n-r.length});case"selectAll":return tl(tl({},e),{},{selectAll:!0,selectedItems:[],unSelectedItems:[],selectCount:n});case"reset":return il;default:return tl({},e)}},cl=(e,t)=>""===e?t:`${e}${ka(t,!0)}`,ul=(e,t,r,n,a=[{id:"name",desc:!1}],o=10)=>{const l=tl(tl({},n),{},{limit:parseInt(e[cl(t,"pageSize")],10)||o,page:parseInt(e[cl(t,"page")],10)||0,order:nl(e[cl(t,"order")]?al(e[cl(t,"order")]):a)});return r.forEach(t=>{var r;l[t.apiUrlKey]=null!==(r=e[t.urlKey])&&void 0!==r?r:t.defaultValue}),l},dl={data:[],pages:0,count:0},pl=e=>{const t=[...e];return e.forEach((e,r)=>{e.headerInfo&&(t[r]=tl(tl({},t[r]),{},{Header:s().createElement(Fo,{message:e.headerInfo},t[r].Header)}))}),t},ml=require("@mui/icons-material//Close");var gl=e.n(ml);const bl=require("@mui/icons-material//ArrowBack");var fl=e.n(bl);const yl=require("@mui/icons-material//ViewColumn");var hl=e.n(yl);function Ol(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const vl=({inView:e,minReached:t,column:r})=>{const n=Mo(),a=r.getToggleHiddenProps();return s().createElement(ne.ListItem,{className:n.listItem},e&&s().createElement(s().Fragment,null,s().createElement(ne.Switch,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({disabled:t&&a.checked,size:"small",color:"primary",inputProps:{"aria-label":"string"==typeof r.Header?r.Header:r.id},className:n.switch},a)),s().createElement(ne.ListItemText,{primary:r.Header})),!e&&s().createElement(s().Fragment,null,s().createElement(X,{width:"30px"}),s().createElement(X,null)))},El=({columns:e,minReached:t})=>s().createElement(ne.List,null,e.map(e=>s().createElement(xo.InView,{key:e.id},({inView:r,ref:n})=>s().createElement("div",{ref:n,id:e.id},e.columns&&s().createElement(s().Fragment,null,s().createElement(ne.ListItem,null,e.Header),s().createElement("div",{style:{padding:6}},s().createElement(El,{columns:e.columns,minReached:t}))),!e.columns&&s().createElement(vl,{inView:r,column:e,minReached:t}))))),wl=({columns:e,hiddenColumns:t,minColumns:r=2,disabled:n=!1,buttonType:a="icon"})=>{var o;const l=Mo(),{formatMessage:c}=pt(),[u,d]=((e=!1)=>{const[t,r]=(0,i.useState)(e);return[t,(0,i.useCallback)(()=>r(e=>!e),[])]})(!1),[p,m]=(0,i.useState)(""),g=(e=!1)=>t=>{m(e?"":t.target.value)},b=e.length-t.length===r,f=((e,t)=>{if(!e)return t;const r=e.toLowerCase();return t.filter(e=>{var t;return e.id&&e.id.toLowerCase().includes(r)||e.label&&e.label.toLowerCase().includes(r)||e.Header&&"string"==typeof e.Header&&(null===(t=e.Header)||void 0===t?void 0:t.toLowerCase().includes(r))})})(p,e);return s().createElement(s().Fragment,null,"icon"===a&&s().createElement(Ze,{onClick:d,overrideIcon:hl(),color:"primary",tooltipMessage:Co.columnSelect,disabled:n}),"button"===a&&s().createElement(ne.Button,{disabled:n,variant:"contained",color:"primary",onClick:d,size:"medium",id:"ColumnsSelectDrawer-toggleDrawer"},s().createElement(ne.Box,{mr:1,display:"inline-flex"},s().createElement(hl(),null)),c(Co.columnSelect)),s().createElement(ne.Drawer,{anchor:"right",open:u,onClose:d},s().createElement(ne.Box,{className:l.root,sx:{overflowY:"auto"}},s().createElement("div",{className:l.toolbar},s().createElement(ne.Tooltip,{title:c(Co.close)},s().createElement(ne.IconButton,{onClick:d},s().createElement(fl(),null))),s().createElement("div",{className:l.search},s().createElement(ne.InputBase,{value:p,onChange:g(),className:l.input,placeholder:c(Co.search),inputProps:{"aria-label":null!==(o=c(Co.search))&&void 0!==o?o:void 0,className:l.input}})),""!==p&&s().createElement(ne.Tooltip,{title:c(Co.resetSearch)},s().createElement(ne.IconButton,{onClick:g(!0)},s().createElement(gl(),null)))),s().createElement(ne.Divider,null),s().createElement("div",{className:l.list},s().createElement(El,{columns:f,minReached:b})))))},jl=require("@mui/material/TableBody");var Pl=e.n(jl);const xl=require("@mui/material/TableCell");var Cl=e.n(xl);const kl=require("@mui/material/TableRow");var Sl=e.n(kl);function Ml(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ql(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ml(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ml(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Dl=e=>{const t=ql({},e),r=e.component,n=dt((0,Te.useIntl)());return delete t.component,delete t.ref,s().createElement(r,ql(ql({},t),{},{intl:n,forwardedRef:e.ref}))},Tl=e=>s().forwardRef((t,r)=>{const n=ql(ql({},t),{},{component:e,ref:r});return s().createElement(Dl,ql({},n))});class Il extends s().Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return console.error(e),{hasError:!0,error:e}}render(){const{value:e,children:t,classes:r,intl:{formatMessage:n}}=this.props;return this.state.hasError?s().createElement(ne.Box,{className:r.errorContainer,title:`${this.state.error}`},n(bn.renderError),":",s().createElement("pre",null,`${JSON.stringify(e)}`)):t}}const Bl=(0,d.withStyles)(e=>({errorContainer:{backgroundColor:e.palette.error.background,margin:0,padding:0}}))(Tl(Il));function Ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Nl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ll(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ll(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Al=()=>{},Fl=(0,d.makeStyles)(e=>({row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.gray.background},"&:nth-of-type(even)":{backgroundColor:"transparent"}},rowClickable:{cursor:"pointer","&:hover":{"&:nth-of-type(odd)":{backgroundColor:e.palette.grey[300]},"&:nth-of-type(even)":{backgroundColor:e.palette.grey[300]}}},cell:{padding:e.spacing(1,2)}})),Rl=({row:e,rowProps:t,subComponent:r,sortBy:n=[],onRowClick:a,expanded:o=!1,cellProps:l=Al})=>{var c;const u=Fl(),[d,p]=(0,i.useState)(o);return(0,i.useEffect)(()=>{d!==o&&p(o)},[n,o]),s().createElement(s().Fragment,null,s().createElement(Sl(),Nl(Nl({},t),{},{onClick:t=>a?a(e.original,t):null,className:m()(u.row,Boolean(a)&&u.rowClickable,null!==(c=t.className)&&void 0!==c?c:""),key:t.key}),e.cells.map(e=>{var t;const r=e.getCellProps(l(e)),n=e.column.align||"center";return s().createElement(Cl(),Nl(Nl({},r),{},{key:r.key,className:m()(u.cell,null!==(t=r.className)&&void 0!==t?t:""),align:"actions"===e.column.id?"center":n}),s().createElement(Bl,{value:e.value},!e.column.expander&&e.render("Cell"),e.column.expander&&e.render("Expander",{isExpanded:d,setIsExpanded:p})))})),d&&r&&s().createElement(Sl(),Nl(Nl({},t),{},{key:`${t.key}-expand`,className:u.row}),s().createElement(Cl(),{colSpan:e.cells.length},r(e.original))))};function $l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const Vl=()=>{},zl=e=>e.toString(),Hl=({page:e=[],getTableBodyProps:t,prepareRow:r,subComponent:n,sortBy:a=[],onRowClick:o,rowProps:i=Vl,expanded:c={},getObjectId:u=zl,cellProps:d=()=>{}})=>s().createElement(Pl(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t),e.map(e=>{r(e);const t=e.getRowProps(i(e));return s().createElement(Rl,{row:e,rowProps:t,key:t.key,subComponent:n,sortBy:a,onRowClick:o,cellProps:d,expanded:c[u(e.original)]})}));function _l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_l(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Gl=({count:e=0,selectCount:t=0})=>s().createElement(nr(),{py:2,display:"flex",justifyContent:"flex-end",className:"pagination-count"},t>0&&s().createElement(s().Fragment,null,s().createElement(nr(),{display:"inline-block",mr:1},`${Sa(t)} `,s().createElement(Te.FormattedMessage,Yl({},bn.selected))),"-"),e>0&&s().createElement(nr(),{display:"inline-block",ml:1},`${Sa(e)} `,s().createElement(Te.FormattedMessage,Yl({},bn.results)))),Wl=require("@mui/material/TableFooter");var Ul=e.n(Wl);function Kl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Jl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kl(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Zl=(0,d.makeStyles)(e=>({cell:{padding:e.spacing(1,2)}})),Ql=({footerGroups:e=[]})=>{const t=Zl();return s().createElement(Ul(),null,e.map(e=>{const r=e.getFooterGroupProps();return s().createElement(Sl(),Jl(Jl({},r),{},{key:r.key}),e.headers.map(e=>{const r=e.getFooterProps(),n=e.align||"center";return e.Footer&&!e.placeholderOf?s().createElement(Cl(),Jl(Jl({},r),{},{className:t.cell,key:r.key,align:n}),e.render("Footer")):null}))}))},Xl=require("@mui/material/TableHead");var ei=e.n(Xl);const ti=require("@mui/material/TableSortLabel");var ri=e.n(ti);function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const oi=(0,d.makeStyles)(e=>({resizer:{display:"inline-block",width:"15px",height:"100%",position:"absolute",right:0,top:0,transform:"translateX(50%)",zIndex:1,touchAction:"none",cursor:"col-resize"},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative !important",overflow:"hidden",textAlign:"center !important",backgroundColor:"white !important"},lastHeaderCell:{borderRight:"none"},sortLabel:{display:"inline-block !important",width:"80% !important"},icon:{color:`${e.palette.primary.main}!important`,position:"absolute",left:"100%",top:3},cell:{cursor:"default"}})),li=({column:e,columnsProps:t,setSortBy:r,multiSortEnabled:n,sortBy:a,isLastCell:o})=>{var l;const c=oi(),{formatMessage:u}=pt(),d=(e.Header.length>0||(0,i.isValidElement)(e.Header)||e.parent)&&!1!==e.sortable&&!e.isResizing;let p,g=bn.sortAsc;e.isSorted&&(e.isSortedDesc?p="desc":(p="asc",g=bn.sortDesc));const b={width:null!==(l=e.width)&&void 0!==l?l:"auto"},f=ai({},e.getSortByToggleProps());return f.onClick=()=>{let t=[];const o={desc:"asc"===p,id:e.id};n?t=[...a.filter(t=>t.id!==e.id),o]:t.push(o),r(t)},s().createElement(Cl(),ai(ai({},t),{},{style:b,className:m()(c.headerCell,o&&c.lastHeaderCell),key:t.key}),d&&s().createElement("div",ai({},f),s().createElement(ri(),{active:e.isSorted,direction:p,title:u(g),classes:{root:c.sortLabel,icon:c.icon}},e.render("Header"))),!d&&s().createElement("div",{className:c.cell},e.render("Header")),!1!==e.resizable&&s().createElement("div",ai(ai({},e.getResizerProps()),{},{className:c.resizer})))};function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ci=({headerGroups:e=[],setSortBy:t=()=>null,multiSortEnabled:r,sortBy:n=[]})=>s().createElement(ei(),null,e.map(e=>{const a=e.getHeaderGroupProps();return s().createElement(Sl(),si(si({},a),{},{key:a.key}),e.headers.map((a,o)=>{const l=a.getHeaderProps();return s().createElement(li,{column:a,key:a.id,columnsProps:l,setSortBy:t,multiSortEnabled:r,sortBy:n,isLastCell:o+1===e.headers.length})}))})),ui=(0,d.makeStyles)(e=>({box:{width:"100%",height:e.spacing(10),backgroundColor:e.palette.gray.background}})),di=({noDataMessage:e,displayMessage:t=!0})=>{const r=ui(),{formatMessage:n}=pt();return s().createElement(nr(),{className:r.box,alignItems:"center",justifyContent:"center",display:"flex"},s().createElement(ne.Typography,{fontWeight:"bold"},t&&n(e)))},pi=require("@mui/material/TablePagination");var mi=e.n(pi);const gi=require("@mui/material/IconButton");var bi=e.n(gi);const fi=require("@mui/icons-material/FirstPage");var yi=e.n(fi);const hi=require("@mui/icons-material/KeyboardArrowLeft");var Oi=e.n(hi);const vi=require("@mui/icons-material/KeyboardArrowRight");var Ei=e.n(vi);const wi=require("@mui/icons-material/LastPage");var ji=e.n(wi);function Pi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ci=(0,d.makeStyles)(()=>({input:{width:80},mediumInput:{width:90},largeInput:{width:100},XLInput:{width:110}})),ki=({pageIndex:e=0,pages:t=0,onPageChange:r})=>{const n=Ci(),[a,o]=(0,i.useState)(e);return s().createElement(nr(),{display:"inline-flex",justifyContent:"center",alignItems:"center",ml:8},s().createElement(nr(),{display:"inline-block",mr:1},s().createElement(Te.FormattedMessage,xi({},bn.pageText))),s().createElement(ir(),{className:m()(n[(l=a,l<=999?"input":l<=9999?"mediumInput":l<=99999?"largeInput":"XLInput")],"pagination-page-select"),size:"small",label:"",type:"number",value:a,disabled:t<2,variant:"outlined",onChange:e=>{o((e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t})(e.currentTarget.value))},onKeyPress:e=>{"Enter"===e.key&&r(a)}}),s().createElement(nr(),{display:"inline-block",ml:1},s().createElement(Te.FormattedMessage,xi({},bn.ofText))),s().createElement(nr(),{display:"inline-block",ml:1},t));var l},Si=(0,d.makeStyles)(e=>({root:{width:"100%",position:"relative"},withCount:{marginRight:"130px"},count:{position:"absolute",right:e.spacing(2)}})),Mi=({count:e,pageIndex:t,rowsPerPage:r,onPageChange:n,pages:a,rowsPerPageOptions:o,selectRowsPerPage:l,countOnTop:i,selectCount:c})=>{const u=Si(),{formatMessage:d}=pt(),p=0===t,g=t>=Math.ceil(e/r)-1;return s().createElement(nr(),{py:2,display:"flex",justifyContent:"center",alignItems:"center",className:u.root},s().createElement(bi(),{className:"pagination-first",variant:"outlined",onClick:()=>{n(1)},disabled:p,"aria-label":d(bn.firstText)},s().createElement(yi(),{color:p?"inherit":"primary"})),s().createElement(bi(),{className:"pagination-previous",variant:"outlined",onClick:()=>{n(t)},disabled:p,"aria-label":d(bn.previousText)},s().createElement(Oi(),{color:p?"inherit":"primary"})),s().createElement(ki,{pages:a,pageIndex:t+1,onPageChange:e=>{n(e)}}),s().createElement(yn,{rowsPerPage:r,rowsPerPageOptions:o,selectRowsPerPage:l}),s().createElement(bi(),{className:"pagination-next",variant:"outlined",onClick:()=>{n(t+2)},disabled:g,"aria-label":d(bn.nextText)},s().createElement(Ei(),{color:g?"inherit":"primary"})),s().createElement(bi(),{variant:"outlined",onClick:()=>{n(Math.max(0,Math.ceil(e/r)))},disabled:g,"aria-label":d(bn.lastText),className:m()(!i&&u.withCount,"pagination-last")},s().createElement(ji(),{color:g?"inherit":"primary"})),!i&&s().createElement("div",{className:u.count},s().createElement(Gl,{count:e,selectCount:c})))},qi=(0,d.makeStyles)(()=>({spacer:{display:"none"},caption:{display:"none"},input:{display:"none"}})),Di=({count:e=0,rowsPerPage:t=0,pageIndex:r=0,onTableParamsChange:n,pages:a=0,countOnTop:o,selectCount:l=0})=>{const i=qi(),c=r+1>a?a-1:r;return s().createElement(mi(),{classes:{spacer:i.spacer,caption:i.caption,input:i.input},rowsPerPageOptions:Zo,component:"div",count:e,rowsPerPage:t,page:c,onPageChange:(e,t)=>{n("page",t+1)},onRowsPerPageChange:e=>{n("pageSize",e.target.value)},ActionsComponent:()=>s().createElement(Mi,{rowsPerPageOptions:Zo,count:e,rowsPerPage:t,onPageChange:e=>{n("page",e)},selectRowsPerPage:e=>n("pageSize",e),pageIndex:c,pages:a,countOnTop:o,selectCount:l}),labelDisplayedRows:()=>null})},Ti=require("@mui/material/Checkbox");var Ii=e.n(Ti);const Bi=({multiSelect:e=!1,selectionActions:t=[],setTableSelection:r=()=>null,selection:n=il,selectionActionMessage:a=null,selectAllCount:o=0})=>{const{formatMessage:l}=pt();let i=[...ll(()=>r("selectAll",[],o),()=>r("reset"),l)];return i=i.concat(t),s().createElement($o,{selection:n,hidden:!e,actions:i,reset:()=>r("reset"),actionMessage:null!=a?a:l(bn.selectionAction)})};function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Li(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ai=(0,d.makeStyles)(()=>({tableContainer:{overflowY:"hidden"},paper:{position:"relative"}})),Fi=e=>{const{params:t={pageSize:10,page:1,order:"-created_at"},count:r=0,expanded:n={},getObjectId:a=e=>e.toString(),extraProps:o={loading:!1},paramsPrefix:l="",redirectTo:c,baseUrl:u="",pages:d=0,countOnTop:p=!0,marginTop:m=!0,marginBottom:g=!0,multiSelect:b=!1,selectionActions:f=[],setTableSelection:y=()=>null,selection:O=il,selectionActionMessage:v,showPagination:E=!0,showFooter:w=!1,onTableParamsChange:j=()=>null,noDataMessage:P=bn.noDataText,defaultSorted:x=al(Jo),resetPageToOne:C="",elevation:k=3,onRowClick:S,rowProps:M=()=>({}),cellProps:q=()=>({}),columnSelectorEnabled:D=!1,columnSelectorButtonDisabled:T=!1,columnSelectorButtonType:I="icon",getIsSelectionDisabled:B=()=>!1,selectAllCount:L=r}=e,{formatMessage:N}=pt(),A=Ai(),F=or("Shift"),R=(0,i.useMemo)(()=>{const t=[...e.columns];return b&&!e.columns.find(e=>"selected"===e.accessor)&&t.push(((e,t,r,n,a=e=>!1)=>({Header:n(bn.selection),accessor:"selected",id:"selectionColumn",width:100,sortable:!1,Cell:n=>{const o=(0,i.useCallback)(a=>{(({isSelected:e,item:t,selection:r,setTableSelection:n,count:a})=>{const o=[...r.selectedItems],l=[...r.unSelectedItems],{selectAll:i}=r;if(i){if(e){const e=l.findIndex(e=>Uo()(e,t));-1!==e&&l.splice(e,1)}else l.push(t);n("unselect",l,a)}else{if(e)o.push(t);else{const e=o.findIndex(e=>Uo()(e,t));o.splice(e,1)}n("select",o)}})({isSelected:a.target.checked,item:n.cell.row.original,selection:e,setTableSelection:t,count:r})},[e,t,r,n.cell.row.original]),l=a(n.cell.row.original),c=!l&&((e,t,r="id")=>{const{selectedItems:n,unSelectedItems:a,selectAll:o}=t;return o?!a.find(t=>t[r]===e[r]):Boolean(n.find(t=>t[r]===e[r]))})(n.cell.row.original,e);return s().createElement(Ii(),{color:"primary",disabled:l,checked:c,onChange:o})}}))(O,y,r,N,B)),pl(t)},[e.columns,b,O]),$=(0,i.useMemo)(()=>e.data,[e.data]),V=t[cl(l,"order")],z=t[cl(l,"page")],H=t[cl(l,"pageSize")],{loading:_}=o,Y=(0,i.useMemo)(()=>{const e=parseInt(H,10),t=V&&al(V);return{pageIndex:z?parseInt(z,10)-1:0,pageSize:e||(null==o?void 0:o.defaultPageSize)||10,sortBy:t||x}},[]),{getTableProps:G,getTableBodyProps:W,headerGroups:U,footerGroups:K,prepareRow:J,gotoPage:Z,setPageSize:Q,setSortBy:X,page:ee,columns:te,state:{pageSize:re,pageIndex:ae,sortBy:oe,hiddenColumns:le}}=(0,Ko.useTable)({columns:R,data:$,initialState:Y,disableMultiSort:!0,manualPagination:!0,manualSortBy:!0,pageCount:d,autoResetPage:!1},Ko.useSortBy,Ko.useResizeColumns,Ko.usePagination),ie=(e,r)=>{const n=Ni({},t);"order"===e&&r.length>0?(X(r),n[cl(l,"order")]=nl(r)):"order"!==e&&(n[cl(l,e)]=r),"pageSize"===e&&(n[cl(l,"page")]=1,Q(r)),"page"===e&&Z(r-1),c&&c(u,n),j(n)},se=Ni(Ni({},G()),{},{size:"small"});ln(()=>{Z(0)},[C]),ln(()=>{V&&nl(oe)!==V&&X(al(V))},[V]),ln(()=>{H!==re&&Q(H)},[H]),ln(()=>{const e=parseInt(z,10)-1;Number.isNaN(e)||ae===e||Z(e)},[z]);const ce=parseInt(re,10);return s().createElement(nr(),{mt:m?4:0,mb:g?4:0},s().createElement(Bi,{selectAllCount:L,multiSelect:b,selectionActions:f,selection:O,setTableSelection:y,selectionActionMessage:v}),D&&"button"===I&&s().createElement(ne.Grid,{container:!0,justifyContent:"flex-end"},s().createElement(nr(),{mb:2,mt:2},s().createElement(wl,{columns:te,hiddenColumns:le,disabled:T,buttonType:I}))),s().createElement(ne.Grid,{container:!0,justifyContent:"flex-end"},p&&s().createElement(Gl,{count:r,selectCount:O.selectCount}),D&&"icon"===I&&s().createElement(wl,{columns:te,hiddenColumns:le,disabled:T,buttonType:I})),s().createElement(zo(),{elevation:k,className:A.paper},_&&s().createElement(h,{absolute:!0}),s().createElement(Go(),{className:A.tableContainer},s().createElement(_o(),Ni(Ni({},se),{},{stickyHeader:!0}),s().createElement(ci,{headerGroups:U,setSortBy:e=>ie("order",e),multiSortEnabled:F,sortBy:oe}),s().createElement(Hl,{page:ee,expanded:n,getObjectId:a,getTableBodyProps:W,prepareRow:J,subComponent:o.SubComponent,sortBy:oe,onRowClick:S,rowProps:M,cellProps:q}),w&&s().createElement(Ql,{footerGroups:K}))),0===(null==ee?void 0:ee.length)&&s().createElement(di,{noDataMessage:P,displayMessage:!_}),(null==ee?void 0:ee.length)>0&&E&&s().createElement(Di,{count:r,rowsPerPage:ce,pageIndex:ae,onTableParamsChange:ie,pages:d,countOnTop:p,selectCount:O.selectCount})))},Ri=s().memo(Fi,(e,t)=>{var r,n,a,o,l,i;const s=ol(e.columns),c=ol(t.columns);return!!(Uo()(e.data,t.data)&&Uo()(s,c)&&Uo()(null===(r=e.selection)||void 0===r?void 0:r.selectedItems,null===(n=t.selection)||void 0===n?void 0:n.selectedItems)&&Uo()(null===(a=e.selection)||void 0===a?void 0:a.selectAll,null===(o=t.selection)||void 0===o?void 0:o.selectAll)&&Uo()(null===(l=e.selection)||void 0===l?void 0:l.unSelectedItems,null===(i=t.selection)||void 0===i?void 0:i.unSelectedItems)&&Uo()(e.extraProps,t.extraProps))}),$i=require("@mui/icons-material/Visibility");var Vi=e.n($i);const zi=require("@mui/icons-material/VisibilityOff");var Hi=e.n(zi);const _i=({isExpanded:e=!1,setIsExpanded:t=()=>null})=>{const{formatMessage:r}=pt();return e?s().createElement(ne.IconButton,{onClick:()=>t(!e)},s().createElement(Hi(),null)):s().createElement(ne.Tooltip,{title:r(bn.details)},s().createElement(ne.IconButton,{onClick:()=>t(!e)},s().createElement(Vi(),null)))},Yi="successful",Gi="error",Wi="warning",Ui="reload",Ki="reloadPage",Ji=(e,t)=>({messageKey:null!=e?e:Yi,messageObject:t,options:{variant:"success",persist:!1}}),Zi=(e,t,r)=>({messageKey:null!=e?e:Gi,messageObject:t,options:{variant:"error",persist:Boolean(r)},errorLog:r,id:`${e}-${Date.now()}`}),Qi=(e,t,r)=>({messageKey:null!=e?e:Wi,messageObject:t,options:{maxsnack:1,variant:"warning",persist:!0},id:r||e}),Xi=(e=Ui,t=Ki)=>({messageKey:t,type:"reload",options:{maxsnack:0,variant:"warning",persist:!0},buttonMessageKey:e,buttonAction:()=>window.location.reload(!0)}),es=e.p+"locale/en.json",ts=e.p+"locale/fr.json",rs=e=>({popup:{zIndex:1e3,"& .leaflet-popup-content-wrapper":{padding:0},"& .leaflet-popup-content":{margin:0,minHeight:100,width:"360px !important","& p.MuiTypography-root":{margin:0,fontSize:12},"& .MuiGrid-root > div":{top:1}},"& a.leaflet-popup-close-button":{color:"white",backgroundColor:e.palette.primary.main,padding:0,top:"8px",right:"8px",borderRadius:"20px",height:"18px",width:"18px",display:"flex",justifyContent:"center",alignItems:"center"},"& a.leaflet-popup-close-button span":{position:"relative",top:"-1px"},"& a.leaflet-popup-close-button:hover":{color:e.palette.primary.main,backgroundColor:"white",border:`1px solid ${e.palette.primary.main}`}},popupListItemLabel:{textAlign:"right",fontWeight:"bold",display:"inline-block",paddingRight:e.spacing(1)/2},popuplistItem:{textAlign:"left"},popupCard:{height:"100%",width:"100%",borderRadius:12,overflow:"hidden",boxShadow:"none"},popupCardMedia:{height:180},popupCardContent:{margin:e.spacing(3,2,2,2),overflow:"hidden",wordBreak:"break-all",padding:"0 !important"}}),ns=(e,t)=>`${t}-${e.toString()}`,as=["reloadDocument","replace","to","target","state","relative","preventScrollReset","children","className","buttonClassName"];function os(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ls(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?os(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):os(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const is=e=>{const{reloadDocument:t,replace:r,to:n,target:a,state:o,relative:l,preventScrollReset:i,children:c,className:u,buttonClassName:d}=e,p=qt()(e,as);return s().createElement(Ne,{className:u,reloadDocument:t,replace:r,to:n,target:a,state:o,relative:l,preventScrollReset:i},s().createElement(ne.Button,ls(ls({variant:"contained",color:"primary"},p),{},{className:d,onClick:()=>null}),c))};function ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const cs=e=>{const t=Object.keys(e),r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ss(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);t.forEach(t=>{const n=e[t];null!=n&&""!==n?"object"==typeof n||Array.isArray(n)?r[t]=JSON.stringify(n):"string"!=typeof n&&(r[t]=`${n}`):delete r[t]});let n="";return Object.entries(r).forEach(([e,t])=>{n=`${n}/${e}/${t}`}),n},us=(e,t)=>`/${e}${cs(null!=t?t:{})}`,ds=()=>{const e=(0,Ie.useNavigate)(),{pathname:t}=(0,Ie.useLocation)();return(0,i.useCallback)((r,n)=>{const a=us(r,n);e(a,{state:{location:t}})},[e,t])},ps=()=>{const e=(0,Ie.useNavigate)(),{state:t}=(0,Ie.useLocation)();return(0,i.useCallback)((r,n)=>{const a=us(r,n);e(a,{replace:!0,state:t})},[e,t])},ms=(e="home",t=!1)=>{const r=(0,Ie.useNavigate)(),{state:n,pathname:a}=(0,Ie.useLocation)();return(0,i.useCallback)(()=>{const o=t?null:{location:a};n?r(-1):r(`/${e}`,{state:o})},[e,r,t,a,n])},gs=(e,t)=>{var r;const n=null!==(r=(0,Ie.useParams)()["*"])&&void 0!==r?r:"";return(0,i.useMemo)(()=>{const r=n.split("/"),a=r.map((e,t)=>t).filter(e=>e%2==0),o=t[e],l={};return o.forEach(e=>{const t=r.findIndex(t=>t===e);if(t>-1&&a.includes(t)){const n=t+1<r.length?r[t+1]:void 0;l[e]=n}else l[e]=void 0}),l},[e,t,n])},bs=require("@mui/icons-material/ExpandLess");var fs=e.n(bs);const ys=require("@mui/icons-material/ExpandMore");var hs=e.n(ys);const Os=({openOnMount:e=!1,children:t,label:r,preventCollapse:n=!1,titleVariant:a="body1",titleColor:o="initial",backgroundColor:l="transparent"})=>{const[c,u]=(0,i.useState)(e);return s().createElement(s().Fragment,null,s().createElement(ne.ListItem,{style:{backgroundColor:l},button:!0,onClick:()=>{u(e=>!e)},disableRipple:n},s().createElement(ne.ListItemText,null,s().createElement(ne.Typography,{variant:a,color:o},r)),(c||n)&&s().createElement(fs(),null),!c&&!n&&s().createElement(hs(),null)),s().createElement(ne.Collapse,{in:c||n,timeout:"auto",unmountOnExit:!0},t))},vs=({value:e,suffix:t,prefix:r,placeholder:n=$e,thousandsGroupStyle:a="thousand",thousandSeparator:o=",",decimalSeparator:l=".",decimalScale:i=10})=>s().createElement(Gt.NumericFormat,{value:e,prefix:r,suffix:t,defaultValue:n,displayType:"text",decimalScale:i,thousandsGroupStyle:a,thousandSeparator:o,decimalSeparator:l}),Es=(0,Te.defineMessages)({close:{defaultMessage:"Close",id:"blsq.buttons.label.close"}}),ws=({closeDialog:e})=>{const{formatMessage:t}=pt();return s().createElement(ne.Button,{onClick:e,variant:"contained",color:"primary"},t(Es.close))},js=({children:e,isOpen:t,closeDialog:r,titleMessage:n,id:a="alertModal",maxWidth:o="sm",dataTestId:l="alertModal",backdropClick:i=!0})=>s().createElement(Ct,{open:t,onClose:()=>null,id:a,dataTestId:l,titleMessage:n,closeDialog:r,buttons:ws,maxWidth:o,backdropClick:i},e),Ps=require("lodash/isEmpty");var xs=e.n(Ps);function Cs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Ss={id:Lt.Utils.uuid(),type:"group"},Ms=(e,t)=>{var r;return(null===(r=t.find(t=>t.items.some(t=>t===e)))||void 0===r?void 0:r.color)||"inherit"},qs=(e,t)=>{const r=Vr(),n=(0,i.useCallback)(n=>{if(xs()(e)||!n)return"";const a=ks(ks({},r),{},{fields:e}),o=Lt.Utils.checkTree(Lt.Utils.loadFromJsonLogic(n,a)||Lt.Utils.loadTree(Ss),a),l=(e=>{let t="";return t=e?JSON.stringify(e,void 0,2):"",t=t.substring(1,t.length-1),"("===t.charAt(0)&&")"===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),t})(Lt.Utils.queryString(o,a,!0));return t&&l?((e,t)=>{const r=t.flatMap(e=>e.items),n=new RegExp(`(${r.join("|")})`,"g");return e.split(n).map((e,r)=>r%2==0?s().createElement(i.Fragment,{key:r},e):s().createElement("span",{style:{color:Ms(e,t)},key:r},e))})(l,t):l},[e,t,r]);return n},Ds=require("@dnd-kit/core"),Ts=require("@dnd-kit/sortable"),Is=require("@dnd-kit/modifiers"),Bs=require("@dnd-kit/utilities");function Ls(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ls(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ls(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const As=(0,d.makeStyles)(e=>({item:{padding:e.spacing(1),backgroundColor:"white",border:`1px solid ${e.palette.grey[200]}`,borderRadius:5,marginBottom:e.spacing(1)},lastItem:{marginBottom:e.spacing(0)}})),Fs=({id:e,handle:t,children:r,isLast:n=!1})=>{const a=As(),{attributes:o,listeners:l,setNodeRef:i,transform:c,transition:u}=(0,Ts.useSortable)({id:e}),d={transform:Bs.CSS.Transform.toString(c),transition:u},p=Ns(Ns({},o),l),g=t?void 0:p;return s().createElement("li",Ns({ref:i,style:d,className:m()(a.item,n&&a.lastItem)},g),r(t?p:void 0))},Rs=(0,Te.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),$s=(0,d.makeStyles)(e=>({root:{padding:e.spacing(2),textAlign:"center",backgroundColor:e.palette.gray.background}})),Vs=()=>{const{formatMessage:e}=pt(),t=$s();return s().createElement(ne.Box,{className:t.root},e(Rs.noResult))},zs=(0,d.makeStyles)(e=>({list:{padding:e.spacing(1),margin:0,listStyleType:"none",backgroundColor:e.palette.gray.background},draggablelist:{padding:e.spacing(0),margin:0,listStyleType:"none"},draggableItem:{padding:e.spacing(1),backgroundColor:e.palette.grey[200],border:`1px solid ${e.palette.grey[400]}`,borderRadius:5,boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"}})),Hs=e=>{const{items:t,onChange:r,handle:n=!1,disabled:a,RenderItem:o}=e,[l,c]=(0,i.useState)(),u=zs(),d=(0,Ds.useSensors)((0,Ds.useSensor)(Ds.PointerSensor),(0,Ds.useSensor)(Ds.KeyboardSensor,{coordinateGetter:Ts.sortableKeyboardCoordinates})),p=(0,i.useCallback)(e=>{c(void 0);const{active:n,over:a}=e;if(a&&n.id!==(null==a?void 0:a.id)){const e=t.findIndex(e=>e.id===n.id),o=t.findIndex(e=>e.id===a.id),l=(0,Ts.arrayMove)(t,e,o);r(l)}},[t,r]);return s().createElement(s().Fragment,null,0===t.length&&s().createElement(Vs,null),t.length>0&&s().createElement(Ds.DndContext,{sensors:d,collisionDetection:Ds.closestCenter,onDragEnd:p,onDragStart:({active:e})=>{c(e)},modifiers:[Is.restrictToVerticalAxis]},s().createElement(Ts.SortableContext,{disabled:a,items:t,strategy:Ts.verticalListSortingStrategy},s().createElement("ul",{className:u.list},t.map((e,r)=>s().createElement(Fs,{handle:n,key:e.id,id:e.id,isLast:r+1===t.length},t=>s().createElement(o,{item:e,index:r,handleProps:t}))))),s().createElement(Ds.DragOverlay,null,s().createElement("ul",{className:u.draggablelist},s().createElement("li",{className:u.draggableItem},s().createElement(o,{item:l,index:-1}))))))},_s=require("@mui/icons-material/DragIndicator");var Ys=e.n(_s);function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ws(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Us=(0,d.makeStyles)(e=>({sortCell:{padding:e.spacing(1),width:20}})),Ks=e=>{const t=Us(),{attributes:r,listeners:n,setNodeRef:a,transform:o,transition:l}=(0,Ts.useSortable)({id:e.id}),i={transform:Bs.CSS.Transform.toString(o),transition:l};return s().createElement(ne.TableRow,{ref:a,style:i},s().createElement(ne.TableCell,{align:"center",className:t.sortCell},s().createElement(ne.IconButton,Ws(Ws({size:"small",component:"span",disableRipple:!0},r),n),s().createElement(Ys(),null))),e.children)},Js=({columns:e,item:t})=>s().createElement(s().Fragment,null,e.map(e=>{const r=t[e.accessor];return e.Cell?s().createElement(ne.TableCell,{key:`${e.accessor}`,align:"center"},s().createElement(s().Fragment,null,e.Cell({value:r}))):s().createElement(ne.TableCell,{key:`${e.accessor}`,align:"center"},s().createElement(s().Fragment,null,r))})),Zs=(0,d.makeStyles)(e=>({sortCell:{padding:e.spacing(1),width:20},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},hiddenRow:{visibility:"collapse"}})),Qs=({columns:e,hidden:t})=>{const r=Zs();return s().createElement(ne.TableHead,null,s().createElement(ne.TableRow,{className:m()(t&&r.hiddenRow)},s().createElement(ne.TableCell,{className:m()(r.headerCell,r.sortCell)}),e.map((t,n)=>s().createElement(ne.TableCell,{key:`${t.accessor}`,className:m()(r.headerCell,n+1===e.length&&r.lastHeaderCell)},t.Header))))},Xs=(0,d.makeStyles)(e=>({draggableRow:{backgroundColor:e.palette.grey[200],boxShadow:"-2px 8px 3px -3px rgba(0,0,0,0.15)"},hiddenRow:{visibility:"collapse"},sortCell:{padding:e.spacing(1),width:20}})),ec=({items:e,activeItem:t,columns:r})=>{const n=Xs();return s().createElement(ne.Table,{size:"small"},s().createElement(Qs,{columns:r,hidden:!0}),s().createElement(ne.TableBody,null,e.map(e=>s().createElement(ne.TableRow,{key:e.id,className:m()(n.draggableRow,(null==t?void 0:t.id)!==e.id&&n.hiddenRow)},s().createElement(ne.TableCell,{align:"center",className:n.sortCell},s().createElement(ne.Box,{px:"3px",py:"6px"},s().createElement(Ys(),null))),s().createElement(Js,{columns:r,item:e})))))},tc=(0,Te.defineMessages)({noResult:{defaultMessage:"No result",id:"blsq.table.noResult"}}),rc=(0,d.makeStyles)(e=>({root:{padding:e.spacing(2),textAlign:"center"},cell:{padding:"0 !important"}})),nc=({colSpan:e})=>{const{formatMessage:t}=pt(),r=rc();return s().createElement(ne.TableRow,null,s().createElement(ne.TableCell,{colSpan:e,className:r.cell},s().createElement(ne.Box,{className:r.root},t(tc.noResult))))},ac=(0,d.makeStyles)(e=>({table:{"& tr":{backgroundColor:"rgba(244,244,244,1)"},"& tr:nth-of-type(even)":{backgroundColor:"white"}},headerCell:{borderRight:`2px solid ${e.palette.ligthGray.border}`,position:"relative",overflow:"hidden",textAlign:"center",backgroundColor:"white"},lastHeaderCell:{borderRight:"none"},sortCell:{padding:e.spacing(1),width:20}})),oc=e=>{const{items:t,onChange:r,disabled:n,columns:a}=e,[o,l]=(0,i.useState)(),c=ac(),u=(0,Ds.useSensors)((0,Ds.useSensor)(Ds.PointerSensor),(0,Ds.useSensor)(Ds.KeyboardSensor,{coordinateGetter:Ts.sortableKeyboardCoordinates})),d=(0,i.useCallback)(e=>{l(void 0);const{active:n,over:a}=e;if(a&&n.id!==(null==a?void 0:a.id)){const e=t.findIndex(e=>e.id===n.id),o=t.findIndex(e=>e.id===a.id),l=(0,Ts.arrayMove)(t,e,o);r(l)}},[t,r]);return s().createElement(Ds.DndContext,{sensors:u,collisionDetection:Ds.closestCenter,onDragEnd:d,onDragStart:({active:e})=>{l(e)},modifiers:[Is.restrictToVerticalAxis]},s().createElement(Ts.SortableContext,{disabled:n,items:t,strategy:Ts.verticalListSortingStrategy},s().createElement(ne.Table,{size:"small",className:c.table},s().createElement(Qs,{columns:a}),s().createElement(ne.TableBody,null,0===t.length&&s().createElement(nc,{colSpan:a.length+1}),t.map(e=>s().createElement(Ks,{key:e.id,id:e.id},s().createElement(Js,{columns:a,item:e})))))),s().createElement(Ds.DragOverlay,null,s().createElement(ec,{activeItem:o,columns:a,items:t})))},lc=["id","label","onDelete"];function ic(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ic(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ic(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const cc={container:{display:"flex",alignItems:"center"},dragIcon:{cursor:"grab",mr:.5,fontSize:"16px",flexShrink:0},label:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},chip:{marginRight:4,marginBottom:4,color:"white"}},uc=e=>{let{id:t,label:r,onDelete:n}=e,a=qt()(e,lc);const{attributes:o,listeners:l,setNodeRef:i,transform:c,transition:u,isDragging:d}=(0,Ts.useSortable)({id:t});return s().createElement(ne.Chip,sc(sc({component:"div",ref:i,label:s().createElement(ne.Box,{sx:cc.container},s().createElement(Ys(),sc(sc(sc({},o),l),{},{sx:cc.dragIcon})),s().createElement(ne.Box,{component:"span",sx:cc.label},r)),color:"secondary"},a),{},{sx:sc(sc({transform:c?Bs.CSS.Translate.toString(c):void 0,transition:u},cc.chip),{},{opacity:d?.4:1,maxWidth:"100%"}),onDelete:n}))};function dc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dc(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const mc={tagsContainer:{display:"flex",flexWrap:"wrap"},helperText:{pl:2,color:"grey.500"}},gc=()=>null,bc=({options:e,label:t,value:r=[],onChange:n,disabled:a,isRequired:o,helperText:l,keyValue:c})=>{const[u,d]=(0,i.useState)(null),p=(0,Ds.useSensors)((0,Ds.useSensor)(Ds.PointerSensor,{activationConstraint:{distance:10}})),m=(0,i.useCallback)((e,t)=>{n(t.map(e=>e.value))},[n]),g=(0,i.useCallback)(e=>{e.active.id!==u&&d(e.active.id)},[u]),b=(0,i.useCallback)(e=>{const{active:t,over:a}=e;if(a&&t.id!==a.id){const e=r.findIndex(e=>`${c}-${e.value}`===t.id),o=r.findIndex(e=>`${c}-${e.value}`===a.id);if(-1!==e&&-1!==o&&e!==o){const t=(0,Ts.arrayMove)(r,e,o).map(e=>e.value);JSON.stringify(t)!==JSON.stringify(r.map(e=>e.value))&&n(t)}}},[r,n,c]),f=(0,i.useCallback)(()=>{d(null)},[]),y=(0,i.useCallback)((e,t)=>s().createElement(Ts.SortableContext,{items:e.map(e=>`${c}-${e.value}`),strategy:gc},s().createElement(ne.Box,{sx:mc.tagsContainer},e.map((e,r)=>s().createElement(uc,pc({key:`${c}-${e.value}`,id:`${c}-${e.value}`,label:e.label},t({index:r})))))),[c]),h=(0,i.useMemo)(()=>u?r.find(e=>`${c}-${e.value}`===u):null,[u,r,c]);return s().createElement(Ds.DndContext,{sensors:p,collisionDetection:Ds.pointerWithin,onDragStart:g,onDragOver:b,onDragEnd:f,onDragCancel:f},s().createElement(ne.Autocomplete,{multiple:!0,options:e,getOptionLabel:e=>e.label,value:r,onChange:m,renderInput:e=>s().createElement(ne.TextField,pc(pc({},e),{},{label:o?`${t} *`:t})),filterSelectedOptions:!0,renderTags:y,disabled:a}),l&&s().createElement(ne.FormHelperText,{sx:mc.helperText},l),s().createElement(Ds.DragOverlay,{wrapperElement:"div",style:{width:"fit-content"}},h?s().createElement(ne.Chip,{label:s().createElement(ne.Box,{sx:cc.container},s().createElement(Ys(),{sx:pc(pc({},cc.dragIcon),{},{cursor:"grabbing"})}),s().createElement(ne.Box,{component:"span",sx:cc.label},h.label)),color:"secondary",sx:pc(pc({},cc.chip),{},{margin:0,cursor:"grabbing"}),onDelete:()=>{}}):null))},fc=(0,Te.defineMessages)({permissionError:{id:"iaso.snackBar.permissionError",defaultMessage:"You don't have permission to perform this action: {detail}"},defaultMutationApiError:{id:"iaso.snackBar.error",defaultMessage:"An error occurred while saving"},defaultMutationApiSuccess:{id:"iaso.snackBar.successful",defaultMessage:"Saved successfully"},defaultQueryApiSuccess:{defaultMessage:"An error occurred while fetching data",id:"iaso.snackBar.fetch.error"}});function yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Oc=(e,t=Zi,r=Ji)=>{const n=t=>e.dispatch("snackbar",t);return{useSnackQuery:(e,r,a,o,l,i=[])=>{let s,c,u,d,p,m;return"string"==typeof e||Array.isArray(e)?(s=e,c=r,u=a,d=o,p=l,m=i):(s=e.queryKey,c=e.queryFn,u=e.snackErrorMsg,d=e.options,p=e.dispatchOnError,m=e.ignoreErrorCodes),((e,r,a=fc.defaultQueryApiSuccess,o={},l=!0,i=[])=>{const s=hc(hc({},o),{},{onError:e=>{l&&!i.includes(e.status)&&n(t(void 0,a,e)),o.onError&&o.onError(e)}});return(0,vn.useQuery)(e,r,s)})(s,c,u,d,p,m)},useSnackMutation:(e,a=fc.defaultMutationApiSuccess,o=fc.defaultMutationApiError,l=void 0,i={},s=!0,c=[],u=e=>r(void 0,e))=>{var d;let p,m,g,b,f,y,h,O;const v=null!==(d=Object.keys(e))&&void 0!==d?d:[];return v.length>0&&v.includes("mutationFn")?(p=e.mutationFn,m=e.snackSuccessMessage,g=e.snackErrorMsg,b=e.invalidateQueryKey,f=e.options,y=e.showSucessSnackBar,h=e.ignoreErrorCodes,O=e.successSnackBar):(p=e,m=a,g=o,b=l,f=i,y=s,h=c,O=u),((e,a=fc.defaultMutationApiSuccess,o=fc.defaultMutationApiError,l,i={},s=!0,c=[],u=e=>r(void 0,e))=>{const d=(0,vn.useQueryClient)(),{formatMessage:p}=pt(),m=hc(hc({},i),{},{onError:(e,r,a)=>{if(!c.includes(e.status)){let r=o;403===e.status&&(e.details.detail?r=e.details.detail:r||(r=fc.permissionError)),n(t(void 0,r,e))}if(i.onError)return i.onError(e,r,a)},onSuccess:(e,t,r)=>{if(a&&s&&n(u(a,e)),l&&(Array.isArray(l)?l.forEach(e=>d.invalidateQueries(e)):d.invalidateQueries(l)),i.onSuccess)return i.onSuccess(e,t,r)}});return(0,vn.useMutation)(e,m)})(p,m,g,b,f,y,h,O)},useSnackQueries:e=>{const r=e.map(e=>{const{options:r,dispatchOnError:a,snackErrorMsg:o=fc.defaultQueryApiSuccess}=e,l=hc(hc({},r),{},{onError:e=>{a&&n(t(void 0,o,e)),r.onError&&r.onError(e)}});return hc(hc({},e),l)});return(0,vn.useQueries)(r)},useAbortController:()=>{var e;const t=(0,i.useRef)(new AbortController);return null!==(e=null==t?void 0:t.current)&&void 0!==e?e:{}}}};function vc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ec(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class wc extends Error{constructor(e,t,r){super(e),Error.apply(this,[e]),this.name="ApiError",Error.captureStackTrace&&Error.captureStackTrace(this,wc),t&&(this.status=t.status),this.details=r}}const jc=e=>{if("AbortError"!==e.name)throw new wc(e.message);return new Response(JSON.stringify({message:"Fetching aborted"}))},Pc=async(e,t,r)=>{if(!e.ok){if(401===e.status){const t=`/login/?next=${encodeURIComponent(window.location.pathname+window.location.search)}`;return window.location.href=t,Promise.reject(new wc("Redirecting to login",e))}const n=await(async e=>{try{return await e.json()}catch(t){return void console.warn("could not parse",t,e)}})(e);throw new wc(`Error on ${r} ${t}`,e,n)}return e},xc=async(e,t={},r=Pc,n=jc)=>{var a,o;let l;const i="string"==typeof e?e:null!==(a=e.url)&&void 0!==a?a:e,s=null!==(o=null==t?void 0:t.method)&&void 0!==o?o:"GET";try{l=await fetch(e,Ec(Ec({},t),{},{credentials:"same-origin"}))}catch(e){return n(e)}return r(l,i,s)},Cc=async(e,t)=>xc(e,{headers:{"Accept-Language":At().locale()},signal:t}).then(e=>e.json()),kc=async(e,t)=>xc(e,{headers:{"Accept-Language":At().locale()},signal:t}).then(e=>e.blob()),Sc=(e,t,r,n,a)=>{var o;const l=null!=t?t:{},i=null!=r?r:{};let s={};if(n&&(s={headers:n}),Object.keys(i).length>0){const e=new FormData;Object.entries(l).forEach(([t,r])=>{let n=r;"object"==typeof n&&(n=JSON.stringify(n)),e.append(t,n)}),Object.entries(i).forEach(([t,r])=>{Array.isArray(r)?r.forEach(r=>e.append(t,r)):e.append(t,r)}),s=Ec(Ec({},s),{},{method:"POST",body:e,signal:a})}else s={method:"POST",body:JSON.stringify(t),headers:Ec(Ec({},null!==(o=null==s?void 0:s.headers)&&void 0!==o?o:{}),{},{"Content-Type":"application/json","Accept-Language":At().locale()}),signal:a};return xc(e,s).then(e=>204===e.status?null:e.json())},Mc=(e,t,r,n,a)=>"string"==typeof e?Sc(e,t,r,n,a):Sc(e.url,e.data,e.fileData,e.headers,e.signal),qc=(e,t,r)=>xc(e,{method:"PATCH",body:JSON.stringify(t),headers:{"Content-Type":"application/json","Accept-Language":At().locale()},signal:r}).then(e=>e.json()),Dc=(e,t)=>xc(e,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":At().locale()},signal:t}).then(()=>!0),Tc=(e,t,r)=>xc(e,{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json","Accept-Language":At().locale()},signal:r}).then(e=>e.json()),Ic=async(e,t)=>xc(e,{method:"OPTIONS",headers:{"Content-Type":"application/json",Accept:"application/json","Accept-Language":At().locale()},signal:t}).then(e=>e.json()),Bc=({children:e,url:t})=>s().createElement("a",{href:t},e),Lc=({tooltipMessage:e,url:t,icon:r,overrideIcon:n})=>s().createElement("a",{href:t},s().createElement(Ze,{tooltipMessage:e,onClick:()=>null,icon:r,overrideIcon:n})),Nc=({infos:e,children:t})=>{const r=(0,ne.useTheme)();return s().createElement(ne.Grid,{container:!0,spacing:1},s().createElement(ne.Grid,{item:!0,xs:11},t),s().createElement(ne.Grid,{item:!0,xs:1},s().createElement(ne.Tooltip,{title:e,arrow:!0},s().createElement(ne.Box,{position:"relative",top:r.spacing(4),display:"flex",justifyContent:"center"},s().createElement(Ut(),{color:"primary",style:{cursor:"pointer"}})))))},Ac=require("react-phone-input-material-ui");var Fc=e.n(Ac);require("react-phone-input-material-ui/lib/style.css");const Rc=require("react-phone-input-material-ui/lang/fr.json");var $c=e.n(Rc);const Vc=require("react-phone-input-material-ui/lang/pt.json");var zc=e.n(Vc);const Hc=(0,Te.defineMessages)({search:{id:"blsq.table.filter.search",defaultMessage:"Search"},countryNotFound:{id:"blsq.phoneInput.countryNotFound",defaultMessage:"Country not found"},phoneNumber:{id:"blsq.phoneInput.phoneNumber",defaultMessage:"Phone number"}}),_c=["lang","onChange","className","label","country","placeholder","required","disabled","autoFormat","countryCodeEditable"];function Yc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const Gc=(0,d.makeStyles)(e=>({inputMargin:{"& .MuiInputBase-input":{marginLeft:`${e.spacing(1)} !important`}},dropdownMargin:{"& > .flag-dropdown":{marginLeft:`${e.spacing(1)} !important`}}})),Wc=e=>{const{formatMessage:t}=pt(),{lang:r,onChange:n,className:a,label:o,country:i,placeholder:c,required:u,disabled:d,autoFormat:p=!1,countryCodeEditable:g=!1}=e,b=qt()(e,_c),f=(e=>{if("en"!==e&&e)return"fr"===e?$c():"pt"===e?zc():void 0})(r),y=Gc();return s().createElement(Fc(),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yc(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({component:ne.TextField,searchPlaceholder:t(Hc.search),searchNotFound:t(Hc.countryNotFound),localization:f,onChange:(e,t)=>{const{dialCode:r,countryCode:a}=t;n(e,{dialCode:r,countryCode:a})},label:o,autoFormat:p,inputClass:y.inputMargin,inputProps:{required:u,disabled:d},containerClass:m()(y.dropdownMargin,a),country:i,countryCodeEditable:g,placeholder:null!=c?c:t(Hc.phoneNumber)},b))};function Uc(e,t,r,n){const a=(0,i.useRef)(null),o=(0,i.useRef)(0),l=(0,i.useRef)(0),s=(0,i.useRef)(null),c=(0,i.useRef)([]),u=(0,i.useRef)(),d=(0,i.useRef)(),p=(0,i.useRef)(e),m=(0,i.useRef)(!0);p.current=e;const g="undefined"!=typeof window,b=!t&&0!==t&&g;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;const f=!!(r=r||{}).leading,y=!("trailing"in r)||!!r.trailing,h="maxWait"in r,O="debounceOnServer"in r&&!!r.debounceOnServer,v=h?Math.max(+r.maxWait||0,t):null;(0,i.useEffect)(()=>(m.current=!0,()=>{m.current=!1}),[]);const E=(0,i.useMemo)(()=>{const e=e=>{const t=c.current,r=u.current;return c.current=u.current=null,o.current=e,l.current=l.current||e,d.current=p.current.apply(r,t)},r=(e,t)=>{b&&cancelAnimationFrame(s.current),s.current=b?requestAnimationFrame(e):setTimeout(e,t)},i=e=>{if(!m.current)return!1;const r=e-a.current,n=e-o.current;return!a.current||r>=t||r<0||h&&n>=v},E=t=>(s.current=null,y&&c.current?e(t):(c.current=u.current=null,d.current)),w=()=>{const e=Date.now();if(f&&l.current===o.current&&j(),i(e))return E(e);if(!m.current)return;const n=e-a.current,s=e-o.current,c=t-n,u=h?Math.min(c,v-s):c;r(w,u)},j=()=>{n&&n({})},P=(...n)=>{if(!g&&!O)return;const l=Date.now(),p=i(l);if(c.current=n,u.current=this,a.current=l,p){if(!s.current&&m.current)return o.current=a.current,r(w,t),f?e(a.current):d.current;if(h)return r(w,t),e(a.current)}return s.current||r(w,t),d.current};return P.cancel=()=>{const e=s.current;e&&(b?cancelAnimationFrame(s.current):clearTimeout(s.current)),o.current=0,c.current=a.current=u.current=s.current=null,e&&n&&n({})},P.isPending=()=>!!s.current,P.flush=()=>s.current?E(Date.now()):d.current,P},[f,h,t,v,y,b,g,O,n]);return E}function Kc(e,t){return e===t}function Jc(e,t,r){const n=r&&r.equalityFn||Kc,a=(0,i.useRef)(e),[,o]=(0,i.useState)({}),l=Uc((0,i.useCallback)(e=>{a.current=e,o({})},[o]),t,r,o),s=(0,i.useRef)(e);return n(s.current,e)||(l(e),s.current=e),[a.current,l]}function Zc(e,t,{leading:r=!0,trailing:n=!0}={}){return Uc(e,t,{maxWait:t,leading:r,trailing:n})}function Qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qc(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const eu=(0,d.makeStyles)(e=>({inputLabelFocus:{color:e.palette.primary.main},inputLabel:Xc(Xc({},Ye.inputLabel),{},{left:4,backgroundColor:"white"}),inputLabelShrink:{transform:"translate(14px, -5px) scale(0.75) !important"},textArea:{width:"100%",minWidth:"100%",maxWidth:"100%",minHeight:"100px",padding:e.spacing(2),outline:"none",borderRadius:5,fontSize:16,fontFamily:'"Roboto", "Arial", sans-serif',border:"1px solid rgba(0, 0, 0, 0.23)","&:hover":{border:"1px solid rgba(0, 0, 0, 0.87)"},"&:focus":{border:`1px solid ${e.palette.primary.main}`}},errorArea:{border:`1px solid ${e.palette.error.main}`,"&:focus":{border:`1px solid ${e.palette.error.main}`},"&:hover":{border:`1px solid ${e.palette.error.main}`}},errorText:{color:e.palette.error.main},disabledLabel:{backgroundColor:e.palette.ligthGray.background},disabledTextArea:{"&:hover":{border:"1px solid rgba(0, 0, 0, 0.23)"},backgroundColor:e.palette.ligthGray.background}})),tu=({value:e,onChange:t,label:r,dataTestId:n="textarea",errors:a=[],required:o=!1,debounceTime:l=0,disabled:c=!1,helperText:u})=>{const d=eu(),[p,g]=(0,i.useState)(!1),b=a.length>0,f=(0,i.useRef)(""),y=(0,i.useRef)(""),[h,O]=(0,i.useState)(null!=e?e:""),[v]=Jc(h,l);return(0,i.useEffect)(()=>{e!==f.current&&(O(null!=e?e:""),f.current=e)},[e]),ln(()=>{v!==y.current&&(y.current=v,t(v))},[v,t,f.current]),s().createElement(nt,{errors:a},s().createElement(ne.InputLabel,{shrink:Boolean(h)||p,className:m()(d.inputLabel,p&&d.inputLabelFocus,Boolean(e)&&d.inputLabelShrink,b&&d.errorText,c&&d.disabledLabel),required:o},r),s().createElement("textarea",{onFocus:()=>g(!0),onBlur:()=>g(!1),className:m()(d.textArea,b&&d.errorArea,c&&d.disabledTextArea),onChange:e=>{O(e.target.value)},value:h,disabled:c,"data-test":n}),s().createElement(ne.FormHelperText,null,u))},ru=(e="",t="")=>{(0,i.useEffect)(()=>{document.title=`${t} ${e}`},[e,t])},nu=(0,i.createContext)({isOpen:!1,toggleSidebar:()=>{}}),au=()=>(0,i.useContext)(nu),ou=({children:e})=>{const[t,r]=(0,i.useState)(!1),n=(0,i.useCallback)(()=>r(!t),[t]),a=(0,i.useMemo)(()=>({isOpen:t,toggleSidebar:n}),[t,n]);return s().createElement(nu.Provider,{value:a},e)},lu=require("@mui/x-date-pickers/AdapterMoment"),iu=require("@mui/x-date-pickers/LocalizationProvider"),su={fr:{LT:"HH:mm",LTS:"DD/MM/YYYY HH:mm",L:"DD/MM/YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY LT",LLLL:"dddd, MMMM Do YYYY LT"},en:{LT:"h:mm A",LTS:"DD/MM/YYYY HH:mm",L:"DD/MM/YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY LT",LLLL:"dddd, MMMM Do YYYY LT"}},cu=(0,i.createContext)({locale:At().locale(),setLocale:e=>{}}),uu=e=>{At().locale(e),At().updateLocale(e,{longDateFormat:su[e],week:{dow:1}})},du=()=>(0,i.useContext)(cu),pu=({children:e})=>{const[t,r]=(0,i.useState)("en");(0,i.useEffect)(()=>{uu("en")},[]);const n=(0,i.useMemo)(()=>({locale:t,setLocale:e=>{uu(e),r(e)}}),[t]);return s().createElement(cu.Provider,{value:n},e)},mu=({children:e,fr:t,en:r})=>{const n=(0,i.useMemo)(()=>({fr:t,en:r}),[t,r]),{locale:a}=du();return s().createElement(Te.IntlProvider,{onError:e=>console.warn(e),key:a,locale:a,messages:n[a]},s().createElement(iu.LocalizationProvider,{dateAdapter:lu.AdapterMoment,adapterLocale:a},e))};class gu{constructor(){this.listeners={}}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}removeEventListener(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(e=>e!==t))}dispatch(e,t){this.listeners[e]&&this.listeners[e].forEach(e=>e(t))}}const bu=require("@mui/icons-material/ErrorOutline");var fu=e.n(bu);const yu=require("@mui/icons-material/HelpOutline");var hu=e.n(yu);const Ou=require("@mui/icons-material/NotInterested");var vu=e.n(Ou);const Eu=(0,Te.defineMessages)({labelError:{id:"iaso.errors.label",defaultMessage:"An error occured"},notAuthenticated:{id:"iaso.errors.notAuthenticated",defaultMessage:"You are not logged in"},notFound:{id:"iaso.errors.notFound",defaultMessage:"Page not found"},unauthorized:{id:"iaso.errors.unauthorized",defaultMessage:"You are not allowed to see this page"}});function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Pu=(0,d.makeStyles)({icon:{fontWeight:"light",fontSize:150}}),xu=({errorCode:e,iconColor:t})=>{const r=Pu();return s().createElement(ne.Box,{mt:5},s().createElement(ne.Container,{maxWidth:"md"},s().createElement(ne.Paper,null,s().createElement(ne.Box,{py:6,px:2,justifyContent:"center",alignItems:"center",display:"flex",flexDirection:"column"},s().createElement(ne.Box,{pt:3},s().createElement(ne.Typography,{variant:"h2",id:"error-code"},e)),"401"===e&&s().createElement(s().Fragment,null,s().createElement(ne.Box,{pt:2,pb:2},s().createElement(ne.Typography,{variant:"h5"},s().createElement(Te.FormattedMessage,ju({},Eu.notAuthenticated)))),s().createElement(vu(),{className:r.icon,style:t?{color:t}:void 0})),"403"===e&&s().createElement(s().Fragment,null,s().createElement(ne.Box,{pt:2,pb:2},s().createElement(ne.Typography,{variant:"h5"},s().createElement(Te.FormattedMessage,ju({},Eu.unauthorized)))),s().createElement(vu(),{className:r.icon,style:t?{color:t}:void 0})),"404"===e&&s().createElement(s().Fragment,null,s().createElement(ne.Box,{pt:2,pb:2},s().createElement(ne.Typography,{variant:"h5"},s().createElement(Te.FormattedMessage,ju({},Eu.notFound)))),s().createElement(hu(),{className:r.icon,style:t?{color:t}:void 0})),"500"===e&&s().createElement(s().Fragment,null,s().createElement(ne.Box,{pt:2,pb:2},s().createElement(ne.Typography,{variant:"h5"},s().createElement(Te.FormattedMessage,ju({},Eu.labelError)))),s().createElement(fu(),{className:r.icon,style:t?{color:t}:void 0}))))))},Cu=require("@mui/material/AppBar");var ku=e.n(Cu);const Su=require("@mui/material/Toolbar");var Mu=e.n(Su);const qu=require("@mui/material/Typography");var Du=e.n(qu);const Tu=require("@mui/icons-material/Menu");var Iu=e.n(Tu);const Bu=(0,d.makeStyles)(e=>({menuButton:{[e.breakpoints.up("md")]:{marginRight:`${e.spacing(2)} !important`,marginLeft:`${e.spacing(1)} !important`}},version:{fontSize:9,display:"block",marginTop:5},root:{"&.MuiToolbar-gutters":{paddingRight:"48px"}},logoutButton:{padding:e.spacing(0)}})),Lu=({children:e,rightEndComponent:t,title:r="",appTitle:n="",displayBackButton:a=!1,goBack:o=()=>null,displayMenuButton:l=!0,disableShadow:i=!1})=>{const c=Bu(),{toggleSidebar:u}=au();return ru(r,n),s().createElement(ku(),{position:"relative",color:"primary",id:"top-bar",sx:{zIndex:10},elevation:i?0:4},s().createElement(Mu(),{className:c.root},s().createElement(ne.Grid,{container:!0,justifyContent:"space-between",alignItems:"center",direction:"row"},s().createElement(ne.Grid,{container:!0,item:!0,direction:"row",xs:7,alignItems:"center"},!a&&l&&s().createElement(ne.IconButton,{className:c.menuButton,color:"inherit","aria-label":"Menu",onClick:u,id:"menu-button"},s().createElement(Iu(),null)),a&&s().createElement(ne.IconButton,{className:c.menuButton,color:"inherit","aria-label":"Back",onClick:o,id:"top-bar-back-button"},s().createElement(wo(),null)),s().createElement(Du(),{variant:"h6",color:"inherit",id:"top-bar-title"},r)),t&&s().createElement(ne.Grid,{container:!0,item:!0,xs:5,justifyContent:"flex-end"},s().createElement(t,null)))),e)},Nu=(0,Te.defineMessages)({close:{id:"blsq.label.close",defaultMessage:"Close"},copyError:{id:"blsq.snackBar.copyError",defaultMessage:"Copy error"},error:{id:"blsq.snackBar.error",defaultMessage:"An error occurred while saving"}}),Au=function(e){const{messageKey:t,onClick:r}=e,{formatMessage:n}=pt();return s().createElement(ne.Button,{size:"small",onClick:r},n(Nu[t]))},Fu=require("notistack");function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Vu=(0,d.makeStyles)(e=>$u($u({},Ye(e)),{},{tooltip:{marginRight:`${e.spacing()} !important`},textarea:{position:"absolute",top:-5e3,left:-5e3,zIndex:-100},errorMessage:{display:"flex",overflow:"hidden",whiteSpace:"pre-wrap"}})),zu=({errorLog:e=null,id:t=null})=>{const r=Vu(),{formatMessage:n}=pt(),{closeSnackbar:a}=(0,Fu.useSnackbar)();if(!e||""===e)return null;let o;return o="string"==typeof e?e:"ApiError"===(null==e?void 0:e.name)||"Error"===(null==e?void 0:e.name)?JSON.stringify($u($u({},e),{},{message:null==e?void 0:e.message}),null,2):JSON.stringify(e,null,1),s().createElement(s().Fragment,null,s().createElement(ne.Tooltip,{title:s().createElement("pre",{className:r.errorMessage},o),className:r.tooltip,arrow:!0},s().createElement(ne.Button,{onClick:e=>(e=>{navigator.clipboard.writeText(o),e.target.focus()})(e),size:"small",variant:"outlined",color:"inherit"},n(Nu.copyError))),s().createElement(ne.Button,{onClick:()=>a(t),size:"small",variant:"outlined",color:"inherit"},n(Nu.close)),s().createElement("textarea",{onChange:()=>null,className:r.textarea,value:o}))};function Hu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hu(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Yu=()=>{const{formatMessage:e}=pt();return t=>{if(t.messageObject)return"string"==typeof t.messageObject?t.messageObject:t.messageObject.id?e(t.messageObject):(console.error(`Invalid translation message for snackbar ${t.messageObject}`),e(Nu.error));if(t.messageKey){if(Nu[t.messageKey])return e(Nu[t.messageKey]);console.error(`Translation ${t.messageKey} not present in SnackBar messages`)}return e(Nu.error)}},Gu=e=>{const{enqueueSnackbar:t}=(0,Fu.useSnackbar)(),r=Yu();(0,i.useEffect)(()=>{const n=e=>{const n=_u(_u({},null==e?void 0:e.options),{},{key:e.id});e.buttonMessageKey&&e.buttonAction&&(n.action=s().createElement(Au,{messageKey:e.buttonMessageKey,onClick:()=>e.buttonAction&&e.buttonAction()})),e.errorLog&&(n.action=s().createElement(zu,{errorLog:e.errorLog,id:e.id})),t(r(e),n)};return e.addEventListener("snackbar",n),()=>{e.removeEventListener("snackbar",n)}},[t,r])},Wu=require("lodash");function Uu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const Ku=e=>{const t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uu(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(e).forEach(e=>{void 0===t[e]&&delete t[e]}),t};function Ju(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ju(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ju(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Qu=["pageSize","page","order"],Xu=e=>{const t=Zu({},e);return Qu.forEach(e=>{delete t[e]}),t},ed=({baseUrl:e,params:t,searchActive:r,withPagination:n=!0,saveSearchInHistory:a=!0,searchAlwaysEnabled:o=!1,withPathParams:l=!0})=>{const[s,c]=(0,i.useState)(!1),u=ds(),d=ps(),[p,m]=(0,Ie.useSearchParams)(t),[g,b]=(0,i.useState)(Zu({},Xu(t))),f=(0,i.useCallback)(()=>{if(s||o){c(!1);const o=Zu(Zu({},t),g);n&&(o.page="1"),r&&Object.keys(t).includes(r)&&(o[r]="true"),l?a?u(e,o):d(e,o):m(Ku(o))}},[s,o,t,g,n,r,a,u,e,d,l,m]),y=(0,i.useCallback)(e=>{const r=Xu(t);(0,Wu.isEqual)(e,r)||c(!0),(0,Wu.isEqual)(e,r)&&c(!1),b(e)},[t]),h=(0,i.useCallback)((e,t)=>{const r=Zu(Zu({},g),{},{[e]:null!==t?t:void 0});y(r)},[g,y]);return(0,i.useEffect)(()=>{b(Xu(t))},[t]),(0,i.useMemo)(()=>({filters:g,handleChange:h,handleSearch:f,filtersUpdated:s,setFiltersUpdated:c,setFilters:y}),[g,h,f,s,y])},td=({keyValue:e,handleChange:t,initialValue:r=!1})=>{const[n,a]=(0,i.useState)(r),o=(0,i.useCallback)((r,o)=>{t(e,!n),a(o)},[n,t,e]);return(0,i.useMemo)(()=>({handleCheckboxChange:o,checkBoxValue:n}),[n,o])};function rd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}const nd=(e,t)=>{if((0,Wu.isEqual)(t,{}))return t;if(null==t)return t;if(Array.isArray(t))return t;const r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rd(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return Object.keys(t).forEach(n=>{Array.isArray(t[n])||"object"==typeof t[n]?void 0===e[n]?r[n]=t[n]:r[n]=nd(e[n],t[n]):typeof e[n]==typeof t[n]||void 0===e[n]||null===e[n]||void 0===t[n]?r[n]=t[n]:console.error(`Updated value type does not match original type for ${n}: expected ${typeof e[n]}, got ${typeof t[n]}`)}),r},ad=(e,t)=>nd(e,t),od=(e={})=>(0,i.useReducer)(ad,e),ld=(e,t)=>{if("all"===t.index)return Array.isArray(t.value)?t.value:(console.error(`expected value of type "Array", got ${t.value}`),e);const r=[...e];return r.splice(t.index,1,t.value),r},id=(e=[])=>(0,i.useReducer)(ld,e);function sd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sd(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const ud=({params:e,defaultTab:t,baseUrl:r})=>{const n=ps(),[a,o]=(0,i.useState)(t),l=(0,i.useCallback)((t,a)=>{if(r&&e){const t=cd(cd({},e),{},{tab:a});n(r,t)}o(a)},[e,n,r]);return(0,i.useMemo)(()=>({tab:a,setTab:o,handleChangeTab:l}),[l,a])},dd=({keyValue:e,initialValue:t,option:r,filterState:n,valueIsString:a=!1,required:o=!1,disabled:l=!1})=>{var c;const u=(0,i.useCallback)((t,o)=>{var l,i;if(o){const t=n.filters[e]?`${n.filters[e]},${r.value}`:`${r.value}`;n.handleChange(e,t)}else if(a){const t=null===(l=n.filters[e])||void 0===l?void 0:l.split(",").map(e=>e.trim()).filter(e=>e!==r.value).join(",");n.handleChange(e,t||void 0)}else{const t=null===(i=n.filters[e])||void 0===i?void 0:i.split(",").map(e=>e.trim()).filter(e=>parseInt(e,10)!==r.value).join(",");n.handleChange(e,t||void 0)}},[r,n.handleChange,n.filters[e],e]),{checkBoxValue:d,handleCheckboxChange:p}=td({initialValue:t,handleChange:u,keyValue:e});return s().createElement(Ua,{keyValue:e,disabled:l,onChange:t=>p(e,t),value:d,label:null!==(c=r.label)&&void 0!==c?c:"",required:o})},pd=(0,Te.defineMessages)({showMore:{id:"blsq.button.label.showMore",defaultMessage:"Show more"},showLess:{id:"blsq.button.label.showLess",defaultMessage:"Show less"}}),md=({keyValue:e,options:t,isLoading:r,filterState:n,title:a,valueIsString:o=!1,defaultItemCount:l=5})=>{var c;const{formatMessage:u}=pt(),[d,p]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{Boolean(n.filters[e])&&p(!0)},[n.filters[e]]),s().createElement(ne.Grid,{container:!0,mb:2},a&&s().createElement(ne.Grid,{item:!0,xs:12},s().createElement(ne.Typography,{variant:"subtitle1"},a)),r&&s().createElement(h,{fixed:!1,size:30}),(null!=t?t:[]).map((t,a)=>{var i;if(d||a<l)return s().createElement(ne.Grid,{item:!0,xs:12},s().createElement(dd,{keyValue:e,initialValue:(null!==(i=n.filters[e])&&void 0!==i?i:"").split(",").includes(t.value.toString()),disabled:r,option:t,filterState:n,valueIsString:o}))}),!Boolean(n.filters[e])&&(null!==(c=null==t?void 0:t.length)&&void 0!==c?c:0)>l&&s().createElement(ne.Grid,{item:!0,xs:12},s().createElement(ne.Box,{onClick:()=>p(e=>!e)},s().createElement(ne.Typography,{variant:"subtitle2",sx:{color:"primary.main",cursor:"pointer"}},u(d?pd.showLess:pd.showMore)))))};function gd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gd(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const fd=(0,d.makeStyles)(e=>({outlined:{border:`2px dashed ${e.palette.mediumGray.main}`,backgroundColor:e.palette.ligthGray.main,cursor:"pointer"},text:{color:e.palette.mediumGray.main}})),yd=({height:e})=>{const{formatMessage:t}=pt(),r=fd(),n=null!=e?e:"200px";return s().createElement(ne.Paper,{elevation:0,variant:"outlined",classes:{outlined:r.outlined},style:{height:n}},s().createElement(ne.Grid,{container:!0,item:!0,justifyContent:"center",alignItems:"center",style:{height:"100%"}},s().createElement(ne.Typography,{className:r.text},t(no.dropHere))))},hd=({children:e,multi:t=!0,dragZoneHeight:r,onFilesSelect:n=()=>null,accept:a={},disabled:o=!1})=>{const[l,c]=(0,i.useState)(!1),u=(0,i.useCallback)(e=>{o||n(e)},[o,n]),{getRootProps:d,getInputProps:p}=(0,eo.useDropzone)({accept:a,onDrop:u,multiple:t,onDragLeave:()=>{c(!1)},onDragEnter:()=>{c(!0)},onDropAccepted:()=>{c(!1)}}),m=bd(bd({},p()),{},{disabled:o});return s().createElement("div",bd({},d()),s().createElement("input",bd({},m)),!l&&e,l&&s().createElement(yd,{height:r}))},Od=({mutationFn:e,onSuccess:t,onError:r,onCatch:n,convertError:a})=>{const[o,l]=(0,i.useState)({}),[s,c]=(0,i.useState)({});return{payload:s,apiErrors:o,mutation:(0,i.useCallback)((o,i)=>(c(o),e(o,{onSuccess:t,onError:e=>{const t=Object.keys(e.details),n={};t.forEach(t=>{Array.isArray(e.details[t])?n[t]=e.details[t].join(", "):n[t]=e.details[t]});const o=a?a(n):n;i&&(null==i||i.setErrors(o)),l(o),r&&r()}}).catch(e=>{if(e.status>=500)throw e;n&&n()})),[a,e,n,r,t])}},vd=(e,t)=>(0,i.useMemo)(()=>r=>{var n;return{name:`API Errors ${r}`,test:(n,a)=>!(null==e?void 0:e[r])||!(0,Wu.isEqual)(a.originalValue,null==t?void 0:t[r]),message:null!==(n=null==e?void 0:e[r])&&void 0!==n?n:null}},[e,t]),Ed=({formatMessage:e,touched:t,errors:r,messages:n})=>(0,i.useCallback)(a=>{if(!t[a])return[];const o=r[a];return o?[n[o]?e(n[o]):o]:[]},[r,e,n,t]),wd=require("@mui/material/utils");function jd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Pd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jd(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const xd=(0,Te.defineMessages)({noOptionsText:{id:"blsq.asyncSelect.textSearch",defaultMessage:"Text search"},noResultsFound:{id:"blsq.asyncSelect.noResultsFound",defaultMessage:"No results found"}}),Cd=(e,t)=>(null==t?void 0:t.value)?`${e.value}`==`${t.value}`:!!t&&`${e.value}`==`${t}`,kd=({value:e,onChange:t,keyValue:r,label:n,loading:a=!1,loadingText:o,required:l=!1,clearable:c=!1,debounceTime:u=0,disabled:d=!1,multi:p=!1,helperText:m,minCharBeforeQuery:g=1,fetchOptions:b,renderTags:f=hr(e=>(null==e?void 0:e.label)?e.label:"")})=>{const{formatMessage:y}=pt(),[h,O]=(0,i.useState)(""),[v,E]=(0,i.useState)(a),[w,j]=(0,i.useState)(!1),P=(0,i.useMemo)(()=>(0,Wu.isArray)(e)?e:e.length>0?e.split(",").map(e=>({value:e,label:e})):[],[e]),[x,C]=(0,i.useState)([...P]),k=(0,i.useMemo)(()=>(0,wd.debounce)((e,t)=>{E(!0),j(!0),b(e.input).then(e=>{t(e),E(!1)}).catch(()=>{E(!1)})},u),[u,b]);(0,i.useEffect)(()=>{let e=!0;return h.length<g?(C([...P]),void j(!1)):(k({input:h},t=>{if(e){let e=[...P];t&&(e=[...e,...t],e=[...new Map(e.map(e=>[e.value,e])).values()]),C(e)}}),()=>{e=!1})},[P,h,k,g]);const S=(0,i.useMemo)(()=>[...x],[x]),M=w&&0===S.length&&h.length>=g;return s().createElement(ne.Box,null,s().createElement(tr(),{id:r,renderInput:e=>{var t;return s().createElement(ne.TextField,Pd(Pd({},e),{},{id:r,disabled:d,label:y(n),required:l,helperText:m,placeholder:h.length<g&&null!==(t=y(xd.noOptionsText))&&void 0!==t?t:void 0}))},renderTags:f,multiple:p,disabled:d,disableClearable:!c,loading:v,loadingText:o&&h.length>=g?y(o):void 0,options:S,value:p?P:P.length>0&&P[0],getOptionLabel:e=>{var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},filterOptions:e=>e,autoComplete:!0,noOptionsText:M?y(xd.noResultsFound):void 0,includeInputInList:!0,filterSelectedOptions:!0,onChange:(e,n)=>{t(r,n)},onInputChange:(e,t)=>{O(t)},isOptionEqualToValue:Cd,freeSolo:!M}))};function Sd(e,t="/charts"){return Object.keys(e).forEach(r=>{const n=e[r];null!=n&&""!==n&&(t+=`/${r}/${n}`)}),t}function Md(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(r),!0).forEach(function(t){l()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Md(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const Dd=(e,t)=>e.map(e=>"object"==typeof e.label&&"id"in e.label?qd(qd({},e),{},{label:t(e.label)}):e),Td=e=>{const{formatMessage:t}=pt();return Dd(e,t)},Id=e=>e?At().unix(e).format("LTS"):$e;return t})());
//# sourceMappingURL=index.js.map